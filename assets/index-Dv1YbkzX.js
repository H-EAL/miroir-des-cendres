var V3=Object.defineProperty;var bg=e=>{throw TypeError(e)};var j3=(e,t,n)=>t in e?V3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>j3(e,typeof t!="symbol"?t+"":t,n),b_=(e,t,n)=>t.has(e)||bg("Cannot "+n);var p=(e,t,n)=>(b_(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?bg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,a)=>(b_(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),dt=(e,t,n)=>(b_(e,t,"access private method"),n);var Ih=(e,t,n,a)=>({set _(r){W(e,t,r,n)},get _(){return p(e,t,a)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function x0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x_={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function F3(){if(xg)return Tu;xg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:e,type:a,key:c,ref:r!==void 0?r:null,props:l}}return Tu.Fragment=t,Tu.jsx=n,Tu.jsxs=n,Tu}var Eg;function P3(){return Eg||(Eg=1,x_.exports=F3()),x_.exports}var be=P3(),E_={exports:{}},Mu={},w_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Y3(){return wg||(wg=1,function(e){function t(Y,S){var R=Y.length;Y.push(S);t:for(;0<R;){var j=R-1>>>1,O=Y[j];if(0<r(O,S))Y[j]=S,Y[R]=O,R=j;else break t}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var S=Y[0],R=Y.pop();if(R!==S){Y[0]=R;t:for(var j=0,O=Y.length,N=O>>>1;j<N;){var et=2*(j+1)-1,ht=Y[et],ut=et+1,xt=Y[ut];if(0>r(ht,R))ut<O&&0>r(xt,ht)?(Y[j]=xt,Y[ut]=R,j=ut):(Y[j]=ht,Y[et]=R,j=et);else if(ut<O&&0>r(xt,R))Y[j]=xt,Y[ut]=R,j=ut;else break t}}return S}function r(Y,S){var R=Y.sortIndex-S.sortIndex;return R!==0?R:Y.id-S.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var f=[],d=[],_=1,g=null,v=3,b=!1,x=!1,w=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function k(Y){for(var S=n(d);S!==null;){if(S.callback===null)a(d);else if(S.startTime<=Y)a(d),S.sortIndex=S.expirationTime,t(f,S);else break;S=n(d)}}function z(Y){if(w=!1,k(Y),!x)if(n(f)!==null)x=!0,C||(C=!0,st());else{var S=n(d);S!==null&&_t(z,S.startTime-Y)}}var C=!1,L=-1,Q=5,Z=-1;function K(){return E?!0:!(e.unstable_now()-Z<Q)}function at(){if(E=!1,C){var Y=e.unstable_now();Z=Y;var S=!0;try{t:{x=!1,w&&(w=!1,U(L),L=-1),b=!0;var R=v;try{e:{for(k(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&K());){var j=g.callback;if(typeof j=="function"){g.callback=null,v=g.priorityLevel;var O=j(g.expirationTime<=Y);if(Y=e.unstable_now(),typeof O=="function"){g.callback=O,k(Y),S=!0;break e}g===n(f)&&a(f),k(Y)}else a(f);g=n(f)}if(g!==null)S=!0;else{var N=n(d);N!==null&&_t(z,N.startTime-Y),S=!1}}break t}finally{g=null,v=R,b=!1}S=void 0}}finally{S?st():C=!1}}}var st;if(typeof B=="function")st=function(){B(at)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,rt=nt.port2;nt.port1.onmessage=at,st=function(){rt.postMessage(null)}}else st=function(){A(at,0)};function _t(Y,S){L=A(function(){Y(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var S=3;break;default:S=v}var R=v;v=S;try{return Y()}finally{v=R}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(Y,S){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var R=v;v=Y;try{return S()}finally{v=R}},e.unstable_scheduleCallback=function(Y,S,R){var j=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?j+R:j):R=j,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=R+O,Y={id:_++,callback:S,priorityLevel:Y,startTime:R,expirationTime:O,sortIndex:-1},R>j?(Y.sortIndex=R,t(d,Y),n(f)===null&&Y===n(d)&&(w?(U(L),L=-1):w=!0,_t(z,R-j))):(Y.sortIndex=O,t(f,Y),x||b||(x=!0,C||(C=!0,st()))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var S=v;return function(){var R=v;v=S;try{return Y.apply(this,arguments)}finally{v=R}}}}(T_)),T_}var Tg;function X3(){return Tg||(Tg=1,w_.exports=Y3()),w_.exports}var M_={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function G3(){if(Mg)return Ot;Mg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),g=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function E(O,N,et){this.props=O,this.context=N,this.refs=w,this.updater=et||b}E.prototype.isReactComponent={},E.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=E.prototype;function U(O,N,et){this.props=O,this.context=N,this.refs=w,this.updater=et||b}var B=U.prototype=new A;B.constructor=U,x(B,E.prototype),B.isPureReactComponent=!0;var k=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function L(O,N,et,ht,ut,xt){return et=xt.ref,{$$typeof:e,type:O,key:N,ref:et!==void 0?et:null,props:xt}}function Q(O,N){return L(O.type,N,void 0,void 0,void 0,O.props)}function Z(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return N[et]})}var at=/\/+/g;function st(O,N){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):N.toString(36)}function nt(){}function rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(nt,nt):(O.status="pending",O.then(function(N){O.status==="pending"&&(O.status="fulfilled",O.value=N)},function(N){O.status==="pending"&&(O.status="rejected",O.reason=N)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function _t(O,N,et,ht,ut){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var pt=!1;if(O===null)pt=!0;else switch(xt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(O.$$typeof){case e:case t:pt=!0;break;case _:return pt=O._init,_t(pt(O._payload),N,et,ht,ut)}}if(pt)return ut=ut(O),pt=ht===""?"."+st(O,0):ht,k(ut)?(et="",pt!=null&&(et=pt.replace(at,"$&/")+"/"),_t(ut,N,et,"",function(Ze){return Ze})):ut!=null&&(Z(ut)&&(ut=Q(ut,et+(ut.key==null||O&&O.key===ut.key?"":(""+ut.key).replace(at,"$&/")+"/")+pt)),N.push(ut)),1;pt=0;var Se=ht===""?".":ht+":";if(k(O))for(var Pt=0;Pt<O.length;Pt++)ht=O[Pt],xt=Se+st(ht,Pt),pt+=_t(ht,N,et,xt,ut);else if(Pt=v(O),typeof Pt=="function")for(O=Pt.call(O),Pt=0;!(ht=O.next()).done;)ht=ht.value,xt=Se+st(ht,Pt++),pt+=_t(ht,N,et,xt,ut);else if(xt==="object"){if(typeof O.then=="function")return _t(rt(O),N,et,ht,ut);throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return pt}function Y(O,N,et){if(O==null)return O;var ht=[],ut=0;return _t(O,ht,"","",function(xt){return N.call(et,xt,ut++)}),ht}function S(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var R=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function j(){}return Ot.Children={map:Y,forEach:function(O,N,et){Y(O,function(){N.apply(this,arguments)},et)},count:function(O){var N=0;return Y(O,function(){N++}),N},toArray:function(O){return Y(O,function(N){return N})||[]},only:function(O){if(!Z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ot.Component=E,Ot.Fragment=n,Ot.Profiler=r,Ot.PureComponent=U,Ot.StrictMode=a,Ot.Suspense=f,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(O){return z.H.useMemoCache(O)}},Ot.cache=function(O){return function(){return O.apply(null,arguments)}},Ot.cloneElement=function(O,N,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=x({},O.props),ut=O.key,xt=void 0;if(N!=null)for(pt in N.ref!==void 0&&(xt=void 0),N.key!==void 0&&(ut=""+N.key),N)!C.call(N,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&N.ref===void 0||(ht[pt]=N[pt]);var pt=arguments.length-2;if(pt===1)ht.children=et;else if(1<pt){for(var Se=Array(pt),Pt=0;Pt<pt;Pt++)Se[Pt]=arguments[Pt+2];ht.children=Se}return L(O.type,ut,void 0,void 0,xt,ht)},Ot.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ot.createElement=function(O,N,et){var ht,ut={},xt=null;if(N!=null)for(ht in N.key!==void 0&&(xt=""+N.key),N)C.call(N,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(ut[ht]=N[ht]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var Se=Array(pt),Pt=0;Pt<pt;Pt++)Se[Pt]=arguments[Pt+2];ut.children=Se}if(O&&O.defaultProps)for(ht in pt=O.defaultProps,pt)ut[ht]===void 0&&(ut[ht]=pt[ht]);return L(O,xt,void 0,void 0,null,ut)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(O){return{$$typeof:h,render:O}},Ot.isValidElement=Z,Ot.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:S}},Ot.memo=function(O,N){return{$$typeof:d,type:O,compare:N===void 0?null:N}},Ot.startTransition=function(O){var N=z.T,et={};z.T=et;try{var ht=O(),ut=z.S;ut!==null&&ut(et,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(j,R)}catch(xt){R(xt)}finally{z.T=N}},Ot.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ot.use=function(O){return z.H.use(O)},Ot.useActionState=function(O,N,et){return z.H.useActionState(O,N,et)},Ot.useCallback=function(O,N){return z.H.useCallback(O,N)},Ot.useContext=function(O){return z.H.useContext(O)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(O,N){return z.H.useDeferredValue(O,N)},Ot.useEffect=function(O,N,et){var ht=z.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(O,N)},Ot.useId=function(){return z.H.useId()},Ot.useImperativeHandle=function(O,N,et){return z.H.useImperativeHandle(O,N,et)},Ot.useInsertionEffect=function(O,N){return z.H.useInsertionEffect(O,N)},Ot.useLayoutEffect=function(O,N){return z.H.useLayoutEffect(O,N)},Ot.useMemo=function(O,N){return z.H.useMemo(O,N)},Ot.useOptimistic=function(O,N){return z.H.useOptimistic(O,N)},Ot.useReducer=function(O,N,et){return z.H.useReducer(O,N,et)},Ot.useRef=function(O){return z.H.useRef(O)},Ot.useState=function(O){return z.H.useState(O)},Ot.useSyncExternalStore=function(O,N,et){return z.H.useSyncExternalStore(O,N,et)},Ot.useTransition=function(){return z.H.useTransition()},Ot.version="19.1.0",Ot}var Sg;function E0(){return Sg||(Sg=1,M_.exports=G3()),M_.exports}var S_={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Z3(){if(Ag)return Ye;Ag=1;var e=E0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,d,_){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:f,containerInfo:d,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(f,d){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(f,d,null,_)},Ye.flushSync=function(f){var d=c.T,_=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=d,a.p=_,a.d.f()}},Ye.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(f,d))},Ye.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Ye.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var _=d.as,g=h(_,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;_==="style"?a.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):_==="script"&&a.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ye.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var _=h(d.as,d.crossOrigin);a.d.M(f,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(f)},Ye.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var _=d.as,g=h(_,d.crossOrigin);a.d.L(f,_,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ye.preloadModule=function(f,d){if(typeof f=="string")if(d){var _=h(d.as,d.crossOrigin);a.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(f)},Ye.requestFormReset=function(f){a.d.r(f)},Ye.unstable_batchedUpdates=function(f,d){return f(d)},Ye.useFormState=function(f,d,_){return c.H.useFormState(f,d,_)},Ye.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var Og;function h2(){if(Og)return S_.exports;Og=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),S_.exports=Z3(),S_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function Q3(){if(zg)return Mu;zg=1;var e=X3(),t=E0(),n=h2();function a(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(a(188))}function f(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(a(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return h(m),i;if(y===u)return h(m),s;y=y.sibling}throw Error(a(188))}if(o.return!==u.return)o=m,u=y;else{for(var T=!1,M=m.child;M;){if(M===o){T=!0,o=m,u=y;break}if(M===u){T=!0,u=m,o=y;break}M=M.sibling}if(!T){for(M=y.child;M;){if(M===o){T=!0,o=y,u=m;break}if(M===u){T=!0,u=y,o=m;break}M=M.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function st(i){return i===null||typeof i!="object"?null:(i=at&&i[at]||i["@@iterator"],typeof i=="function"?i:null)}var nt=Symbol.for("react.client.reference");function rt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===nt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case z:return"Suspense";case C:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case B:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case k:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return s=i.displayName||null,s!==null?s:rt(i.type)||"Memo";case Q:s=i._payload,i=i._init;try{return rt(i(s))}catch{}}return null}var _t=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},j=[],O=-1;function N(i){return{current:i}}function et(i){0>O||(i.current=j[O],j[O]=null,O--)}function ht(i,s){O++,j[O]=i.current,i.current=s}var ut=N(null),xt=N(null),pt=N(null),Se=N(null);function Pt(i,s){switch(ht(pt,s),ht(xt,i),ht(ut,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Qy(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Qy(s),i=$y(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ut),ht(ut,i)}function Ze(){et(ut),et(xt),et(pt)}function Ln(i){i.memoizedState!==null&&ht(Se,i);var s=ut.current,o=$y(s,i.type);s!==o&&(ht(xt,i),ht(ut,o))}function ti(i){xt.current===i&&(et(ut),et(xt)),Se.current===i&&(et(Se),vu._currentValue=R)}var gi=Object.prototype.hasOwnProperty,vi=e.unstable_scheduleCallback,bi=e.unstable_cancelCallback,ei=e.unstable_shouldYield,Vi=e.unstable_requestPaint,an=e.unstable_now,Ol=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,Nn=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,ws=e.unstable_LowPriority,Ta=e.unstable_IdlePriority,ji=e.log,pn=e.unstable_setDisableYieldValue,kn=null,Ee=null;function $t(i){if(typeof ji=="function"&&pn(i),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(kn,i)}catch{}}var Qe=Math.clz32?Math.clz32:dd,Ma=Math.log,fd=Math.LN2;function dd(i){return i>>>=0,i===0?32:31-(Ma(i)/fd|0)|0}var Ts=256,Ms=4194304;function Fi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mr(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var M=u&134217727;return M!==0?(u=M&~y,u!==0?m=Fi(u):(T&=M,T!==0?m=Fi(T):o||(o=M&~i,o!==0&&(m=Fi(o))))):(M=u&~y,M!==0?m=Fi(M):T!==0?m=Fi(T):o||(o=u&~i,o!==0&&(m=Fi(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function Sa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _r(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(){var i=Ts;return Ts<<=1,(Ts&4194048)===0&&(Ts=256),i}function pr(){var i=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),i}function zl(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Fe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pi(i,s,o,u,m,y){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var M=i.entanglements,D=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var it=31-Qe(o),ct=1<<it;M[it]=0,D[it]=-1;var $=G[it];if($!==null)for(G[it]=null,it=0;it<$.length;it++){var I=$[it];I!==null&&(I.lane&=-536870913)}o&=~ct}u!==0&&Rl(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~s))}function Rl(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Qe(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function yr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Qe(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function Cl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ft(){var i=S.p;return i!==0?i:(i=window.event,i===void 0?32:mg(i.type))}function Ct(i,s){var o=S.p;try{return S.p=i,s()}finally{S.p=o}}var vt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+vt,Ht="__reactProps$"+vt,ne="__reactContainer$"+vt,De="__reactEvents$"+vt,yn="__reactListeners$"+vt,gn="__reactHandles$"+vt,sn="__reactResources$"+vt,ni="__reactMarker$"+vt;function Xt(i){delete i[Nt],delete i[Ht],delete i[De],delete i[yn],delete i[gn]}function Kt(i){var s=i[Nt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ne]||o[Nt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Wy(i);i!==null;){if(o=i[Nt])return o;i=Wy(i)}return s}i=o,o=i.parentNode}return null}function Bn(i){if(i=i[Nt]||i[ne]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ue(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(a(33))}function $e(i){var s=i[sn];return s||(s=i[sn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function re(i){i[ni]=!0}var vn=new Set,Aa={};function Ss(i,s){gr(i,s),gr(i+"Capture",s)}function gr(i,s){for(Aa[i]=s,i=0;i<s.length;i++)vn.add(s[i])}var DE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H0={},V0={};function UE(i){return gi.call(V0,i)?!0:gi.call(H0,i)?!1:DE.test(i)?V0[i]=!0:(H0[i]=!0,!1)}function jc(i,s,o){if(UE(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Fc(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Yi(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var md,j0;function vr(i){if(md===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);md=s&&s[1]||"",j0=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+md+i+j0}var _d=!1;function pd(i,s){if(!i||_d)return"";_d=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(I){var $=I}Reflect.construct(i,[],ct)}else{try{ct.call()}catch(I){$=I}i.call(ct.prototype)}}else{try{throw Error()}catch(I){$=I}(ct=i())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(I){if(I&&$&&typeof I.stack=="string")return[I.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],M=y[1];if(T&&M){var D=T.split(`
`),G=M.split(`
`);for(m=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===D.length||m===G.length)for(u=D.length-1,m=G.length-1;1<=u&&0<=m&&D[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(D[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||D[u]!==G[m]){var it=`
`+D[u].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=u&&0<=m);break}}}finally{_d=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?vr(o):""}function LE(i){switch(i.tag){case 26:case 27:case 5:return vr(i.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return pd(i.type,!1);case 11:return pd(i.type.render,!1);case 1:return pd(i.type,!0);case 31:return vr("Activity");default:return""}}function F0(i){try{var s="";do s+=LE(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function P0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function NE(i){var s=P0(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pc(i){i._valueTracker||(i._valueTracker=NE(i))}function Y0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=P0(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Yc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var qE=/[\n"\\]/g;function Vn(i){return i.replace(qE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yd(i,s,o,u,m,y,T,M){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Hn(s)):i.value!==""+Hn(s)&&(i.value=""+Hn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?gd(i,T,Hn(s)):o!=null?gd(i,T,Hn(o)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Hn(M):i.removeAttribute("name")}function X0(i,s,o,u,m,y,T,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Hn(o):"",s=s!=null?""+Hn(s):o,M||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=M?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function gd(i,s,o){s==="number"&&Yc(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function br(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Hn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function G0(i,s,o){if(s!=null&&(s=""+Hn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Hn(o):""}function Z0(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(_t(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Hn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function xr(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var kE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q0(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||kE.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function $0(i,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Q0(i,m,u)}else for(var y in s)s.hasOwnProperty(y)&&Q0(i,y,s[y])}function vd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xc(i){return HE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var bd=null;function xd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,wr=null;function K0(i){var s=Bn(i);if(s&&(i=s.stateNode)){var o=i[Ht]||null;t:switch(i=s.stateNode,s.type){case"input":if(yd(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[Ht]||null;if(!m)throw Error(a(90));yd(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Y0(u)}break t;case"textarea":G0(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&br(i,!!o.multiple,s,!1)}}}var Ed=!1;function I0(i,s,o){if(Ed)return i(s,o);Ed=!0;try{var u=i(s);return u}finally{if(Ed=!1,(Er!==null||wr!==null)&&(Rh(),Er&&(s=Er,i=wr,wr=Er=null,K0(s),i)))for(s=0;s<i.length;s++)K0(i[s])}}function Dl(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=!1;if(Xi)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){wd=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{wd=!1}var Oa=null,Td=null,Gc=null;function J0(){if(Gc)return Gc;var i,s=Td,o=s.length,u,m="value"in Oa?Oa.value:Oa.textContent,y=m.length;for(i=0;i<o&&s[i]===m[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===m[y-u];u++);return Gc=m.slice(i,1<u?1-u:void 0)}function Zc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qc(){return!0}function W0(){return!1}function rn(i){function s(o,u,m,y,T){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(o=i[M],this[M]=o?o(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qc:W0,this.isPropagationStopped=W0,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),s}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=rn(As),Ll=_({},As,{view:0,detail:0}),VE=rn(Ll),Md,Sd,Nl,Kc=_({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Nl&&(Nl&&i.type==="mousemove"?(Md=i.screenX-Nl.screenX,Sd=i.screenY-Nl.screenY):Sd=Md=0,Nl=i),Md)},movementY:function(i){return"movementY"in i?i.movementY:Sd}}),tp=rn(Kc),jE=_({},Kc,{dataTransfer:0}),FE=rn(jE),PE=_({},Ll,{relatedTarget:0}),Ad=rn(PE),YE=_({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),XE=rn(YE),GE=_({},As,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ZE=rn(GE),QE=_({},As,{data:0}),ep=rn(QE),$E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JE(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=IE[i])?!!s[i]:!1}function Od(){return JE}var WE=_({},Ll,{key:function(i){if(i.key){var s=$E[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?KE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(i){return i.type==="keypress"?Zc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tw=rn(WE),ew=_({},Kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=rn(ew),nw=_({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),iw=rn(nw),aw=_({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),sw=rn(aw),rw=_({},Kc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=rn(rw),lw=_({},As,{newState:0,oldState:0}),uw=rn(lw),cw=[9,13,27,32],zd=Xi&&"CompositionEvent"in window,ql=null;Xi&&"documentMode"in document&&(ql=document.documentMode);var hw=Xi&&"TextEvent"in window&&!ql,ip=Xi&&(!zd||ql&&8<ql&&11>=ql),ap=" ",sp=!1;function rp(i,s){switch(i){case"keyup":return cw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Tr=!1;function fw(i,s){switch(i){case"compositionend":return op(s);case"keypress":return s.which!==32?null:(sp=!0,ap);case"textInput":return i=s.data,i===ap&&sp?null:i;default:return null}}function dw(i,s){if(Tr)return i==="compositionend"||!zd&&rp(i,s)?(i=J0(),Gc=Td=Oa=null,Tr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ip&&s.locale!=="ko"?null:s.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!mw[i.type]:s==="textarea"}function up(i,s,o,u){Er?wr?wr.push(u):wr=[u]:Er=u,s=qh(s,"onChange"),0<s.length&&(o=new $c("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var kl=null,Bl=null;function _w(i){Py(i,0)}function Ic(i){var s=Ue(i);if(Y0(s))return i}function cp(i,s){if(i==="change")return s}var hp=!1;if(Xi){var Rd;if(Xi){var Cd="oninput"in document;if(!Cd){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Cd=typeof fp.oninput=="function"}Rd=Cd}else Rd=!1;hp=Rd&&(!document.documentMode||9<document.documentMode)}function dp(){kl&&(kl.detachEvent("onpropertychange",mp),Bl=kl=null)}function mp(i){if(i.propertyName==="value"&&Ic(Bl)){var s=[];up(s,Bl,i,xd(i)),I0(_w,s)}}function pw(i,s,o){i==="focusin"?(dp(),kl=s,Bl=o,kl.attachEvent("onpropertychange",mp)):i==="focusout"&&dp()}function yw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ic(Bl)}function gw(i,s){if(i==="click")return Ic(s)}function vw(i,s){if(i==="input"||i==="change")return Ic(s)}function bw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:bw;function Hl(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!gi.call(s,m)||!bn(i[m],s[m]))return!1}return!0}function _p(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pp(i,s){var o=_p(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=_p(o)}}function yp(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?yp(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Yc(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Yc(i.document)}return s}function Dd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xw=Xi&&"documentMode"in document&&11>=document.documentMode,Mr=null,Ud=null,Vl=null,Ld=!1;function vp(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ld||Mr==null||Mr!==Yc(u)||(u=Mr,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&Hl(Vl,u)||(Vl=u,u=qh(Ud,"onSelect"),0<u.length&&(s=new $c("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Mr)))}function Os(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Sr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Nd={},bp={};Xi&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function zs(i){if(Nd[i])return Nd[i];if(!Sr[i])return i;var s=Sr[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in bp)return Nd[i]=s[o];return i}var xp=zs("animationend"),Ep=zs("animationiteration"),wp=zs("animationstart"),Ew=zs("transitionrun"),ww=zs("transitionstart"),Tw=zs("transitioncancel"),Tp=zs("transitionend"),Mp=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function ii(i,s){Mp.set(i,s),Ss(s,[i])}var Sp=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var o=Sp.get(i);return o!==void 0?o:(s={value:i,source:s,stack:F0(s)},Sp.set(i,s),s)}return{value:i,source:s,stack:F0(s)}}var Fn=[],Ar=0,kd=0;function Jc(){for(var i=Ar,s=kd=Ar=0;s<i;){var o=Fn[s];Fn[s++]=null;var u=Fn[s];Fn[s++]=null;var m=Fn[s];Fn[s++]=null;var y=Fn[s];if(Fn[s++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}y!==0&&Ap(o,m,y)}}function Wc(i,s,o,u){Fn[Ar++]=i,Fn[Ar++]=s,Fn[Ar++]=o,Fn[Ar++]=u,kd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Bd(i,s,o,u){return Wc(i,s,o,u),th(i)}function Or(i,s){return Wc(i,null,null,s),th(i)}function Ap(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-Qe(o),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=o|536870912),y):null}function th(i){if(50<hu)throw hu=0,Ym=null,Error(a(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var zr={};function Mw(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,s,o,u){return new Mw(i,s,o,u)}function Hd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,s){var o=i.alternate;return o===null?(o=xn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Op(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function eh(i,s,o,u,m,y){var T=0;if(u=i,typeof i=="function")Hd(i)&&(T=1);else if(typeof i=="string")T=A3(i,o,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case Z:return i=xn(31,o,s,m),i.elementType=Z,i.lanes=y,i;case x:return Rs(o.children,m,y,s);case w:T=8,m|=24;break;case E:return i=xn(12,o,s,m|2),i.elementType=E,i.lanes=y,i;case z:return i=xn(13,o,s,m),i.elementType=z,i.lanes=y,i;case C:return i=xn(19,o,s,m),i.elementType=C,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case B:T=10;break t;case U:T=9;break t;case k:T=11;break t;case L:T=14;break t;case Q:T=16,u=null;break t}T=29,o=Error(a(130,i===null?"null":typeof i,"")),u=null}return s=xn(T,o,s,m),s.elementType=i,s.type=u,s.lanes=y,s}function Rs(i,s,o,u){return i=xn(7,i,u,s),i.lanes=o,i}function Vd(i,s,o){return i=xn(6,i,null,s),i.lanes=o,i}function jd(i,s,o){return s=xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Rr=[],Cr=0,nh=null,ih=0,Pn=[],Yn=0,Cs=null,Zi=1,Qi="";function Ds(i,s){Rr[Cr++]=ih,Rr[Cr++]=nh,nh=i,ih=s}function zp(i,s,o){Pn[Yn++]=Zi,Pn[Yn++]=Qi,Pn[Yn++]=Cs,Cs=i;var u=Zi;i=Qi;var m=32-Qe(u)-1;u&=~(1<<m),o+=1;var y=32-Qe(s)+m;if(30<y){var T=m-m%5;y=(u&(1<<T)-1).toString(32),u>>=T,m-=T,Zi=1<<32-Qe(s)+m|o<<m|u,Qi=y+i}else Zi=1<<y|o<<m|u,Qi=i}function Fd(i){i.return!==null&&(Ds(i,1),zp(i,1,0))}function Pd(i){for(;i===nh;)nh=Rr[--Cr],Rr[Cr]=null,ih=Rr[--Cr],Rr[Cr]=null;for(;i===Cs;)Cs=Pn[--Yn],Pn[Yn]=null,Qi=Pn[--Yn],Pn[Yn]=null,Zi=Pn[--Yn],Pn[Yn]=null}var Ke=null,ce=null,Ft=!1,Us=null,xi=!1,Yd=Error(a(519));function Ls(i){var s=Error(a(418,""));throw Pl(jn(s,i)),Yd}function Rp(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Nt]=i,s[Ht]=u,o){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(o=0;o<du.length;o++)kt(du[o],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),X0(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Pc(s);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),Z0(s,u.value,u.defaultValue,u.children),Pc(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Zy(s.textContent,o)?(u.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),u.onScroll!=null&&kt("scroll",s),u.onScrollEnd!=null&&kt("scrollend",s),u.onClick!=null&&(s.onclick=kh),s=!0):s=!1,s||Ls(i)}function Cp(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Ke=Ke.return}}function jl(i){if(i!==Ke)return!1;if(!Ft)return Cp(i),Ft=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||r_(i.type,i.memoizedProps)),o=!o),o&&ce&&Ls(i),Cp(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){ce=si(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}ce=null}}else s===27?(s=ce,Ya(i.type)?(i=c_,c_=null,ce=i):ce=s):ce=Ke?si(i.stateNode.nextSibling):null;return!0}function Fl(){ce=Ke=null,Ft=!1}function Dp(){var i=Us;return i!==null&&(un===null?un=i:un.push.apply(un,i),Us=null),i}function Pl(i){Us===null?Us=[i]:Us.push(i)}var Xd=N(null),Ns=null,$i=null;function za(i,s,o){ht(Xd,s._currentValue),s._currentValue=o}function Ki(i){i._currentValue=Xd.current,et(Xd)}function Gd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Zd(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;t:for(;y!==null;){var M=y;y=m;for(var D=0;D<s.length;D++)if(M.context===s[D]){y.lanes|=o,M=y.alternate,M!==null&&(M.lanes|=o),Gd(y.return,o,i),u||(T=null);break t}y=M.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Gd(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Yl(i,s,o,u){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=m.type;bn(m.pendingProps.value,T.value)||(i!==null?i.push(M):i=[M])}}else if(m===Se.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}m=m.return}i!==null&&Zd(s,i,o,u),s.flags|=262144}function ah(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qs(i){Ns=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Pe(i){return Up(Ns,i)}function sh(i,s){return Ns===null&&qs(i),Up(i,s)}function Up(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},$i===null){if(i===null)throw Error(a(308));$i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else $i=$i.next=s;return o}var Sw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Aw=e.unstable_scheduleCallback,Ow=e.unstable_NormalPriority,Ae={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new Sw,data:new Map,refCount:0}}function Xl(i){i.refCount--,i.refCount===0&&Aw(Ow,function(){i.controller.abort()})}var Gl=null,$d=0,Dr=0,Ur=null;function zw(i,s){if(Gl===null){var o=Gl=[];$d=0,Dr=Im(),Ur={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $d++,s.then(Lp,Lp),s}function Lp(){if(--$d===0&&Gl!==null){Ur!==null&&(Ur.status="fulfilled");var i=Gl;Gl=null,Dr=0,Ur=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Rw(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Np=Y.S;Y.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&zw(i,s),Np!==null&&Np(i,s)};var ks=N(null);function Kd(){var i=ks.current;return i!==null?i:ie.pooledCache}function rh(i,s){s===null?ht(ks,ks.current):ht(ks,s.pool)}function qp(){var i=Kd();return i===null?null:{parent:Ae._currentValue,pool:i}}var Zl=Error(a(460)),kp=Error(a(474)),oh=Error(a(542)),Id={then:function(){}};function Bp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function lh(){}function Hp(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(lh,lh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jp(i),i;default:if(typeof s.status=="string")s.then(lh,lh);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jp(i),i}throw Ql=s,Zl}}var Ql=null;function Vp(){if(Ql===null)throw Error(a(459));var i=Ql;return Ql=null,i}function jp(i){if(i===Zl||i===oh)throw Error(a(483))}var Ra=!1;function Jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ca(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Da(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=th(i),Ap(i,null,o),s}return Wc(i,u,s,o),th(i)}function $l(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yr(i,o)}}function tm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var em=!1;function Kl(){if(em){var i=Ur;if(i!==null)throw i}}function Il(i,s,o,u){em=!1;var m=i.updateQueue;Ra=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var D=M,G=D.next;D.next=null,T===null?y=G:T.next=G,T=D;var it=i.alternate;it!==null&&(it=it.updateQueue,M=it.lastBaseUpdate,M!==T&&(M===null?it.firstBaseUpdate=G:M.next=G,it.lastBaseUpdate=D))}if(y!==null){var ct=m.baseState;T=0,it=G=D=null,M=y;do{var $=M.lane&-536870913,I=$!==M.lane;if(I?(Bt&$)===$:(u&$)===$){$!==0&&$===Dr&&(em=!0),it!==null&&(it=it.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Mt=i,Et=M;$=s;var Wt=o;switch(Et.tag){case 1:if(Mt=Et.payload,typeof Mt=="function"){ct=Mt.call(Wt,ct,$);break t}ct=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Et.payload,$=typeof Mt=="function"?Mt.call(Wt,ct,$):Mt,$==null)break t;ct=_({},ct,$);break t;case 2:Ra=!0}}$=M.callback,$!==null&&(i.flags|=64,I&&(i.flags|=8192),I=m.callbacks,I===null?m.callbacks=[$]:I.push($))}else I={lane:$,tag:M.tag,payload:M.payload,callback:M.callback,next:null},it===null?(G=it=I,D=ct):it=it.next=I,T|=$;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;I=M,M=I.next,I.next=null,m.lastBaseUpdate=I,m.shared.pending=null}}while(!0);it===null&&(D=ct),m.baseState=D,m.firstBaseUpdate=G,m.lastBaseUpdate=it,y===null&&(m.shared.lanes=0),Va|=T,i.lanes=T,i.memoizedState=ct}}function Fp(i,s){if(typeof i!="function")throw Error(a(191,i));i.call(s)}function Pp(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Fp(o[i],s)}var Lr=N(null),uh=N(0);function Yp(i,s){i=ia,ht(uh,i),ht(Lr,s),ia=i|s.baseLanes}function nm(){ht(uh,ia),ht(Lr,Lr.current)}function im(){ia=uh.current,et(Lr),et(uh)}var Ua=0,Rt=null,It=null,we=null,ch=!1,Nr=!1,Bs=!1,hh=0,Jl=0,qr=null,Cw=0;function _e(){throw Error(a(321))}function am(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!bn(i[o],s[o]))return!1;return!0}function sm(i,s,o,u,m,y){return Ua=y,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?A1:O1,Bs=!1,y=o(u,m),Bs=!1,Nr&&(y=Gp(s,o,u,m)),Xp(i),y}function Xp(i){Y.H=yh;var s=It!==null&&It.next!==null;if(Ua=0,we=It=Rt=null,ch=!1,Jl=0,qr=null,s)throw Error(a(300));i===null||Le||(i=i.dependencies,i!==null&&ah(i)&&(Le=!0))}function Gp(i,s,o,u){Rt=i;var m=0;do{if(Nr&&(qr=null),Jl=0,Nr=!1,25<=m)throw Error(a(301));if(m+=1,we=It=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=Bw,y=s(o,u)}while(Nr);return y}function Dw(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Wl(s):s,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(Rt.flags|=1024),s}function rm(){var i=hh!==0;return hh=0,i}function om(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function lm(i){if(ch){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ch=!1}Ua=0,we=It=Rt=null,Nr=!1,Jl=hh=0,qr=null}function on(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Rt.memoizedState=we=i:we=we.next=i,we}function Te(){if(It===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var s=we===null?Rt.memoizedState:we.next;if(s!==null)we=s,It=i;else{if(i===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},we===null?Rt.memoizedState=we=i:we=we.next=i}return we}function um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var s=Jl;return Jl+=1,qr===null&&(qr=[]),i=Hp(qr,i,s),s=Rt,(we===null?s.memoizedState:we.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?A1:O1),i}function fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===B)return Pe(i)}throw Error(a(438,String(i)))}function cm(i){var s=null,o=Rt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=um(),Rt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=K;return s.index++,o}function Ii(i,s){return typeof s=="function"?s(i):s}function dh(i){var s=Te();return hm(s,It,i)}function hm(i,s,o){var u=i.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}s.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var M=T=null,D=null,G=s,it=!1;do{var ct=G.lane&-536870913;if(ct!==G.lane?(Bt&ct)===ct:(Ua&ct)===ct){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ct===Dr&&(it=!0);else if((Ua&$)===$){G=G.next,$===Dr&&(it=!0);continue}else ct={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(M=D=ct,T=y):D=D.next=ct,Rt.lanes|=$,Va|=$;ct=G.action,Bs&&o(y,ct),y=G.hasEagerState?G.eagerState:o(y,ct)}else $={lane:ct,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(M=D=$,T=y):D=D.next=$,Rt.lanes|=ct,Va|=ct;G=G.next}while(G!==null&&G!==s);if(D===null?T=y:D.next=M,!bn(y,i.memoizedState)&&(Le=!0,it&&(o=Ur,o!==null)))throw o;i.memoizedState=y,i.baseState=T,i.baseQueue=D,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function fm(i){var s=Te(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);bn(y,s.memoizedState)||(Le=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Zp(i,s,o){var u=Rt,m=Te(),y=Ft;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var T=!bn((It||m).memoizedState,o);T&&(m.memoizedState=o,Le=!0),m=m.queue;var M=Kp.bind(null,u,m,i);if(tu(2048,8,M,[i]),m.getSnapshot!==s||T||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,kr(9,mh(),$p.bind(null,u,m,o,s),null),ie===null)throw Error(a(349));y||(Ua&124)!==0||Qp(u,s,o)}return o}function Qp(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Rt.updateQueue,s===null?(s=um(),Rt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function $p(i,s,o,u){s.value=o,s.getSnapshot=u,Ip(s)&&Jp(i)}function Kp(i,s,o){return o(function(){Ip(s)&&Jp(i)})}function Ip(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!bn(i,o)}catch{return!0}}function Jp(i){var s=Or(i,2);s!==null&&Sn(s,i,2)}function dm(i){var s=on();if(typeof i=="function"){var o=i;if(i=o(),Bs){$t(!0);try{o()}finally{$t(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:i},s}function Wp(i,s,o,u){return i.baseState=o,hm(i,It,typeof u=="function"?u:Ii)}function Uw(i,s,o,u,m){if(ph(i))throw Error(a(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};Y.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,t1(s,y)):(y.next=o.next,s.pending=o.next=y)}}function t1(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var y=Y.T,T={};Y.T=T;try{var M=o(m,u),D=Y.S;D!==null&&D(T,M),e1(i,s,M)}catch(G){mm(i,s,G)}finally{Y.T=y}}else try{y=o(m,u),e1(i,s,y)}catch(G){mm(i,s,G)}}function e1(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){n1(i,s,u)},function(u){return mm(i,s,u)}):n1(i,s,o)}function n1(i,s,o){s.status="fulfilled",s.value=o,i1(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,t1(i,o)))}function mm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,i1(s),s=s.next;while(s!==u)}i.action=null}function i1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function a1(i,s){return s}function s1(i,s){if(Ft){var o=ie.formState;if(o!==null){t:{var u=Rt;if(Ft){if(ce){e:{for(var m=ce,y=xi;m.nodeType!==8;){if(!y){m=null;break e}if(m=si(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ce=si(m.nextSibling),u=m.data==="F!";break t}}Ls(u)}u=!1}u&&(s=o[0])}}return o=on(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a1,lastRenderedState:s},o.queue=u,o=T1.bind(null,Rt,u),u.dispatch=o,u=dm(!1),y=vm.bind(null,Rt,!1,u.queue),u=on(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=Uw.bind(null,Rt,m,y,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function r1(i){var s=Te();return o1(s,It,i)}function o1(i,s,o){if(s=hm(i,s,a1)[0],i=dh(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Wl(s)}catch(T){throw T===Zl?oh:T}else u=s;s=Te();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(Rt.flags|=2048,kr(9,mh(),Lw.bind(null,m,o),null)),[u,y,i]}function Lw(i,s){i.action=s}function l1(i){var s=Te(),o=It;if(o!==null)return o1(s,o,i);Te(),s=s.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function kr(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=um(),Rt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function mh(){return{destroy:void 0,resource:void 0}}function u1(){return Te().memoizedState}function _h(i,s,o,u){var m=on();u=u===void 0?null:u,Rt.flags|=i,m.memoizedState=kr(1|s,mh(),o,u)}function tu(i,s,o,u){var m=Te();u=u===void 0?null:u;var y=m.memoizedState.inst;It!==null&&u!==null&&am(u,It.memoizedState.deps)?m.memoizedState=kr(s,y,o,u):(Rt.flags|=i,m.memoizedState=kr(1|s,y,o,u))}function c1(i,s){_h(8390656,8,i,s)}function h1(i,s){tu(2048,8,i,s)}function f1(i,s){return tu(4,2,i,s)}function d1(i,s){return tu(4,4,i,s)}function m1(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function _1(i,s,o){o=o!=null?o.concat([i]):null,tu(4,4,m1.bind(null,s,i),o)}function _m(){}function p1(i,s){var o=Te();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&am(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function y1(i,s){var o=Te();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&am(s,u[1]))return u[0];if(u=i(),Bs){$t(!0);try{i()}finally{$t(!1)}}return o.memoizedState=[u,s],u}function pm(i,s,o){return o===void 0||(Ua&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=by(),Rt.lanes|=i,Va|=i,o)}function g1(i,s,o,u){return bn(o,s)?o:Lr.current!==null?(i=pm(i,o,u),bn(i,s)||(Le=!0),i):(Ua&42)===0?(Le=!0,i.memoizedState=o):(i=by(),Rt.lanes|=i,Va|=i,s)}function v1(i,s,o,u,m){var y=S.p;S.p=y!==0&&8>y?y:8;var T=Y.T,M={};Y.T=M,vm(i,!1,s,o);try{var D=m(),G=Y.S;if(G!==null&&G(M,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var it=Rw(D,u);eu(i,s,it,Mn(i))}else eu(i,s,u,Mn(i))}catch(ct){eu(i,s,{then:function(){},status:"rejected",reason:ct},Mn())}finally{S.p=y,Y.T=T}}function Nw(){}function ym(i,s,o,u){if(i.tag!==5)throw Error(a(476));var m=b1(i).queue;v1(i,m,s,R,o===null?Nw:function(){return x1(i),o(u)})}function b1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:R},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function x1(i){var s=b1(i).next.queue;eu(i,s,{},Mn())}function gm(){return Pe(vu)}function E1(){return Te().memoizedState}function w1(){return Te().memoizedState}function qw(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mn();i=Ca(o);var u=Da(s,i,o);u!==null&&(Sn(u,s,o),$l(u,s,o)),s={cache:Qd()},i.payload=s;return}s=s.return}}function kw(i,s,o){var u=Mn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?M1(s,o):(o=Bd(i,s,o,u),o!==null&&(Sn(o,i,u),S1(o,s,u)))}function T1(i,s,o){var u=Mn();eu(i,s,o,u)}function eu(i,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))M1(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,M=y(T,o);if(m.hasEagerState=!0,m.eagerState=M,bn(M,T))return Wc(i,s,m,0),ie===null&&Jc(),!1}catch{}finally{}if(o=Bd(i,s,m,u),o!==null)return Sn(o,i,u),S1(o,s,u),!0}return!1}function vm(i,s,o,u){if(u={lane:2,revertLane:Im(),action:u,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(s)throw Error(a(479))}else s=Bd(i,o,u,2),s!==null&&Sn(s,i,2)}function ph(i){var s=i.alternate;return i===Rt||s!==null&&s===Rt}function M1(i,s){Nr=ch=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function S1(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yr(i,o)}}var yh={readContext:Pe,use:fh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},A1={readContext:Pe,use:fh,useCallback:function(i,s){return on().memoizedState=[i,s===void 0?null:s],i},useContext:Pe,useEffect:c1,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,_h(4194308,4,m1.bind(null,s,i),o)},useLayoutEffect:function(i,s){return _h(4194308,4,i,s)},useInsertionEffect:function(i,s){_h(4,2,i,s)},useMemo:function(i,s){var o=on();s=s===void 0?null:s;var u=i();if(Bs){$t(!0);try{i()}finally{$t(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=on();if(o!==void 0){var m=o(s);if(Bs){$t(!0);try{o(s)}finally{$t(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=kw.bind(null,Rt,i),[u.memoizedState,i]},useRef:function(i){var s=on();return i={current:i},s.memoizedState=i},useState:function(i){i=dm(i);var s=i.queue,o=T1.bind(null,Rt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:_m,useDeferredValue:function(i,s){var o=on();return pm(o,i,s)},useTransition:function(){var i=dm(!1);return i=v1.bind(null,Rt,i.queue,!0,!1),on().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Rt,m=on();if(Ft){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),ie===null)throw Error(a(349));(Bt&124)!==0||Qp(u,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,c1(Kp.bind(null,u,y,i),[i]),u.flags|=2048,kr(9,mh(),$p.bind(null,u,y,o,s),null),o},useId:function(){var i=on(),s=ie.identifierPrefix;if(Ft){var o=Qi,u=Zi;o=(u&~(1<<32-Qe(u)-1)).toString(32)+o,s=""+s+"R"+o,o=hh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=Cw++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:gm,useFormState:s1,useActionState:s1,useOptimistic:function(i){var s=on();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=vm.bind(null,Rt,!0,o),o.dispatch=s,[i,s]},useMemoCache:cm,useCacheRefresh:function(){return on().memoizedState=qw.bind(null,Rt)}},O1={readContext:Pe,use:fh,useCallback:p1,useContext:Pe,useEffect:h1,useImperativeHandle:_1,useInsertionEffect:f1,useLayoutEffect:d1,useMemo:y1,useReducer:dh,useRef:u1,useState:function(){return dh(Ii)},useDebugValue:_m,useDeferredValue:function(i,s){var o=Te();return g1(o,It.memoizedState,i,s)},useTransition:function(){var i=dh(Ii)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:Wl(i),s]},useSyncExternalStore:Zp,useId:E1,useHostTransitionStatus:gm,useFormState:r1,useActionState:r1,useOptimistic:function(i,s){var o=Te();return Wp(o,It,i,s)},useMemoCache:cm,useCacheRefresh:w1},Bw={readContext:Pe,use:fh,useCallback:p1,useContext:Pe,useEffect:h1,useImperativeHandle:_1,useInsertionEffect:f1,useLayoutEffect:d1,useMemo:y1,useReducer:fm,useRef:u1,useState:function(){return fm(Ii)},useDebugValue:_m,useDeferredValue:function(i,s){var o=Te();return It===null?pm(o,i,s):g1(o,It.memoizedState,i,s)},useTransition:function(){var i=fm(Ii)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:Wl(i),s]},useSyncExternalStore:Zp,useId:E1,useHostTransitionStatus:gm,useFormState:l1,useActionState:l1,useOptimistic:function(i,s){var o=Te();return It!==null?Wp(o,It,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:cm,useCacheRefresh:w1},Br=null,nu=0;function gh(i){var s=nu;return nu+=1,Br===null&&(Br=[]),Hp(Br,i,s)}function iu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vh(i,s){throw s.$$typeof===g?Error(a(525)):(i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function z1(i){var s=i._init;return s(i._payload)}function R1(i){function s(F,V){if(i){var X=F.deletions;X===null?(F.deletions=[V],F.flags|=16):X.push(V)}}function o(F,V){if(!i)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function u(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function m(F,V){return F=Gi(F,V),F.index=0,F.sibling=null,F}function y(F,V,X){return F.index=X,i?(X=F.alternate,X!==null?(X=X.index,X<V?(F.flags|=67108866,V):X):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function M(F,V,X,ot){return V===null||V.tag!==6?(V=Vd(X,F.mode,ot),V.return=F,V):(V=m(V,X),V.return=F,V)}function D(F,V,X,ot){var yt=X.type;return yt===x?it(F,V,X.props.children,ot,X.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Q&&z1(yt)===V.type)?(V=m(V,X.props),iu(V,X),V.return=F,V):(V=eh(X.type,X.key,X.props,null,F.mode,ot),iu(V,X),V.return=F,V)}function G(F,V,X,ot){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=jd(X,F.mode,ot),V.return=F,V):(V=m(V,X.children||[]),V.return=F,V)}function it(F,V,X,ot,yt){return V===null||V.tag!==7?(V=Rs(X,F.mode,ot,yt),V.return=F,V):(V=m(V,X),V.return=F,V)}function ct(F,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vd(""+V,F.mode,X),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return X=eh(V.type,V.key,V.props,null,F.mode,X),iu(X,V),X.return=F,X;case b:return V=jd(V,F.mode,X),V.return=F,V;case Q:var ot=V._init;return V=ot(V._payload),ct(F,V,X)}if(_t(V)||st(V))return V=Rs(V,F.mode,X,null),V.return=F,V;if(typeof V.then=="function")return ct(F,gh(V),X);if(V.$$typeof===B)return ct(F,sh(F,V),X);vh(F,V)}return null}function $(F,V,X,ot){var yt=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return yt!==null?null:M(F,V,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===yt?D(F,V,X,ot):null;case b:return X.key===yt?G(F,V,X,ot):null;case Q:return yt=X._init,X=yt(X._payload),$(F,V,X,ot)}if(_t(X)||st(X))return yt!==null?null:it(F,V,X,ot,null);if(typeof X.then=="function")return $(F,V,gh(X),ot);if(X.$$typeof===B)return $(F,V,sh(F,X),ot);vh(F,X)}return null}function I(F,V,X,ot,yt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return F=F.get(X)||null,M(V,F,""+ot,yt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case v:return F=F.get(ot.key===null?X:ot.key)||null,D(V,F,ot,yt);case b:return F=F.get(ot.key===null?X:ot.key)||null,G(V,F,ot,yt);case Q:var Dt=ot._init;return ot=Dt(ot._payload),I(F,V,X,ot,yt)}if(_t(ot)||st(ot))return F=F.get(X)||null,it(V,F,ot,yt,null);if(typeof ot.then=="function")return I(F,V,X,gh(ot),yt);if(ot.$$typeof===B)return I(F,V,X,sh(V,ot),yt);vh(V,ot)}return null}function Mt(F,V,X,ot){for(var yt=null,Dt=null,bt=V,wt=V=0,qe=null;bt!==null&&wt<X.length;wt++){bt.index>wt?(qe=bt,bt=null):qe=bt.sibling;var Vt=$(F,bt,X[wt],ot);if(Vt===null){bt===null&&(bt=qe);break}i&&bt&&Vt.alternate===null&&s(F,bt),V=y(Vt,V,wt),Dt===null?yt=Vt:Dt.sibling=Vt,Dt=Vt,bt=qe}if(wt===X.length)return o(F,bt),Ft&&Ds(F,wt),yt;if(bt===null){for(;wt<X.length;wt++)bt=ct(F,X[wt],ot),bt!==null&&(V=y(bt,V,wt),Dt===null?yt=bt:Dt.sibling=bt,Dt=bt);return Ft&&Ds(F,wt),yt}for(bt=u(bt);wt<X.length;wt++)qe=I(bt,F,wt,X[wt],ot),qe!==null&&(i&&qe.alternate!==null&&bt.delete(qe.key===null?wt:qe.key),V=y(qe,V,wt),Dt===null?yt=qe:Dt.sibling=qe,Dt=qe);return i&&bt.forEach(function($a){return s(F,$a)}),Ft&&Ds(F,wt),yt}function Et(F,V,X,ot){if(X==null)throw Error(a(151));for(var yt=null,Dt=null,bt=V,wt=V=0,qe=null,Vt=X.next();bt!==null&&!Vt.done;wt++,Vt=X.next()){bt.index>wt?(qe=bt,bt=null):qe=bt.sibling;var $a=$(F,bt,Vt.value,ot);if($a===null){bt===null&&(bt=qe);break}i&&bt&&$a.alternate===null&&s(F,bt),V=y($a,V,wt),Dt===null?yt=$a:Dt.sibling=$a,Dt=$a,bt=qe}if(Vt.done)return o(F,bt),Ft&&Ds(F,wt),yt;if(bt===null){for(;!Vt.done;wt++,Vt=X.next())Vt=ct(F,Vt.value,ot),Vt!==null&&(V=y(Vt,V,wt),Dt===null?yt=Vt:Dt.sibling=Vt,Dt=Vt);return Ft&&Ds(F,wt),yt}for(bt=u(bt);!Vt.done;wt++,Vt=X.next())Vt=I(bt,F,wt,Vt.value,ot),Vt!==null&&(i&&Vt.alternate!==null&&bt.delete(Vt.key===null?wt:Vt.key),V=y(Vt,V,wt),Dt===null?yt=Vt:Dt.sibling=Vt,Dt=Vt);return i&&bt.forEach(function(H3){return s(F,H3)}),Ft&&Ds(F,wt),yt}function Wt(F,V,X,ot){if(typeof X=="object"&&X!==null&&X.type===x&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:t:{for(var yt=X.key;V!==null;){if(V.key===yt){if(yt=X.type,yt===x){if(V.tag===7){o(F,V.sibling),ot=m(V,X.props.children),ot.return=F,F=ot;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Q&&z1(yt)===V.type){o(F,V.sibling),ot=m(V,X.props),iu(ot,X),ot.return=F,F=ot;break t}o(F,V);break}else s(F,V);V=V.sibling}X.type===x?(ot=Rs(X.props.children,F.mode,ot,X.key),ot.return=F,F=ot):(ot=eh(X.type,X.key,X.props,null,F.mode,ot),iu(ot,X),ot.return=F,F=ot)}return T(F);case b:t:{for(yt=X.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){o(F,V.sibling),ot=m(V,X.children||[]),ot.return=F,F=ot;break t}else{o(F,V);break}else s(F,V);V=V.sibling}ot=jd(X,F.mode,ot),ot.return=F,F=ot}return T(F);case Q:return yt=X._init,X=yt(X._payload),Wt(F,V,X,ot)}if(_t(X))return Mt(F,V,X,ot);if(st(X)){if(yt=st(X),typeof yt!="function")throw Error(a(150));return X=yt.call(X),Et(F,V,X,ot)}if(typeof X.then=="function")return Wt(F,V,gh(X),ot);if(X.$$typeof===B)return Wt(F,V,sh(F,X),ot);vh(F,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(o(F,V.sibling),ot=m(V,X),ot.return=F,F=ot):(o(F,V),ot=Vd(X,F.mode,ot),ot.return=F,F=ot),T(F)):o(F,V)}return function(F,V,X,ot){try{nu=0;var yt=Wt(F,V,X,ot);return Br=null,yt}catch(bt){if(bt===Zl||bt===oh)throw bt;var Dt=xn(29,bt,null,F.mode);return Dt.lanes=ot,Dt.return=F,Dt}finally{}}}var Hr=R1(!0),C1=R1(!1),Xn=N(null),Ei=null;function La(i){var s=i.alternate;ht(Oe,Oe.current&1),ht(Xn,i),Ei===null&&(s===null||Lr.current!==null||s.memoizedState!==null)&&(Ei=i)}function D1(i){if(i.tag===22){if(ht(Oe,Oe.current),ht(Xn,i),Ei===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ei=i)}}else Na()}function Na(){ht(Oe,Oe.current),ht(Xn,Xn.current)}function Ji(i){et(Xn),Ei===i&&(Ei=null),et(Oe)}var Oe=N(0);function bh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||u_(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function bm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Mn(),m=Ca(u);m.payload=s,o!=null&&(m.callback=o),s=Da(i,m,u),s!==null&&(Sn(s,i,u),$l(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Mn(),m=Ca(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Da(i,m,u),s!==null&&(Sn(s,i,u),$l(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Mn(),u=Ca(o);u.tag=2,s!=null&&(u.callback=s),s=Da(i,u,o),s!==null&&(Sn(s,i,o),$l(s,i,o))}};function U1(i,s,o,u,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!Hl(o,u)||!Hl(m,y):!0}function L1(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&xm.enqueueReplaceState(s,s.state,null)}function Hs(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var xh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function N1(i){xh(i)}function q1(i){console.error(i)}function k1(i){xh(i)}function Eh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function B1(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Em(i,s,o){return o=Ca(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(i,s)},o}function H1(i){return i=Ca(i),i.tag=3,i}function V1(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){B1(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){B1(s,o,u),typeof m!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function Hw(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Yl(s,o,m,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Ei===null?Gm():o.alternate===null&&he===0&&(he=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Id?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Qm(i,u,m)),!1;case 22:return o.flags|=65536,u===Id?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Qm(i,u,m)),!1}throw Error(a(435,o.tag))}return Qm(i,u,m),Gm(),!1}if(Ft)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Yd&&(i=Error(a(422),{cause:u}),Pl(jn(i,o)))):(u!==Yd&&(s=Error(a(423),{cause:u}),Pl(jn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=jn(u,o),m=Em(i.stateNode,u,m),tm(i,m),he!==4&&(he=2)),!1;var y=Error(a(520),{cause:u});if(y=jn(y,o),cu===null?cu=[y]:cu.push(y),he!==4&&(he=2),s===null)return!0;u=jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Em(o.stateNode,u,i),tm(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ja===null||!ja.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=H1(m),V1(m,i,o,u),tm(o,m),!1}o=o.return}while(o!==null);return!1}var j1=Error(a(461)),Le=!1;function ke(i,s,o,u){s.child=i===null?C1(s,null,o,u):Hr(s,i.child,o,u)}function F1(i,s,o,u,m){o=o.render;var y=s.ref;if("ref"in u){var T={};for(var M in u)M!=="ref"&&(T[M]=u[M])}else T=u;return qs(s),u=sm(i,s,o,T,y,m),M=rm(),i!==null&&!Le?(om(i,s,m),Wi(i,s,m)):(Ft&&M&&Fd(s),s.flags|=1,ke(i,s,u,m),s.child)}function P1(i,s,o,u,m){if(i===null){var y=o.type;return typeof y=="function"&&!Hd(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Y1(i,s,y,u,m)):(i=eh(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Rm(i,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(T,u)&&i.ref===s.ref)return Wi(i,s,m)}return s.flags|=1,i=Gi(y,u),i.ref=s.ref,i.return=s,s.child=i}function Y1(i,s,o,u,m){if(i!==null){var y=i.memoizedProps;if(Hl(y,u)&&i.ref===s.ref)if(Le=!1,s.pendingProps=u=y,Rm(i,m))(i.flags&131072)!==0&&(Le=!0);else return s.lanes=i.lanes,Wi(i,s,m)}return wm(i,s,o,u,m)}function X1(i,s,o){var u=s.pendingProps,m=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return G1(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&rh(s,y!==null?y.cachePool:null),y!==null?Yp(s,y):nm(),D1(s);else return s.lanes=s.childLanes=536870912,G1(i,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(rh(s,y.cachePool),Yp(s,y),Na(),s.memoizedState=null):(i!==null&&rh(s,null),nm(),Na());return ke(i,s,m,o),s.child}function G1(i,s,o,u){var m=Kd();return m=m===null?null:{parent:Ae._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&rh(s,null),nm(),D1(s),i!==null&&Yl(i,s,u,!0),null}function wh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function wm(i,s,o,u,m){return qs(s),o=sm(i,s,o,u,void 0,m),u=rm(),i!==null&&!Le?(om(i,s,m),Wi(i,s,m)):(Ft&&u&&Fd(s),s.flags|=1,ke(i,s,o,m),s.child)}function Z1(i,s,o,u,m,y){return qs(s),s.updateQueue=null,o=Gp(s,u,o,m),Xp(i),u=rm(),i!==null&&!Le?(om(i,s,y),Wi(i,s,y)):(Ft&&u&&Fd(s),s.flags|=1,ke(i,s,o,y),s.child)}function Q1(i,s,o,u,m){if(qs(s),s.stateNode===null){var y=zr,T=o.contextType;typeof T=="object"&&T!==null&&(y=Pe(T)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Jd(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?Pe(T):zr,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(bm(s,o,T,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&xm.enqueueReplaceState(y,y.state,null),Il(s,u,y,m),Kl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var M=s.memoizedProps,D=Hs(o,M);y.props=D;var G=y.context,it=o.contextType;T=zr,typeof it=="object"&&it!==null&&(T=Pe(it));var ct=o.getDerivedStateFromProps;it=typeof ct=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,it||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||G!==T)&&L1(s,y,u,T),Ra=!1;var $=s.memoizedState;y.state=$,Il(s,u,y,m),Kl(),G=s.memoizedState,M||$!==G||Ra?(typeof ct=="function"&&(bm(s,o,ct,u),G=s.memoizedState),(D=Ra||U1(s,o,D,u,$,G,T))?(it||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),y.props=u,y.state=G,y.context=T,u=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Wd(i,s),T=s.memoizedProps,it=Hs(o,T),y.props=it,ct=s.pendingProps,$=y.context,G=o.contextType,D=zr,typeof G=="object"&&G!==null&&(D=Pe(G)),M=o.getDerivedStateFromProps,(G=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ct||$!==D)&&L1(s,y,u,D),Ra=!1,$=s.memoizedState,y.state=$,Il(s,u,y,m),Kl();var I=s.memoizedState;T!==ct||$!==I||Ra||i!==null&&i.dependencies!==null&&ah(i.dependencies)?(typeof M=="function"&&(bm(s,o,M,u),I=s.memoizedState),(it=Ra||U1(s,o,it,u,$,I,D)||i!==null&&i.dependencies!==null&&ah(i.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,I,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,I,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=I),y.props=u,y.state=I,y.context=D,u=it):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,wh(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=Hr(s,i.child,null,m),s.child=Hr(s,null,o,m)):ke(i,s,o,m),s.memoizedState=y.state,i=s.child):i=Wi(i,s,m),i}function $1(i,s,o,u){return Fl(),s.flags|=256,ke(i,s,o,u),s.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(i){return{baseLanes:i,cachePool:qp()}}function Sm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Gn),i}function K1(i,s,o){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(m?La(s):Na(),Ft){var M=ce,D;if(D=M){t:{for(D=M,M=xi;D.nodeType!==8;){if(!M){M=null;break t}if(D=si(D.nextSibling),D===null){M=null;break t}}M=D}M!==null?(s.memoizedState={dehydrated:M,treeContext:Cs!==null?{id:Zi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},D=xn(18,null,null,0),D.stateNode=M,D.return=s,s.child=D,Ke=s,ce=null,D=!0):D=!1}D||Ls(s)}if(M=s.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return u_(M)?s.lanes=32:s.lanes=536870912,null;Ji(s)}return M=u.children,u=u.fallback,m?(Na(),m=s.mode,M=Th({mode:"hidden",children:M},m),u=Rs(u,m,o,null),M.return=s,u.return=s,M.sibling=u,s.child=M,m=s.child,m.memoizedState=Mm(o),m.childLanes=Sm(i,T,o),s.memoizedState=Tm,u):(La(s),Am(s,M))}if(D=i.memoizedState,D!==null&&(M=D.dehydrated,M!==null)){if(y)s.flags&256?(La(s),s.flags&=-257,s=Om(i,s,o)):s.memoizedState!==null?(Na(),s.child=i.child,s.flags|=128,s=null):(Na(),m=u.fallback,M=s.mode,u=Th({mode:"visible",children:u.children},M),m=Rs(m,M,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,Hr(s,i.child,null,o),u=s.child,u.memoizedState=Mm(o),u.childLanes=Sm(i,T,o),s.memoizedState=Tm,s=m);else if(La(s),u_(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(a(419)),u.stack="",u.digest=T,Pl({value:u,source:null,stack:null}),s=Om(i,s,o)}else if(Le||Yl(i,s,o,!1),T=(o&i.childLanes)!==0,Le||T){if(T=ie,T!==null&&(u=o&-o,u=(u&42)!==0?1:Cl(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Or(i,u),Sn(T,i,u),j1;M.data==="$?"||Gm(),s=Om(i,s,o)}else M.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,ce=si(M.nextSibling),Ke=s,Ft=!0,Us=null,xi=!1,i!==null&&(Pn[Yn++]=Zi,Pn[Yn++]=Qi,Pn[Yn++]=Cs,Zi=i.id,Qi=i.overflow,Cs=s),s=Am(s,u.children),s.flags|=4096);return s}return m?(Na(),m=u.fallback,M=s.mode,D=i.child,G=D.sibling,u=Gi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,G!==null?m=Gi(G,m):(m=Rs(m,M,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,M=i.child.memoizedState,M===null?M=Mm(o):(D=M.cachePool,D!==null?(G=Ae._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=qp(),M={baseLanes:M.baseLanes|o,cachePool:D}),m.memoizedState=M,m.childLanes=Sm(i,T,o),s.memoizedState=Tm,u):(La(s),o=i.child,i=o.sibling,o=Gi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Am(i,s){return s=Th({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Th(i,s){return i=xn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Om(i,s,o){return Hr(s,i.child,null,o),i=Am(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function I1(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Gd(i.return,s,o)}function zm(i,s,o,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function J1(i,s,o){var u=s.pendingProps,m=u.revealOrder,y=u.tail;if(ke(i,s,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I1(i,o,s);else if(i.tag===19)I1(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ht(Oe,u),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&bh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),zm(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&bh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}zm(s,!0,o,null,y);break;case"together":zm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Va|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Yl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,o=Gi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Gi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Rm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ah(i)))}function Vw(i,s,o){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),za(s,Ae,i.memoizedState.cache),Fl();break;case 27:case 5:Ln(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:za(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(La(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K1(i,s,o):(La(s),i=Wi(i,s,o),i!==null?i.sibling:null);La(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Yl(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return J1(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ht(Oe,Oe.current),u)break;return null;case 22:case 23:return s.lanes=0,X1(i,s,o);case 24:za(s,Ae,i.memoizedState.cache)}return Wi(i,s,o)}function W1(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Le=!0;else{if(!Rm(i,o)&&(s.flags&128)===0)return Le=!1,Vw(i,s,o);Le=(i.flags&131072)!==0}else Le=!1,Ft&&(s.flags&1048576)!==0&&zp(s,ih,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Hd(u)?(i=Hs(u,i),s.tag=1,s=Q1(null,s,u,i,o)):(s.tag=0,s=wm(null,s,u,i,o));else{if(u!=null){if(m=u.$$typeof,m===k){s.tag=11,s=F1(null,s,u,i,o);break t}else if(m===L){s.tag=14,s=P1(null,s,u,i,o);break t}}throw s=rt(u)||u,Error(a(306,s,""))}}return s;case 0:return wm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=Hs(u,s.pendingProps),Q1(i,s,u,m,o);case 3:t:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(a(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,Wd(i,s),Il(s,u,null,o);var T=s.memoizedState;if(u=T.cache,za(s,Ae,u),u!==y.cache&&Zd(s,[Ae],o,!0),Kl(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=$1(i,s,u,o);break t}else if(u!==m){m=jn(Error(a(424)),s),Pl(m),s=$1(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ce=si(i.firstChild),Ke=s,Ft=!0,Us=null,xi=!0,o=C1(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Fl(),u===m){s=Wi(i,s,o);break t}ke(i,s,u,o)}s=s.child}return s;case 26:return wh(i,s),i===null?(o=ig(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ft||(o=s.type,i=s.pendingProps,u=Bh(pt.current).createElement(o),u[Nt]=s,u[Ht]=i,He(u,o,i),re(u),s.stateNode=u):s.memoizedState=ig(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ln(s),i===null&&Ft&&(u=s.stateNode=tg(s.type,s.pendingProps,pt.current),Ke=s,xi=!0,m=ce,Ya(s.type)?(c_=m,ce=si(u.firstChild)):ce=m),ke(i,s,s.pendingProps.children,o),wh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&((m=u=ce)&&(u=m3(u,s.type,s.pendingProps,xi),u!==null?(s.stateNode=u,Ke=s,ce=si(u.firstChild),xi=!1,m=!0):m=!1),m||Ls(s)),Ln(s),m=s.type,y=s.pendingProps,T=i!==null?i.memoizedProps:null,u=y.children,r_(m,y)?u=null:T!==null&&r_(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=sm(i,s,Dw,null,null,o),vu._currentValue=m),wh(i,s),ke(i,s,u,o),s.child;case 6:return i===null&&Ft&&((i=o=ce)&&(o=_3(o,s.pendingProps,xi),o!==null?(s.stateNode=o,Ke=s,ce=null,i=!0):i=!1),i||Ls(s)),null;case 13:return K1(i,s,o);case 4:return Pt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Hr(s,null,u,o):ke(i,s,u,o),s.child;case 11:return F1(i,s,s.type,s.pendingProps,o);case 7:return ke(i,s,s.pendingProps,o),s.child;case 8:return ke(i,s,s.pendingProps.children,o),s.child;case 12:return ke(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,za(s,s.type,u.value),ke(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,qs(s),m=Pe(m),u=u(m),s.flags|=1,ke(i,s,u,o),s.child;case 14:return P1(i,s,s.type,s.pendingProps,o);case 15:return Y1(i,s,s.type,s.pendingProps,o);case 19:return J1(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=Th(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Gi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return X1(i,s,o);case 24:return qs(s),u=Pe(Ae),i===null?(m=Kd(),m===null&&(m=ie,y=Qd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:u,cache:m},Jd(s),za(s,Ae,m)):((i.lanes&o)!==0&&(Wd(i,s),Il(s,null,null,o),Kl()),m=i.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),za(s,Ae,u)):(u=y.cache,za(s,Ae,u),u!==m.cache&&Zd(s,[Ae],o,!0))),ke(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function ta(i){i.flags|=4}function ty(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lg(s)){if(s=Xn.current,s!==null&&((Bt&4194048)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==Ei))throw Ql=Id,kp;i.flags|=8192}}function Mh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?pr():536870912,i.lanes|=s,Pr|=s)}function au(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function le(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function jw(i,s,o){var u=s.pendingProps;switch(Pd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ki(Ae),Ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(jl(s)?ta(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dp())),le(s),null;case 26:return o=s.memoizedState,i===null?(ta(s),o!==null?(le(s),ty(s,o)):(le(s),s.flags&=-16777217)):o?o!==i.memoizedState?(ta(s),le(s),ty(s,o)):(le(s),s.flags&=-16777217):(i.memoizedProps!==u&&ta(s),le(s),s.flags&=-16777217),null;case 27:ti(s),o=pt.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return le(s),null}i=ut.current,jl(s)?Rp(s):(i=tg(m,u,o),s.stateNode=i,ta(s))}return le(s),null;case 5:if(ti(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return le(s),null}if(i=ut.current,jl(s))Rp(s);else{switch(m=Bh(pt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}i[Nt]=s,i[Ht]=u;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;t:switch(He(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ta(s)}}return le(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(i=pt.current,jl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Ke,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Nt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Zy(i.nodeValue,o)),i||Ls(s)}else i=Bh(i).createTextNode(u),i[Nt]=s,s.stateNode=i}return le(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=jl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(a(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Nt]=s}else Fl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),m=!1}else m=Dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ji(s),s):(Ji(s),null)}if(Ji(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Mh(s,s.updateQueue),le(s),null;case 4:return Ze(),i===null&&e_(s.stateNode.containerInfo),le(s),null;case 10:return Ki(s.type),le(s),null;case 19:if(et(Oe),m=s.memoizedState,m===null)return le(s),null;if(u=(s.flags&128)!==0,y=m.rendering,y===null)if(u)au(m,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=bh(i),y!==null){for(s.flags|=128,au(m,!1),i=y.updateQueue,s.updateQueue=i,Mh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Op(o,i),o=o.sibling;return ht(Oe,Oe.current&1|2),s.child}i=i.sibling}m.tail!==null&&an()>Oh&&(s.flags|=128,u=!0,au(m,!1),s.lanes=4194304)}else{if(!u)if(i=bh(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Mh(s,i),au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ft)return le(s),null}else 2*an()-m.renderingStartTime>Oh&&o!==536870912&&(s.flags|=128,u=!0,au(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=an(),s.sibling=null,i=Oe.current,ht(Oe,u?i&1|2:i&1),s):(le(s),null);case 22:case 23:return Ji(s),im(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),o=s.updateQueue,o!==null&&Mh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&et(ks),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ki(Ae),le(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Fw(i,s){switch(Pd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ki(Ae),Ze(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ti(s),null;case 13:if(Ji(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Fl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(Oe),null;case 4:return Ze(),null;case 10:return Ki(s.type),null;case 22:case 23:return Ji(s),im(),i!==null&&et(ks),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ki(Ae),null;case 25:return null;default:return null}}function ey(i,s){switch(Pd(s),s.tag){case 3:Ki(Ae),Ze();break;case 26:case 27:case 5:ti(s);break;case 4:Ze();break;case 13:Ji(s);break;case 19:et(Oe);break;case 10:Ki(s.type);break;case 22:case 23:Ji(s),im(),i!==null&&et(ks);break;case 24:Ki(Ae)}}function su(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==m)}}catch(M){te(s,s.return,M)}}function qa(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var T=u.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,m=s;var D=o,G=M;try{G()}catch(it){te(m,D,it)}}}u=u.next}while(u!==y)}}catch(it){te(s,s.return,it)}}function ny(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Pp(s,o)}catch(u){te(i,i.return,u)}}}function iy(i,s,o){o.props=Hs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){te(i,s,u)}}function ru(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){te(i,s,m)}}function wi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){te(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){te(i,s,m)}else o.current=null}function ay(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){te(i,i.return,m)}}function Cm(i,s,o){try{var u=i.stateNode;u3(u,i.type,o,s),u[Ht]=s}catch(m){te(i,i.return,m)}}function sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ya(i.type)||i.tag===4}function Dm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ya(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Um(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kh));else if(u!==4&&(u===27&&Ya(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Um(i,s,o),i=i.sibling;i!==null;)Um(i,s,o),i=i.sibling}function Sh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ya(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sh(i,s,o),i=i.sibling;i!==null;)Sh(i,s,o),i=i.sibling}function ry(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);He(s,u,o),s[Nt]=i,s[Ht]=o}catch(y){te(i,i.return,y)}}var ea=!1,pe=!1,Lm=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Pw(i,s){if(i=i.containerInfo,a_=Yh,i=gp(i),Dd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var T=0,M=-1,D=-1,G=0,it=0,ct=i,$=null;e:for(;;){for(var I;ct!==o||m!==0&&ct.nodeType!==3||(M=T+m),ct!==y||u!==0&&ct.nodeType!==3||(D=T+u),ct.nodeType===3&&(T+=ct.nodeValue.length),(I=ct.firstChild)!==null;)$=ct,ct=I;for(;;){if(ct===i)break e;if($===o&&++G===m&&(M=T),$===y&&++it===u&&(D=T),(I=ct.nextSibling)!==null)break;ct=$,$=ct.parentNode}ct=I}o=M===-1||D===-1?null:{start:M,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(s_={focusedElem:i,selectionRange:o},Yh=!1,Ne=s;Ne!==null;)if(s=Ne,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ne=i;else for(;Ne!==null;){switch(s=Ne,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Mt=Hs(o.type,m,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Mt,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){te(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)l_(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":l_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=s.sibling,i!==null){i.return=s.return,Ne=i;break}Ne=s.return}}function ly(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ka(i,o),u&4&&su(5,o);break;case 1:if(ka(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){te(o,o.return,T)}else{var m=Hs(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){te(o,o.return,T)}}u&64&&ny(o),u&512&&ru(o,o.return);break;case 3:if(ka(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Pp(i,s)}catch(T){te(o,o.return,T)}}break;case 27:s===null&&u&4&&ry(o);case 26:case 5:ka(i,o),s===null&&u&4&&ay(o),u&512&&ru(o,o.return);break;case 12:ka(i,o);break;case 13:ka(i,o),u&4&&hy(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Jw.bind(null,o),p3(i,o))));break;case 22:if(u=o.memoizedState!==null||ea,!u){s=s!==null&&s.memoizedState!==null||pe,m=ea;var y=pe;ea=u,(pe=s)&&!y?Ba(i,o,(o.subtreeFlags&8772)!==0):ka(i,o),ea=m,pe=y}break;case 30:break;default:ka(i,o)}}function uy(i){var s=i.alternate;s!==null&&(i.alternate=null,uy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Xt(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var oe=null,ln=!1;function na(i,s,o){for(o=o.child;o!==null;)cy(i,s,o),o=o.sibling}function cy(i,s,o){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(kn,o)}catch{}switch(o.tag){case 26:pe||wi(o,s),na(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pe||wi(o,s);var u=oe,m=ln;Ya(o.type)&&(oe=o.stateNode,ln=!1),na(i,s,o),_u(o.stateNode),oe=u,ln=m;break;case 5:pe||wi(o,s);case 6:if(u=oe,m=ln,oe=null,na(i,s,o),oe=u,ln=m,oe!==null)if(ln)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(o.stateNode)}catch(y){te(o,s,y)}else try{oe.removeChild(o.stateNode)}catch(y){te(o,s,y)}break;case 18:oe!==null&&(ln?(i=oe,Jy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),wu(i)):Jy(oe,o.stateNode));break;case 4:u=oe,m=ln,oe=o.stateNode.containerInfo,ln=!0,na(i,s,o),oe=u,ln=m;break;case 0:case 11:case 14:case 15:pe||qa(2,o,s),pe||qa(4,o,s),na(i,s,o);break;case 1:pe||(wi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&iy(o,s,u)),na(i,s,o);break;case 21:na(i,s,o);break;case 22:pe=(u=pe)||o.memoizedState!==null,na(i,s,o),pe=u;break;default:na(i,s,o)}}function hy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wu(i)}catch(o){te(s,s.return,o)}}function Yw(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new oy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new oy),s;default:throw Error(a(435,i.tag))}}function Nm(i,s){var o=Yw(i);s.forEach(function(u){var m=Ww.bind(null,i,u);o.has(u)||(o.add(u),u.then(m,m))})}function En(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=i,T=s,M=T;t:for(;M!==null;){switch(M.tag){case 27:if(Ya(M.type)){oe=M.stateNode,ln=!1;break t}break;case 5:oe=M.stateNode,ln=!1;break t;case 3:case 4:oe=M.stateNode.containerInfo,ln=!0;break t}M=M.return}if(oe===null)throw Error(a(160));cy(y,T,m),oe=null,ln=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)fy(s,i),s=s.sibling}var ai=null;function fy(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(s,i),wn(i),u&4&&(qa(3,i,i.return),su(3,i),qa(5,i,i.return));break;case 1:En(s,i),wn(i),u&512&&(pe||o===null||wi(o,o.return)),u&64&&ea&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=ai;if(En(s,i),wn(i),u&512&&(pe||o===null||wi(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ni]||y[Nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),He(y,u,o),y[Nt]=i,re(y),u=y;break t;case"link":var T=rg("link","href",m).get(u+(o.href||""));if(T){for(var M=0;M<T.length;M++)if(y=T[M],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(M,1);break e}}y=m.createElement(u),He(y,u,o),m.head.appendChild(y);break;case"meta":if(T=rg("meta","content",m).get(u+(o.content||""))){for(M=0;M<T.length;M++)if(y=T[M],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(M,1);break e}}y=m.createElement(u),He(y,u,o),m.head.appendChild(y);break;default:throw Error(a(468,u))}y[Nt]=i,re(y),u=y}i.stateNode=u}else og(m,i.type,i.stateNode);else i.stateNode=sg(m,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?og(m,i.type,i.stateNode):sg(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Cm(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(s,i),wn(i),u&512&&(pe||o===null||wi(o,o.return)),o!==null&&u&4&&Cm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(s,i),wn(i),u&512&&(pe||o===null||wi(o,o.return)),i.flags&32){m=i.stateNode;try{xr(m,"")}catch(I){te(i,i.return,I)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Cm(i,m,o!==null?o.memoizedProps:m)),u&1024&&(Lm=!0);break;case 6:if(En(s,i),wn(i),u&4){if(i.stateNode===null)throw Error(a(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(I){te(i,i.return,I)}}break;case 3:if(jh=null,m=ai,ai=Hh(s.containerInfo),En(s,i),ai=m,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{wu(s.containerInfo)}catch(I){te(i,i.return,I)}Lm&&(Lm=!1,dy(i));break;case 4:u=ai,ai=Hh(i.stateNode.containerInfo),En(s,i),wn(i),ai=u;break;case 12:En(s,i),wn(i);break;case 13:En(s,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jm=an()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 22:m=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=ea,it=pe;if(ea=G||m,pe=it||D,En(s,i),pe=it,ea=G,wn(i),u&8192)t:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||D||ea||pe||Vs(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(y=D.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=D.stateNode;var ct=D.memoizedProps.style,$=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;M.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(I){te(D,D.return,I)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(I){te(D,D.return,I)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nm(i,o))));break;case 19:En(s,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 30:break;case 21:break;default:En(s,i),wn(i)}}function wn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(sy(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,y=Dm(i);Sh(i,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(xr(T,""),o.flags&=-33);var M=Dm(i);Sh(i,M,T);break;case 3:case 4:var D=o.stateNode.containerInfo,G=Dm(i);Um(i,G,D);break;default:throw Error(a(161))}}catch(it){te(i,i.return,it)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function dy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;dy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ka(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ly(i,s.alternate,s),s=s.sibling}function Vs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qa(4,s,s.return),Vs(s);break;case 1:wi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&iy(s,s.return,o),Vs(s);break;case 27:_u(s.stateNode);case 26:case 5:wi(s,s.return),Vs(s);break;case 22:s.memoizedState===null&&Vs(s);break;case 30:Vs(s);break;default:Vs(s)}i=i.sibling}}function Ba(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ba(m,y,o),su(4,y);break;case 1:if(Ba(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){te(u,u.return,G)}if(u=y,m=u.updateQueue,m!==null){var M=u.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)Fp(D[m],M)}catch(G){te(u,u.return,G)}}o&&T&64&&ny(y),ru(y,y.return);break;case 27:ry(y);case 26:case 5:Ba(m,y,o),o&&u===null&&T&4&&ay(y),ru(y,y.return);break;case 12:Ba(m,y,o);break;case 13:Ba(m,y,o),o&&T&4&&hy(m,y);break;case 22:y.memoizedState===null&&Ba(m,y,o),ru(y,y.return);break;case 30:break;default:Ba(m,y,o)}s=s.sibling}}function qm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Xl(o))}function km(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xl(i))}function Ti(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)my(i,s,o,u),s=s.sibling}function my(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(i,s,o,u),m&2048&&su(9,s);break;case 1:Ti(i,s,o,u);break;case 3:Ti(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xl(i)));break;case 12:if(m&2048){Ti(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,T=y.id,M=y.onPostCommit;typeof M=="function"&&M(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){te(s,s.return,D)}}else Ti(i,s,o,u);break;case 13:Ti(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Ti(i,s,o,u):ou(i,s):y._visibility&2?Ti(i,s,o,u):(y._visibility|=2,Vr(i,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&qm(T,s);break;case 24:Ti(i,s,o,u),m&2048&&km(s.alternate,s);break;default:Ti(i,s,o,u)}}function Vr(i,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,T=s,M=o,D=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:Vr(y,T,M,D,m),su(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?Vr(y,T,M,D,m):ou(y,T):(it._visibility|=2,Vr(y,T,M,D,m)),m&&G&2048&&qm(T.alternate,T);break;case 24:Vr(y,T,M,D,m),m&&G&2048&&km(T.alternate,T);break;default:Vr(y,T,M,D,m)}s=s.sibling}}function ou(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:ou(o,u),m&2048&&qm(u.alternate,u);break;case 24:ou(o,u),m&2048&&km(u.alternate,u);break;default:ou(o,u)}s=s.sibling}}var lu=8192;function jr(i){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)_y(i),i=i.sibling}function _y(i){switch(i.tag){case 26:jr(i),i.flags&lu&&i.memoizedState!==null&&z3(ai,i.memoizedState,i.memoizedProps);break;case 5:jr(i);break;case 3:case 4:var s=ai;ai=Hh(i.stateNode.containerInfo),jr(i),ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=lu,lu=16777216,jr(i),lu=s):jr(i));break;default:jr(i)}}function py(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function uu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ne=u,gy(u,i)}py(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(i),i=i.sibling}function yy(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&qa(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ah(i)):uu(i);break;default:uu(i)}}function Ah(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ne=u,gy(u,i)}py(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qa(8,s,s.return),Ah(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ah(s));break;default:Ah(s)}i=i.sibling}}function gy(i,s){for(;Ne!==null;){var o=Ne;switch(o.tag){case 0:case 11:case 15:qa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ne=u;else t:for(o=i;Ne!==null;){u=Ne;var m=u.sibling,y=u.return;if(uy(u),u===o){Ne=null;break t}if(m!==null){m.return=y,Ne=m;break t}Ne=y}}}var Xw={getCacheForType:function(i){var s=Pe(Ae),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Gw=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,qt=null,Bt=0,Zt=0,Tn=null,Ha=!1,Fr=!1,Bm=!1,ia=0,he=0,Va=0,js=0,Hm=0,Gn=0,Pr=0,cu=null,un=null,Vm=!1,jm=0,Oh=1/0,zh=null,ja=null,Be=0,Fa=null,Yr=null,Xr=0,Fm=0,Pm=null,vy=null,hu=0,Ym=null;function Mn(){if((Gt&2)!==0&&Bt!==0)return Bt&-Bt;if(Y.T!==null){var i=Dr;return i!==0?i:Im()}return ft()}function by(){Gn===0&&(Gn=(Bt&536870912)===0||Ft?Vc():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),Gn}function Sn(i,s,o){(i===ie&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)&&(Gr(i,0),Pa(i,Bt,Gn,!1)),Fe(i,o),((Gt&2)===0||i!==ie)&&(i===ie&&((Gt&2)===0&&(js|=o),he===4&&Pa(i,Bt,Gn,!1)),Mi(i))}function xy(i,s,o){if((Gt&6)!==0)throw Error(a(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Sa(i,s),m=u?$w(i,s):Zm(i,s,!0),y=u;do{if(m===0){Fr&&!u&&Pa(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!Zw(o)){m=Zm(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var M=i;m=cu;var D=M.current.memoizedState.isDehydrated;if(D&&(Gr(M,T).flags|=256),T=Zm(M,T,!1),T!==2){if(Bm&&!D){M.errorRecoveryDisabledLanes|=y,js|=y,m=4;break t}y=un,un=m,y!==null&&(un===null?un=y:un.push.apply(un,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Gr(i,0),Pa(i,s,0,!0);break}t:{switch(u=i,y=m,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Pa(u,s,Gn,!Ha);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(m=jm+300-an(),10<m)){if(Pa(u,s,Gn,!Ha),mr(u,0,!0)!==0)break t;u.timeoutHandle=Ky(Ey.bind(null,u,o,un,zh,Vm,s,Gn,js,Pr,Ha,y,2,-0,0),m);break t}Ey(u,o,un,zh,Vm,s,Gn,js,Pr,Ha,y,0,-0,0)}}break}while(!0);Mi(i)}function Ey(i,s,o,u,m,y,T,M,D,G,it,ct,$,I){if(i.timeoutHandle=-1,ct=s.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:O3},_y(s),ct=R3(),ct!==null)){i.cancelPendingCommit=ct(zy.bind(null,i,s,y,o,u,m,T,M,D,it,1,$,I)),Pa(i,y,T,!G);return}zy(i,s,y,o,u,m,T,M,D)}function Zw(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!bn(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pa(i,s,o,u){s&=~Hm,s&=~js,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var y=31-Qe(m),T=1<<y;u[y]=-1,m&=~T}o!==0&&Rl(i,o,s)}function Rh(){return(Gt&6)===0?(fu(0),!1):!0}function Xm(){if(qt!==null){if(Zt===0)var i=qt.return;else i=qt,$i=Ns=null,lm(i),Br=null,nu=0,i=qt;for(;i!==null;)ey(i.alternate,i),i=i.return;qt=null}}function Gr(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,h3(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Xm(),ie=i,qt=o=Gi(i.current,null),Bt=s,Zt=0,Tn=null,Ha=!1,Fr=Sa(i,s),Bm=!1,Pr=Gn=Hm=js=Va=he=0,un=cu=null,Vm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Qe(u),y=1<<m;s|=i[m],u&=~y}return ia=s,Jc(),o}function wy(i,s){Rt=null,Y.H=yh,s===Zl||s===oh?(s=Vp(),Zt=3):s===kp?(s=Vp(),Zt=4):Zt=s===j1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,qt===null&&(he=1,Eh(i,jn(s,i.current)))}function Ty(){var i=Y.H;return Y.H=yh,i===null?yh:i}function My(){var i=Y.A;return Y.A=Xw,i}function Gm(){he=4,Ha||(Bt&4194048)!==Bt&&Xn.current!==null||(Fr=!0),(Va&134217727)===0&&(js&134217727)===0||ie===null||Pa(ie,Bt,Gn,!1)}function Zm(i,s,o){var u=Gt;Gt|=2;var m=Ty(),y=My();(ie!==i||Bt!==s)&&(zh=null,Gr(i,s)),s=!1;var T=he;t:do try{if(Zt!==0&&qt!==null){var M=qt,D=Tn;switch(Zt){case 8:Xm(),T=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var G=Zt;if(Zt=0,Tn=null,Zr(i,M,D,G),o&&Fr){T=0;break t}break;default:G=Zt,Zt=0,Tn=null,Zr(i,M,D,G)}}Qw(),T=he;break}catch(it){wy(i,it)}while(!0);return s&&i.shellSuspendCounter++,$i=Ns=null,Gt=u,Y.H=m,Y.A=y,qt===null&&(ie=null,Bt=0,Jc()),T}function Qw(){for(;qt!==null;)Sy(qt)}function $w(i,s){var o=Gt;Gt|=2;var u=Ty(),m=My();ie!==i||Bt!==s?(zh=null,Oh=an()+500,Gr(i,s)):Fr=Sa(i,s);t:do try{if(Zt!==0&&qt!==null){s=qt;var y=Tn;e:switch(Zt){case 1:Zt=0,Tn=null,Zr(i,s,y,1);break;case 2:case 9:if(Bp(y)){Zt=0,Tn=null,Ay(s);break}s=function(){Zt!==2&&Zt!==9||ie!==i||(Zt=7),Mi(i)},y.then(s,s);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Bp(y)?(Zt=0,Tn=null,Ay(s)):(Zt=0,Tn=null,Zr(i,s,y,7));break;case 5:var T=null;switch(qt.tag){case 26:T=qt.memoizedState;case 5:case 27:var M=qt;if(!T||lg(T)){Zt=0,Tn=null;var D=M.sibling;if(D!==null)qt=D;else{var G=M.return;G!==null?(qt=G,Ch(G)):qt=null}break e}}Zt=0,Tn=null,Zr(i,s,y,5);break;case 6:Zt=0,Tn=null,Zr(i,s,y,6);break;case 8:Xm(),he=6;break t;default:throw Error(a(462))}}Kw();break}catch(it){wy(i,it)}while(!0);return $i=Ns=null,Y.H=u,Y.A=m,Gt=o,qt!==null?0:(ie=null,Bt=0,Jc(),he)}function Kw(){for(;qt!==null&&!ei();)Sy(qt)}function Sy(i){var s=W1(i.alternate,i,ia);i.memoizedProps=i.pendingProps,s===null?Ch(i):qt=s}function Ay(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Z1(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=Z1(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:lm(s);default:ey(o,s),s=qt=Op(s,ia),s=W1(o,s,ia)}i.memoizedProps=i.pendingProps,s===null?Ch(i):qt=s}function Zr(i,s,o,u){$i=Ns=null,lm(s),Br=null,nu=0;var m=s.return;try{if(Hw(i,m,s,o,Bt)){he=1,Eh(i,jn(o,i.current)),qt=null;return}}catch(y){if(m!==null)throw qt=m,y;he=1,Eh(i,jn(o,i.current)),qt=null;return}s.flags&32768?(Ft||u===1?i=!0:Fr||(Bt&536870912)!==0?i=!1:(Ha=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Oy(s,i)):Ch(s)}function Ch(i){var s=i;do{if((s.flags&32768)!==0){Oy(s,Ha);return}i=s.return;var o=jw(s.alternate,s,ia);if(o!==null){qt=o;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=i}while(s!==null);he===0&&(he=5)}function Oy(i,s){do{var o=Fw(i.alternate,i);if(o!==null){o.flags&=32767,qt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){qt=i;return}qt=i=o}while(i!==null);he=6,qt=null}function zy(i,s,o,u,m,y,T,M,D){i.cancelPendingCommit=null;do Dh();while(Be!==0);if((Gt&6)!==0)throw Error(a(327));if(s!==null){if(s===i.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=kd,Pi(i,o,y,T,M,D),i===ie&&(qt=ie=null,Bt=0),Yr=s,Fa=i,Xr=o,Fm=y,Pm=m,vy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,t3(qn,function(){return Ly(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=S.p,S.p=2,T=Gt,Gt|=4;try{Pw(i,s,o)}finally{Gt=T,S.p=m,Y.T=u}}Be=1,Ry(),Cy(),Dy()}}function Ry(){if(Be===1){Be=0;var i=Fa,s=Yr,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=S.p;S.p=2;var m=Gt;Gt|=4;try{fy(s,i);var y=s_,T=gp(i.containerInfo),M=y.focusedElem,D=y.selectionRange;if(T!==M&&M&&M.ownerDocument&&yp(M.ownerDocument.documentElement,M)){if(D!==null&&Dd(M)){var G=D.start,it=D.end;if(it===void 0&&(it=G),"selectionStart"in M)M.selectionStart=G,M.selectionEnd=Math.min(it,M.value.length);else{var ct=M.ownerDocument||document,$=ct&&ct.defaultView||window;if($.getSelection){var I=$.getSelection(),Mt=M.textContent.length,Et=Math.min(D.start,Mt),Wt=D.end===void 0?Et:Math.min(D.end,Mt);!I.extend&&Et>Wt&&(T=Wt,Wt=Et,Et=T);var F=pp(M,Et),V=pp(M,Wt);if(F&&V&&(I.rangeCount!==1||I.anchorNode!==F.node||I.anchorOffset!==F.offset||I.focusNode!==V.node||I.focusOffset!==V.offset)){var X=ct.createRange();X.setStart(F.node,F.offset),I.removeAllRanges(),Et>Wt?(I.addRange(X),I.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),I.addRange(X))}}}}for(ct=[],I=M;I=I.parentNode;)I.nodeType===1&&ct.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ct.length;M++){var ot=ct[M];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Yh=!!a_,s_=a_=null}finally{Gt=m,S.p=u,Y.T=o}}i.current=s,Be=2}}function Cy(){if(Be===2){Be=0;var i=Fa,s=Yr,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=S.p;S.p=2;var m=Gt;Gt|=4;try{ly(i,s.alternate,s)}finally{Gt=m,S.p=u,Y.T=o}}Be=3}}function Dy(){if(Be===4||Be===3){Be=0,Vi();var i=Fa,s=Yr,o=Xr,u=vy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Be=5:(Be=0,Yr=Fa=null,Uy(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ja=null),lt(o),s=s.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,m=S.p,S.p=2,Y.T=null;try{for(var y=i.onRecoverableError,T=0;T<u.length;T++){var M=u[T];y(M.value,{componentStack:M.stack})}}finally{Y.T=s,S.p=m}}(Xr&3)!==0&&Dh(),Mi(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===Ym?hu++:(hu=0,Ym=i):hu=0,fu(0)}}function Uy(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Xl(s)))}function Dh(i){return Ry(),Cy(),Dy(),Ly()}function Ly(){if(Be!==5)return!1;var i=Fa,s=Fm;Fm=0;var o=lt(Xr),u=Y.T,m=S.p;try{S.p=32>o?32:o,Y.T=null,o=Pm,Pm=null;var y=Fa,T=Xr;if(Be=0,Yr=Fa=null,Xr=0,(Gt&6)!==0)throw Error(a(331));var M=Gt;if(Gt|=4,yy(y.current),my(y,y.current,T,o),Gt=M,fu(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(kn,y)}catch{}return!0}finally{S.p=m,Y.T=u,Uy(i,s)}}function Ny(i,s,o){s=jn(o,s),s=Em(i.stateNode,s,2),i=Da(i,s,2),i!==null&&(Fe(i,2),Mi(i))}function te(i,s,o){if(i.tag===3)Ny(i,i,o);else for(;s!==null;){if(s.tag===3){Ny(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ja===null||!ja.has(u))){i=jn(o,i),o=H1(2),u=Da(s,o,2),u!==null&&(V1(o,u,s,i),Fe(u,2),Mi(u));break}}s=s.return}}function Qm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Gw;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Bm=!0,m.add(o),i=Iw.bind(null,i,s,o),s.then(i,i))}function Iw(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ie===i&&(Bt&o)===o&&(he===4||he===3&&(Bt&62914560)===Bt&&300>an()-jm?(Gt&2)===0&&Gr(i,0):Hm|=o,Pr===Bt&&(Pr=0)),Mi(i)}function qy(i,s){s===0&&(s=pr()),i=Or(i,s),i!==null&&(Fe(i,s),Mi(i))}function Jw(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),qy(i,o)}function Ww(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),qy(i,o)}function t3(i,s){return vi(i,s)}var Uh=null,Qr=null,$m=!1,Lh=!1,Km=!1,Fs=0;function Mi(i){i!==Qr&&i.next===null&&(Qr===null?Uh=Qr=i:Qr=Qr.next=i),Lh=!0,$m||($m=!0,n3())}function fu(i,s){if(!Km&&Lh){Km=!0;do for(var o=!1,u=Uh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var T=u.suspendedLanes,M=u.pingedLanes;y=(1<<31-Qe(42|i)+1)-1,y&=m&~(T&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Vy(u,y))}else y=Bt,y=mr(u,u===ie?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Sa(u,y)||(o=!0,Vy(u,y));u=u.next}while(o);Km=!1}}function e3(){ky()}function ky(){Lh=$m=!1;var i=0;Fs!==0&&(c3()&&(i=Fs),Fs=0);for(var s=an(),o=null,u=Uh;u!==null;){var m=u.next,y=By(u,s);y===0?(u.next=null,o===null?Uh=m:o.next=m,m===null&&(Qr=o)):(o=u,(i!==0||(y&3)!==0)&&(Lh=!0)),u=m}fu(i)}function By(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-Qe(y),M=1<<T,D=m[T];D===-1?((M&o)===0||(M&u)!==0)&&(m[T]=_r(M,s)):D<=s&&(i.expiredLanes|=M),y&=~M}if(s=ie,o=Bt,o=mr(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&bi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Sa(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&bi(u),lt(o)){case 2:case 8:o=Nn;break;case 32:o=qn;break;case 268435456:o=Ta;break;default:o=qn}return u=Hy.bind(null,i),o=vi(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&bi(u),i.callbackPriority=2,i.callbackNode=null,2}function Hy(i,s){if(Be!==0&&Be!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Dh()&&i.callbackNode!==o)return null;var u=Bt;return u=mr(i,i===ie?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(xy(i,u,s),By(i,an()),i.callbackNode!=null&&i.callbackNode===o?Hy.bind(null,i):null)}function Vy(i,s){if(Dh())return null;xy(i,s,!0)}function n3(){f3(function(){(Gt&6)!==0?vi(dr,e3):ky()})}function Im(){return Fs===0&&(Fs=Vc()),Fs}function jy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xc(""+i)}function Fy(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function i3(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var y=jy((m[Ht]||null).action),T=u.submitter;T&&(s=(s=T[Ht]||null)?jy(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var M=new $c("action","action",null,u,m);i.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fs!==0){var D=T?Fy(m,T):new FormData(m);ym(o,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(M.preventDefault(),D=T?Fy(m,T):new FormData(m),ym(o,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var Jm=0;Jm<qd.length;Jm++){var Wm=qd[Jm],a3=Wm.toLowerCase(),s3=Wm[0].toUpperCase()+Wm.slice(1);ii(a3,"on"+s3)}ii(xp,"onAnimationEnd"),ii(Ep,"onAnimationIteration"),ii(wp,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Ew,"onTransitionRun"),ii(ww,"onTransitionStart"),ii(Tw,"onTransitionCancel"),ii(Tp,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function Py(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;t:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var M=u[T],D=M.instance,G=M.currentTarget;if(M=M.listener,D!==y&&m.isPropagationStopped())break t;y=M,m.currentTarget=G;try{y(m)}catch(it){xh(it)}m.currentTarget=null,y=D}else for(T=0;T<u.length;T++){if(M=u[T],D=M.instance,G=M.currentTarget,M=M.listener,D!==y&&m.isPropagationStopped())break t;y=M,m.currentTarget=G;try{y(m)}catch(it){xh(it)}m.currentTarget=null,y=D}}}}function kt(i,s){var o=s[De];o===void 0&&(o=s[De]=new Set);var u=i+"__bubble";o.has(u)||(Yy(s,i,2,!1),o.add(u))}function t_(i,s,o){var u=0;s&&(u|=4),Yy(o,i,u,s)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function e_(i){if(!i[Nh]){i[Nh]=!0,vn.forEach(function(o){o!=="selectionchange"&&(r3.has(o)||t_(o,!1,i),t_(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nh]||(s[Nh]=!0,t_("selectionchange",!1,s))}}function Yy(i,s,o,u){switch(mg(s)){case 2:var m=U3;break;case 8:m=L3;break;default:m=__}o=m.bind(null,s,o,i),m=void 0,!wd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function n_(i,s,o,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var M=u.stateNode.containerInfo;if(M===m)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;M!==null;){if(T=Kt(M),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=y=T;continue t}M=M.parentNode}}u=u.return}I0(function(){var G=y,it=xd(o),ct=[];t:{var $=Mp.get(i);if($!==void 0){var I=$c,Mt=i;switch(i){case"keypress":if(Zc(o)===0)break t;case"keydown":case"keyup":I=tw;break;case"focusin":Mt="focus",I=Ad;break;case"focusout":Mt="blur",I=Ad;break;case"beforeblur":case"afterblur":I=Ad;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=FE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=iw;break;case xp:case Ep:case wp:I=XE;break;case Tp:I=sw;break;case"scroll":case"scrollend":I=VE;break;case"wheel":I=ow;break;case"copy":case"cut":case"paste":I=ZE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=np;break;case"toggle":case"beforetoggle":I=uw}var Et=(s&4)!==0,Wt=!Et&&(i==="scroll"||i==="scrollend"),F=Et?$!==null?$+"Capture":null:$;Et=[];for(var V=G,X;V!==null;){var ot=V;if(X=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||X===null||F===null||(ot=Dl(V,F),ot!=null&&Et.push(mu(V,ot,X))),Wt)break;V=V.return}0<Et.length&&($=new I($,Mt,null,o,it),ct.push({event:$,listeners:Et}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",I=i==="mouseout"||i==="pointerout",$&&o!==bd&&(Mt=o.relatedTarget||o.fromElement)&&(Kt(Mt)||Mt[ne]))break t;if((I||$)&&($=it.window===it?it:($=it.ownerDocument)?$.defaultView||$.parentWindow:window,I?(Mt=o.relatedTarget||o.toElement,I=G,Mt=Mt?Kt(Mt):null,Mt!==null&&(Wt=l(Mt),Et=Mt.tag,Mt!==Wt||Et!==5&&Et!==27&&Et!==6)&&(Mt=null)):(I=null,Mt=G),I!==Mt)){if(Et=tp,ot="onMouseLeave",F="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Et=np,ot="onPointerLeave",F="onPointerEnter",V="pointer"),Wt=I==null?$:Ue(I),X=Mt==null?$:Ue(Mt),$=new Et(ot,V+"leave",I,o,it),$.target=Wt,$.relatedTarget=X,ot=null,Kt(it)===G&&(Et=new Et(F,V+"enter",Mt,o,it),Et.target=X,Et.relatedTarget=Wt,ot=Et),Wt=ot,I&&Mt)e:{for(Et=I,F=Mt,V=0,X=Et;X;X=$r(X))V++;for(X=0,ot=F;ot;ot=$r(ot))X++;for(;0<V-X;)Et=$r(Et),V--;for(;0<X-V;)F=$r(F),X--;for(;V--;){if(Et===F||F!==null&&Et===F.alternate)break e;Et=$r(Et),F=$r(F)}Et=null}else Et=null;I!==null&&Xy(ct,$,I,Et,!1),Mt!==null&&Wt!==null&&Xy(ct,Wt,Mt,Et,!0)}}t:{if($=G?Ue(G):window,I=$.nodeName&&$.nodeName.toLowerCase(),I==="select"||I==="input"&&$.type==="file")var yt=cp;else if(lp($))if(hp)yt=vw;else{yt=yw;var Dt=pw}else I=$.nodeName,!I||I.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&vd(G.elementType)&&(yt=cp):yt=gw;if(yt&&(yt=yt(i,G))){up(ct,yt,o,it);break t}Dt&&Dt(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&gd($,"number",$.value)}switch(Dt=G?Ue(G):window,i){case"focusin":(lp(Dt)||Dt.contentEditable==="true")&&(Mr=Dt,Ud=G,Vl=null);break;case"focusout":Vl=Ud=Mr=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,vp(ct,o,it);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":vp(ct,o,it)}var bt;if(zd)t:{switch(i){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Tr?rp(i,o)&&(wt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(wt="onCompositionStart");wt&&(ip&&o.locale!=="ko"&&(Tr||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Tr&&(bt=J0()):(Oa=it,Td="value"in Oa?Oa.value:Oa.textContent,Tr=!0)),Dt=qh(G,wt),0<Dt.length&&(wt=new ep(wt,i,null,o,it),ct.push({event:wt,listeners:Dt}),bt?wt.data=bt:(bt=op(o),bt!==null&&(wt.data=bt)))),(bt=hw?fw(i,o):dw(i,o))&&(wt=qh(G,"onBeforeInput"),0<wt.length&&(Dt=new ep("onBeforeInput","beforeinput",null,o,it),ct.push({event:Dt,listeners:wt}),Dt.data=bt)),i3(ct,i,G,o,it)}Py(ct,s)})}function mu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function qh(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Dl(i,o),m!=null&&u.unshift(mu(i,m,y)),m=Dl(i,s),m!=null&&u.push(mu(i,m,y))),i.tag===3)return u;i=i.return}return[]}function $r(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Xy(i,s,o,u,m){for(var y=s._reactName,T=[];o!==null&&o!==u;){var M=o,D=M.alternate,G=M.stateNode;if(M=M.tag,D!==null&&D===u)break;M!==5&&M!==26&&M!==27||G===null||(D=G,m?(G=Dl(o,y),G!=null&&T.unshift(mu(o,G,D))):m||(G=Dl(o,y),G!=null&&T.push(mu(o,G,D)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var o3=/\r\n?/g,l3=/\u0000|\uFFFD/g;function Gy(i){return(typeof i=="string"?i:""+i).replace(o3,`
`).replace(l3,"")}function Zy(i,s){return s=Gy(s),Gy(i)===s}function kh(){}function Jt(i,s,o,u,m,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||xr(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&xr(i,""+u);break;case"className":Fc(i,"class",u);break;case"tabIndex":Fc(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fc(i,o,u);break;case"style":$0(i,u,y);break;case"data":if(s!=="object"){Fc(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xc(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Jt(i,s,"name",m.name,m,null),Jt(i,s,"formEncType",m.formEncType,m,null),Jt(i,s,"formMethod",m.formMethod,m,null),Jt(i,s,"formTarget",m.formTarget,m,null)):(Jt(i,s,"encType",m.encType,m,null),Jt(i,s,"method",m.method,m,null),Jt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xc(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=kh);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(a(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xc(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),jc(i,"popover",u);break;case"xlinkActuate":Yi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":jc(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=BE.get(o)||o,jc(i,o,u))}}function i_(i,s,o,u,m,y){switch(o){case"style":$0(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(a(60));i.innerHTML=o}}break;case"children":typeof u=="string"?xr(i,u):(typeof u=="number"||typeof u=="bigint")&&xr(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=i[Ht]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):jc(i,o,u)}}}function He(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Jt(i,s,y,T,o,null)}}m&&Jt(i,s,"srcSet",o.srcSet,o,null),u&&Jt(i,s,"src",o.src,o,null);return;case"input":kt("invalid",i);var M=y=T=m=null,D=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var it=o[u];if(it!=null)switch(u){case"name":m=it;break;case"type":T=it;break;case"checked":D=it;break;case"defaultChecked":G=it;break;case"value":y=it;break;case"defaultValue":M=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,s));break;default:Jt(i,s,u,it,o,null)}}X0(i,y,M,D,G,T,m,!1),Pc(i);return;case"select":kt("invalid",i),u=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(M=o[m],M!=null))switch(m){case"value":y=M;break;case"defaultValue":T=M;break;case"multiple":u=M;default:Jt(i,s,m,M,o,null)}s=y,o=T,i.multiple=!!u,s!=null?br(i,!!u,s,!1):o!=null&&br(i,!!u,o,!0);return;case"textarea":kt("invalid",i),y=m=u=null;for(T in o)if(o.hasOwnProperty(T)&&(M=o[T],M!=null))switch(T){case"value":u=M;break;case"defaultValue":m=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Jt(i,s,T,M,o,null)}Z0(i,u,m,y),Pc(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(i,s,D,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<du.length;u++)kt(du[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Jt(i,s,G,u,o,null)}return;default:if(vd(s)){for(it in o)o.hasOwnProperty(it)&&(u=o[it],u!==void 0&&i_(i,s,it,u,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null&&Jt(i,s,M,u,o,null))}function u3(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,M=null,D=null,G=null,it=null;for(I in o){var ct=o[I];if(o.hasOwnProperty(I)&&ct!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":D=ct;default:u.hasOwnProperty(I)||Jt(i,s,I,null,u,ct)}}for(var $ in u){var I=u[$];if(ct=o[$],u.hasOwnProperty($)&&(I!=null||ct!=null))switch($){case"type":y=I;break;case"name":m=I;break;case"checked":G=I;break;case"defaultChecked":it=I;break;case"value":T=I;break;case"defaultValue":M=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,s));break;default:I!==ct&&Jt(i,s,$,I,u,ct)}}yd(i,T,M,D,G,it,y,m);return;case"select":I=T=M=$=null;for(y in o)if(D=o[y],o.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":I=D;default:u.hasOwnProperty(y)||Jt(i,s,y,null,u,D)}for(m in u)if(y=u[m],D=o[m],u.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":$=y;break;case"defaultValue":M=y;break;case"multiple":T=y;default:y!==D&&Jt(i,s,m,y,u,D)}s=M,o=T,u=I,$!=null?br(i,!!o,$,!1):!!u!=!!o&&(s!=null?br(i,!!o,s,!0):br(i,!!o,o?[]:"",!1));return;case"textarea":I=$=null;for(M in o)if(m=o[M],o.hasOwnProperty(M)&&m!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Jt(i,s,M,null,u,m)}for(T in u)if(m=u[T],y=o[T],u.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":$=m;break;case"defaultValue":I=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==y&&Jt(i,s,T,m,u,y)}G0(i,$,I);return;case"option":for(var Mt in o)if($=o[Mt],o.hasOwnProperty(Mt)&&$!=null&&!u.hasOwnProperty(Mt))switch(Mt){case"selected":i.selected=!1;break;default:Jt(i,s,Mt,null,u,$)}for(D in u)if($=u[D],I=o[D],u.hasOwnProperty(D)&&$!==I&&($!=null||I!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Jt(i,s,D,$,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)$=o[Et],o.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et)&&Jt(i,s,Et,null,u,$);for(G in u)if($=u[G],I=o[G],u.hasOwnProperty(G)&&$!==I&&($!=null||I!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:Jt(i,s,G,$,u,I)}return;default:if(vd(s)){for(var Wt in o)$=o[Wt],o.hasOwnProperty(Wt)&&$!==void 0&&!u.hasOwnProperty(Wt)&&i_(i,s,Wt,void 0,u,$);for(it in u)$=u[it],I=o[it],!u.hasOwnProperty(it)||$===I||$===void 0&&I===void 0||i_(i,s,it,$,u,I);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&Jt(i,s,F,null,u,$);for(ct in u)$=u[ct],I=o[ct],!u.hasOwnProperty(ct)||$===I||$==null&&I==null||Jt(i,s,ct,$,u,I)}var a_=null,s_=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function Qy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function r_(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var o_=null;function c3(){var i=window.event;return i&&i.type==="popstate"?i===o_?!1:(o_=i,!0):(o_=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(i){return Iy.resolve(null).then(i).catch(d3)}:Ky;function d3(i){setTimeout(function(){throw i})}function Ya(i){return i==="head"}function Jy(i,s){var o=s,u=0,m=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&_u(T.documentElement),o&2&&_u(T.body),o&4)for(o=T.head,_u(o),T=o.firstChild;T;){var M=T.nextSibling,D=T.nodeName;T[ni]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=M}}if(m===0){i.removeChild(y),wu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);wu(s)}function l_(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":l_(o),Xt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function m3(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ni])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function _3(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function u_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function p3(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function si(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var c_=null;function Wy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function tg(i,s,o){switch(s=Bh(o),i){case"html":if(i=s.documentElement,!i)throw Error(a(452));return i;case"head":if(i=s.head,!i)throw Error(a(453));return i;case"body":if(i=s.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function _u(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Xt(i)}var Zn=new Map,eg=new Set;function Hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var aa=S.d;S.d={f:y3,r:g3,D:v3,C:b3,L:x3,m:E3,X:T3,S:w3,M:M3};function y3(){var i=aa.f(),s=Rh();return i||s}function g3(i){var s=Bn(i);s!==null&&s.tag===5&&s.type==="form"?x1(s):aa.r(i)}var Kr=typeof document>"u"?null:document;function ng(i,s,o){var u=Kr;if(u&&typeof s=="string"&&s){var m=Vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),eg.has(m)||(eg.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),He(s,"link",i),re(s),u.head.appendChild(s)))}}function v3(i){aa.D(i),ng("dns-prefetch",i,null)}function b3(i,s){aa.C(i,s),ng("preconnect",i,s)}function x3(i,s,o){aa.L(i,s,o);var u=Kr;if(u&&i&&s){var m='link[rel="preload"][as="'+Vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Vn(o.imageSizes)+'"]')):m+='[href="'+Vn(i)+'"]';var y=m;switch(s){case"style":y=Ir(i);break;case"script":y=Jr(i)}Zn.has(y)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Zn.set(y,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(pu(y))||s==="script"&&u.querySelector(yu(y))||(s=u.createElement("link"),He(s,"link",i),re(s),u.head.appendChild(s)))}}function E3(i,s){aa.m(i,s);var o=Kr;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Vn(u)+'"][href="'+Vn(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jr(i)}if(!Zn.has(y)&&(i=_({rel:"modulepreload",href:i},s),Zn.set(y,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(y)))return}u=o.createElement("link"),He(u,"link",i),re(u),o.head.appendChild(u)}}}function w3(i,s,o){aa.S(i,s,o);var u=Kr;if(u&&i){var m=$e(u).hoistableStyles,y=Ir(i);s=s||"default";var T=m.get(y);if(!T){var M={loading:0,preload:null};if(T=u.querySelector(pu(y)))M.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Zn.get(y))&&h_(i,o);var D=T=u.createElement("link");re(D),He(D,"link",i),D._p=new Promise(function(G,it){D.onload=G,D.onerror=it}),D.addEventListener("load",function(){M.loading|=1}),D.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Vh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:M},m.set(y,T)}}}function T3(i,s){aa.X(i,s);var o=Kr;if(o&&i){var u=$e(o).hoistableScripts,m=Jr(i),y=u.get(m);y||(y=o.querySelector(yu(m)),y||(i=_({src:i,async:!0},s),(s=Zn.get(m))&&f_(i,s),y=o.createElement("script"),re(y),He(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function M3(i,s){aa.M(i,s);var o=Kr;if(o&&i){var u=$e(o).hoistableScripts,m=Jr(i),y=u.get(m);y||(y=o.querySelector(yu(m)),y||(i=_({src:i,async:!0,type:"module"},s),(s=Zn.get(m))&&f_(i,s),y=o.createElement("script"),re(y),He(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function ig(i,s,o,u){var m=(m=pt.current)?Hh(m):null;if(!m)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ir(o.href),o=$e(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ir(o.href);var y=$e(m).hoistableStyles,T=y.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=m.querySelector(pu(i)))&&!y._p&&(T.instance=y,T.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),y||S3(m,i,o,T.state))),s&&u===null)throw Error(a(528,""));return T}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jr(o),o=$e(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Ir(i){return'href="'+Vn(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function ag(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function S3(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),He(s,"link",o),re(s),i.head.appendChild(s))}function Jr(i){return'[src="'+Vn(i)+'"]'}function yu(i){return"script[async]"+i}function sg(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(u)return s.instance=u,re(u),u;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),re(u),He(u,"style",m),Vh(u,o.precedence,i),s.instance=u;case"stylesheet":m=Ir(o.href);var y=i.querySelector(pu(m));if(y)return s.state.loading|=4,s.instance=y,re(y),y;u=ag(o),(m=Zn.get(m))&&h_(u,m),y=(i.ownerDocument||i).createElement("link"),re(y);var T=y;return T._p=new Promise(function(M,D){T.onload=M,T.onerror=D}),He(y,"link",u),s.state.loading|=4,Vh(y,o.precedence,i),s.instance=y;case"script":return y=Jr(o.src),(m=i.querySelector(yu(y)))?(s.instance=m,re(m),m):(u=o,(m=Zn.get(y))&&(u=_({},o),f_(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),re(m),He(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Vh(u,o.precedence,i));return s.instance}function Vh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,T=0;T<u.length;T++){var M=u[T];if(M.dataset.precedence===s)y=M;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function h_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function f_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jh=null;function rg(i,s,o){if(jh===null){var u=new Map,m=jh=new Map;m.set(o,u)}else m=jh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[ni]||y[Nt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=i+T;var M=u.get(T);M?M.push(y):u.set(T,[y])}}return u}function og(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function A3(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var gu=null;function O3(){}function z3(i,s,o){if(gu===null)throw Error(a(475));var u=gu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Ir(o.href),y=i.querySelector(pu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Fh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,re(y);return}y=i.ownerDocument||i,o=ag(o),(m=Zn.get(m))&&h_(o,m),y=y.createElement("link"),re(y);var T=y;T._p=new Promise(function(M,D){T.onload=M,T.onerror=D}),He(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Fh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function R3(){if(gu===null)throw Error(a(475));var i=gu;return i.stylesheets&&i.count===0&&d_(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&d_(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Fh(){if(this.count--,this.count===0){if(this.stylesheets)d_(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function d_(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,s.forEach(C3,i),Ph=null,Fh.call(i))}function C3(i,s){if(!(s.state.loading&4)){var o=Ph.get(i);if(o)var u=o.get(null);else{o=new Map,Ph.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}m=s.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,m),o.set(T,m),this.count++,u=Fh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var vu={$$typeof:B,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function D3(i,s,o,u,m,y,T,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.hiddenUpdates=zl(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function ug(i,s,o,u,m,y,T,M,D,G,it,ct){return i=new D3(i,s,o,T,M,D,G,ct),s=1,y===!0&&(s|=24),y=xn(3,null,null,s),i.current=y,y.stateNode=i,s=Qd(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Jd(y),i}function cg(i){return i?(i=zr,i):zr}function hg(i,s,o,u,m,y){m=cg(m),u.context===null?u.context=m:u.pendingContext=m,u=Ca(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Da(i,u,s),o!==null&&(Sn(o,i,s),$l(o,i,s))}function fg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function m_(i,s){fg(i,s),(i=i.alternate)&&fg(i,s)}function dg(i){if(i.tag===13){var s=Or(i,67108864);s!==null&&Sn(s,i,67108864),m_(i,67108864)}}var Yh=!0;function U3(i,s,o,u){var m=Y.T;Y.T=null;var y=S.p;try{S.p=2,__(i,s,o,u)}finally{S.p=y,Y.T=m}}function L3(i,s,o,u){var m=Y.T;Y.T=null;var y=S.p;try{S.p=8,__(i,s,o,u)}finally{S.p=y,Y.T=m}}function __(i,s,o,u){if(Yh){var m=p_(u);if(m===null)n_(i,s,u,Xh,o),_g(i,u);else if(q3(m,i,s,o,u))u.stopPropagation();else if(_g(i,u),s&4&&-1<N3.indexOf(i)){for(;m!==null;){var y=Bn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Fi(y.pendingLanes);if(T!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var D=1<<31-Qe(T);M.entanglements[1]|=D,T&=~D}Mi(y),(Gt&6)===0&&(Oh=an()+500,fu(0))}}break;case 13:M=Or(y,2),M!==null&&Sn(M,y,2),Rh(),m_(y,2)}if(y=p_(u),y===null&&n_(i,s,u,Xh,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else n_(i,s,u,null,o)}}function p_(i){return i=xd(i),y_(i)}var Xh=null;function y_(i){if(Xh=null,i=Kt(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xh=i,null}function mg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case dr:return 2;case Nn:return 8;case qn:case ws:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var g_=!1,Xa=null,Ga=null,Za=null,bu=new Map,xu=new Map,Qa=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _g(i,s){switch(i){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(s.pointerId)}}function Eu(i,s,o,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Bn(s),s!==null&&dg(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function q3(i,s,o,u,m){switch(s){case"focusin":return Xa=Eu(Xa,i,s,o,u,m),!0;case"dragenter":return Ga=Eu(Ga,i,s,o,u,m),!0;case"mouseover":return Za=Eu(Za,i,s,o,u,m),!0;case"pointerover":var y=m.pointerId;return bu.set(y,Eu(bu.get(y)||null,i,s,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,xu.set(y,Eu(xu.get(y)||null,i,s,o,u,m)),!0}return!1}function pg(i){var s=Kt(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ct(i.priority,function(){if(o.tag===13){var u=Mn();u=Cl(u);var m=Or(o,u);m!==null&&Sn(m,o,u),m_(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=p_(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);bd=u,o.target.dispatchEvent(u),bd=null}else return s=Bn(o),s!==null&&dg(s),i.blockedOn=o,!1;s.shift()}return!0}function yg(i,s,o){Gh(i)&&o.delete(s)}function k3(){g_=!1,Xa!==null&&Gh(Xa)&&(Xa=null),Ga!==null&&Gh(Ga)&&(Ga=null),Za!==null&&Gh(Za)&&(Za=null),bu.forEach(yg),xu.forEach(yg)}function Zh(i,s){i.blockedOn===s&&(i.blockedOn=null,g_||(g_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k3)))}var Qh=null;function gg(i){Qh!==i&&(Qh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qh===i&&(Qh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(y_(u||o)===null)continue;break}var y=Bn(o);y!==null&&(i.splice(s,3),s-=3,ym(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function wu(i){function s(D){return Zh(D,i)}Xa!==null&&Zh(Xa,i),Ga!==null&&Zh(Ga,i),Za!==null&&Zh(Za,i),bu.forEach(s),xu.forEach(s);for(var o=0;o<Qa.length;o++){var u=Qa[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Qa.length&&(o=Qa[0],o.blockedOn===null);)pg(o),o.blockedOn===null&&Qa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],T=m[Ht]||null;if(typeof y=="function")T||gg(o);else if(T){var M=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Ht]||null)M=T.formAction;else if(y_(m)!==null)continue}else M=T.action;typeof M=="function"?o[u+1]=M:(o.splice(u,3),u-=3),gg(o)}}}function v_(i){this._internalRoot=i}$h.prototype.render=v_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=Mn();hg(o,u,i,s,null,null)},$h.prototype.unmount=v_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;hg(i.current,2,null,i,null,null),Rh(),s[ne]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=ft();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qa.length&&s!==0&&s<Qa[o].priority;o++);Qa.splice(o,0,i),o===0&&pg(i)}};var vg=t.version;if(vg!=="19.1.0")throw Error(a(527,vg,"19.1.0"));S.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var B3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{kn=Kh.inject(B3),Ee=Kh}catch{}}return Mu.createRoot=function(i,s){if(!r(i))throw Error(a(299));var o=!1,u="",m=N1,y=q1,T=k1,M=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks)),s=ug(i,1,!1,null,null,o,u,m,y,T,M,null),i[ne]=s.current,e_(i),new v_(s)},Mu.hydrateRoot=function(i,s,o){if(!r(i))throw Error(a(299));var u=!1,m="",y=N1,T=q1,M=k1,D=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=ug(i,1,!0,s,o??null,u,m,y,T,M,D,G),s.context=cg(null),o=s.current,u=Mn(),u=Cl(u),m=Ca(u),m.callback=null,Da(o,m,u),o=u,s.current.lanes=o,Fe(s,o),Mi(s),i[ne]=s.current,e_(i),new $h(s)},Mu.version="19.1.0",Mu}var Rg;function $3(){if(Rg)return E_.exports;Rg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E_.exports=Q3(),E_.exports}var K3=$3(),mt=E0();const St=x0(mt),I3="/miroir-des-cendres/assets/intro-VDf2oKVj.png";var Su={exports:{}},Cg;function J3(){if(Cg)return Su.exports;Cg=1,Su.exports=a,Su.exports.isMobile=a,Su.exports.default=a;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|redmi|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function a(r){r||(r={});let l=r.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;let c=e.test(l)&&!t.test(l)||!!r.tablet&&n.test(l);return!c&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(c=!0),c}return Su.exports}var W3=J3();const tT=x0(W3);var eT=Object.create,w0=Object.defineProperty,nT=Object.getOwnPropertyDescriptor,iT=Object.getOwnPropertyNames,aT=Object.getPrototypeOf,sT=Object.prototype.hasOwnProperty,rT=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Tl=(e,t)=>{for(var n in t)w0(e,n,{get:t[n],enumerable:!0})},oT=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of iT(t))!sT.call(e,r)&&r!==n&&w0(e,r,{get:()=>t[r],enumerable:!(a=nT(t,r))||a.enumerable});return e},lT=(e,t,n)=>(n=e!=null?eT(aT(e)):{},oT(!e||!e.__esModule?w0(n,"default",{value:e,enumerable:!0}):n,e)),uT=rT((e,t)=>{(function(n,a){typeof define=="function"&&define.amd?define([],a):typeof e=="object"?t.exports=a():n.YUVCanvas=a()})(e,function(){function n(a){a=a||{},this.canvasElement=a.canvas||document.createElement("canvas"),this.contextOptions=a.contextOptions,this.type=a.type||"yuv420",this.customYUV444=a.customYUV444,this.conversionType=a.conversionType||"rec601",this.width=a.width||640,this.height=a.height||320,this.animationTime=a.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.fakeAlphaEnabled=a.fakeAlphaEnabled===!0?1:0,this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),this.type==="yuv420"?this.drawNextOuptutPictureGL=function(r){var l=this.contextGL,c=this.texturePosBuffer,h=this.uTexturePosBuffer,f=this.vTexturePosBuffer,d=this.yTextureRef,_=this.uTextureRef,g=this.vTextureRef,v=r.yData,b=r.uData,x=r.vData,w=this.width,E=this.height,A=r.yDataPerRow||w,U=r.yRowCnt||E,B=r.uDataPerRow||w/2,k=r.uRowCnt||E/2,z=r.vDataPerRow||B,C=r.vRowCnt||k;l.viewport(0,0,this.viewportWidth||w,this.viewportHeight||E);var L=0,Q=0,Z=E/U,K=w/A,at=new Float32Array([K,L,Q,L,K,Z,Q,Z]);l.bindBuffer(l.ARRAY_BUFFER,c),l.bufferData(l.ARRAY_BUFFER,at,l.DYNAMIC_DRAW),this.customYUV444?(Z=E/k,K=w/B):(Z=E/2/k,K=w/2/B);var st=new Float32Array([K,L,Q,L,K,Z,Q,Z]);l.bindBuffer(l.ARRAY_BUFFER,h),l.bufferData(l.ARRAY_BUFFER,st,l.DYNAMIC_DRAW),this.customYUV444?(Z=E/C,K=w/z):(Z=E/2/C,K=w/2/z);var nt=new Float32Array([K,L,Q,L,K,Z,Q,Z]);l.bindBuffer(l.ARRAY_BUFFER,f),l.bufferData(l.ARRAY_BUFFER,nt,l.DYNAMIC_DRAW),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,d),l.texImage2D(l.TEXTURE_2D,0,l.LUMINANCE,A,U,0,l.LUMINANCE,l.UNSIGNED_BYTE,v),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,_),l.texImage2D(l.TEXTURE_2D,0,l.LUMINANCE,B,k,0,l.LUMINANCE,l.UNSIGNED_BYTE,b),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,g),l.texImage2D(l.TEXTURE_2D,0,l.LUMINANCE,z,C,0,l.LUMINANCE,l.UNSIGNED_BYTE,x),l.drawArrays(l.TRIANGLE_STRIP,0,4)}:this.type==="yuv422"&&(this.drawNextOuptutPictureGL=function(r){var l=this.contextGL,c=this.texturePosBuffer,h=this.textureRef,f=r.data,d=this.width,_=this.height,g=r.dataPerRow||d*2,v=r.rowCnt||_;l.viewport(0,0,d,_);var b=0,x=0,w=_/v,E=d/(g/2),A=new Float32Array([E,b,x,b,E,w,x,w]);l.bindBuffer(l.ARRAY_BUFFER,c),l.bufferData(l.ARRAY_BUFFER,A,l.DYNAMIC_DRAW),l.uniform2f(l.getUniformLocation(this.shaderProgram,"resolution"),g,_),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,h),l.texImage2D(l.TEXTURE_2D,0,l.LUMINANCE,g,v,0,l.LUMINANCE,l.UNSIGNED_BYTE,f),l.drawArrays(l.TRIANGLE_STRIP,0,4)})}return n.prototype.isWebGL=function(){return this.contextGL},n.prototype.initContextGL=function(){for(var a=this.canvasElement,r=null,l=["webgl","experimental-webgl","moz-webgl","webkit-3d"],c=0;!r&&c<l.length;){var h=l[c];try{this.contextOptions?r=a.getContext(h,this.contextOptions):r=a.getContext(h)}catch{r=null}(!r||typeof r.getParameter!="function")&&(r=null),++c}this.contextGL=r},n.prototype.initProgram=function(){var a=this.contextGL,r,l;this.type==="yuv420"?(r=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","  uTextureCoord = uTexturePos.xy;","  vTextureCoord = vTexturePos.xy;","}"].join(`
`),l=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","uniform int fakeAlphaEnabled;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","  if(fakeAlphaEnabled == 1) {","     highp float maxIntensity = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);","     if(maxIntensity < 0.1) gl_FragColor.a = maxIntensity;","  }","}"].join(`
`)):this.type==="yuv422"&&(r=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join(`
`),l=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","uniform int fakeAlphaEnabled;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","  if(fakeAlphaEnabled == 1) {","     highp float maxIntensity = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);","     if(maxIntensity < 0.1) gl_FragColor.a = maxIntensity;","  }","}"].join(`
`));var c=[];this.conversionType=="rec709"?c=[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:c=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var h=a.createShader(a.VERTEX_SHADER);a.shaderSource(h,r),a.compileShader(h),a.getShaderParameter(h,a.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+a.getShaderInfoLog(h));var f=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(f,l),a.compileShader(f),a.getShaderParameter(f,a.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+a.getShaderInfoLog(f));var d=a.createProgram();a.attachShader(d,h),a.attachShader(d,f),a.linkProgram(d),a.getProgramParameter(d,a.LINK_STATUS)||console.error("Program failed to compile: "+a.getProgramInfoLog(d)),a.useProgram(d);var _=a.getUniformLocation(d,"YUV2RGB");a.uniformMatrix4fv(_,!1,c);var g=a.getUniformLocation(d,"fakeAlphaEnabled");a.uniform1i(g,this.fakeAlphaEnabled),this.shaderProgram=d},n.prototype.initBuffers=function(){var a=this.contextGL,r=this.shaderProgram,l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),a.STATIC_DRAW);var c=a.getAttribLocation(r,"vertexPos");if(a.enableVertexAttribArray(c),a.vertexAttribPointer(c,2,a.FLOAT,!1,0,0),this.animationTime){var h=this.animationTime,f=0,d=15,_=function(){f+=d;var A=1*f/h;f>=h?A=1:setTimeout(_,d);var U=-1*A,B=1*A,k=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,k),a.bufferData(a.ARRAY_BUFFER,new Float32Array([B,B,U,B,B,U,U,U]),a.STATIC_DRAW);var z=a.getAttribLocation(r,"vertexPos");a.enableVertexAttribArray(z),a.vertexAttribPointer(z,2,a.FLOAT,!1,0,0);try{a.drawArrays(a.TRIANGLE_STRIP,0,4)}catch{}};_()}var g=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,g),a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),a.STATIC_DRAW);var v=a.getAttribLocation(r,"texturePos");if(a.enableVertexAttribArray(v),a.vertexAttribPointer(v,2,a.FLOAT,!1,0,0),this.texturePosBuffer=g,this.type==="yuv420"){var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),a.STATIC_DRAW);var x=a.getAttribLocation(r,"uTexturePos");a.enableVertexAttribArray(x),a.vertexAttribPointer(x,2,a.FLOAT,!1,0,0),this.uTexturePosBuffer=b;var w=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,w),a.bufferData(a.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),a.STATIC_DRAW);var E=a.getAttribLocation(r,"vTexturePos");a.enableVertexAttribArray(E),a.vertexAttribPointer(E,2,a.FLOAT,!1,0,0),this.vTexturePosBuffer=w}},n.prototype.initTextures=function(){var a=this.contextGL,r=this.shaderProgram;if(this.type==="yuv420"){var l=this.initTexture(),c=a.getUniformLocation(r,"ySampler");a.uniform1i(c,0),this.yTextureRef=l;var h=this.initTexture(),f=a.getUniformLocation(r,"uSampler");a.uniform1i(f,1),this.uTextureRef=h;var d=this.initTexture(),_=a.getUniformLocation(r,"vSampler");a.uniform1i(_,2),this.vTextureRef=d}else if(this.type==="yuv422"){var g=this.initTexture(),v=a.getUniformLocation(r,"sampler");a.uniform1i(v,0),this.textureRef=g}},n.prototype.initTexture=function(){var a=this.contextGL,r=a.createTexture();return a.bindTexture(a.TEXTURE_2D,r),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.bindTexture(a.TEXTURE_2D,null),r},n.prototype.drawNextOutputPicture=function(a,r,l,c){var h=this.contextGL;h?this.drawNextOuptutPictureGL(a,r,l,c):this.drawNextOuptutPictureRGBA(a,r,l,c)},n.prototype.drawNextOuptutPictureRGBA=function(a,r,f,c){var h=this.canvasElement,f=null,d=c,_=h.getContext("2d"),g=_.getImageData(0,0,a,r);g.data.set(d),f===null?_.putImageData(g,0,0):_.putImageData(g,-f.left,-f.top,0,0,f.width,f.height)},n})}),cT=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,Xe,mo,_o,xl,f2,d2,Dg=(Xe=class{static get Core(){if(!p(Xe,mo))throw new Error("Livelink core not initialized");return p(Xe,mo)}static load(t="prod"){var n;return p(Xe,_o)||W(Xe,_o,dt(n=Xe,xl,f2).call(n,t)),p(Xe,_o)}constructor(){}},mo=new WeakMap,_o=new WeakMap,xl=new WeakSet,f2=async function(t){var l;let n=await dt(l=Xe,xl,d2).call(l,t),{LivelinkCore:a}=await n();W(Xe,mo,a);let r={prod:"#FFC700",dev:"#36D399",debug:"#FB4949"};console.info(`%c Livelink Core initialized  %c ${a.VERSION} %c ${a.COMMIT_SHA} %c${t}`,"background: #080A12; color: #FFC700; font-weight: bold; padding: 8px; padding-right: 164px; border-radius: 16px; margin: 16px 0 16px 0","background: #9EA6D6; color: #0A1018; font-weight: bold; padding: 1px; padding-right: 0px; margin-left: -160px; border-radius: 16px 0 0 16px;","background: #6973A8; color: #0A1018; font-weight: bold; padding: 1px; padding-left: 0; border-radius: 0 16px 16px 0;",`background: ${r[t]}; color: #000; font-weight: bold; padding: 6px 16px; border: 4px solid #080A12; border-radius: 16px; margin-left: 16px`)},d2=async function(t){let n="https://cdn.3dverse.com/livelink/core/1.0/"+(t!=="prod"?`core.${t}.mjs`:"core.mjs");if(!cT)return new Function("return import('"+n+"')");let a=await(await fetch(n)).text(),r=await new Function("return import('node:vm')")();return r.SourceTextModule?(console.info("Using experimental VM SourceTextModule to load Livelink core"),async()=>{let l=new r.SourceTextModule(a,{identifier:n});return await l.link(()=>{}),await l.evaluate(),l.namespace}):new Function("return import('data:text/javascript;base64,"+btoa(a)+"')")},q(Xe,xl),q(Xe,mo,null),q(Xe,_o,null),Xe);typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink.core")?console.warn(" WARNING  Multiple instances of Livelink Core being imported."):window.__LIVELINK__["@3dverse/livelink.core"]="1.1.2");function hT({raw_frame_meta_data:e,client_id:t,entity_registry:n,viewports:a}){let r={renderer_timestamp:e.renderer_timestamp,frame_counter:e.frame_counter,viewport_layout_camera_entities:[],other_clients_camera_entities:[]};for(let l of e.clients){let c=l.client_id===t;for(let h of l.viewports){let f=n.get({entity_rtid:h.camera_rtid});if(!f)continue;let d=a.find(_=>{var g;return((g=_.camera_projection)==null?void 0:g.camera_entity.rtid)===f.rtid});if(c){d&&r.viewport_layout_camera_entities.push({camera_entity:f,world_from_view_matrix:h.ws_from_ls,world_position:Ug(h.ws_from_ls),world_orientation:Lg(h.ws_from_ls),viewport:d});continue}d&&d.is_camera_controlled_by_current_client||r.other_clients_camera_entities.push({camera_entity:f,world_from_view_matrix:h.ws_from_ls,world_position:Ug(h.ws_from_ls),world_orientation:Lg(h.ws_from_ls)})}}return r}function Ug(e){return[e[12],e[13],e[14]]}function Lg(e){let t=[0,0,0,0],n=e[0],a=e[1],r=e[2],l=e[4],c=e[5],h=e[6],f=e[8],d=e[9],_=e[10],g=n+c+_;if(g>0){let v=.5/Math.sqrt(g+1);t[3]=.25/v,t[0]=(h-d)*v,t[1]=(f-r)*v,t[2]=(a-l)*v}else if(n>c&&n>_){let v=2*Math.sqrt(1+n-c-_);t[3]=(h-d)/v,t[0]=.25*v,t[1]=(a+l)/v,t[2]=(r+f)/v}else if(c>_){let v=2*Math.sqrt(1+c-n-_);t[3]=(f-r)/v,t[0]=(a+l)/v,t[1]=.25*v,t[2]=(h+d)/v}else{let v=2*Math.sqrt(1+_-n-c);t[3]=(a-l)/v,t[0]=(r+f)/v,t[1]=(h+d)/v,t[2]=.25*v}return t}var Lf,m2,kv,T0=(kv=class{constructor({left:t=0,top:n=0,right:a,bottom:r,width:l,height:c}){q(this,Lf);H(this,"left");H(this,"top");H(this,"right");H(this,"bottom");H(this,"width");H(this,"height");dt(this,Lf,m2).call(this,{left:t,top:n,right:a,bottom:r,width:l,height:c})||console.error("Invalid rect",this),this.left=t,this.top=n,this.right=a!==void 0?a:t+l,this.bottom=r!==void 0?r:n+c,this.width=l!==void 0?l:a-t,this.height=c!==void 0?c:r-n}},Lf=new WeakSet,m2=function({left:t=0,top:n=0,right:a,bottom:r,width:l,height:c}){return!(t<0||n<0||a!==void 0&&a<0||r!==void 0&&r<0||l!==void 0&&l<0||c!==void 0&&c<0||a===void 0&&l===void 0||r===void 0&&c===void 0||a!==void 0&&t>=a||r!==void 0&&n>=r||l!==void 0&&a!==void 0&&t+l!==a||c!==void 0&&r!==void 0&&n+c!==r)},kv),_2=class extends Error{constructor(n){super(`Element has an invalid size : [${n.width} x ${n.height}]`);H(this,"rect");this.rect=n}},p2=class extends Error{constructor(n,a){super("Element MUST be contained into its parent bounds.");H(this,"rect");H(this,"parentRect");this.rect=n,this.parentRect=a}},vs,Nf,y2,Ea=(vs=class extends T0{constructor({left:n=0,top:a=0,right:r,bottom:l,width:c=1,height:h=1}){super({left:n,top:a,right:r,bottom:l,width:c,height:h});q(this,Nf);dt(this,Nf,y2).call(this)||console.error("Relative rect values must fall in [0,1] range",this)}static from_dom_elements({element:n,parent:a}){let r=n.getBoundingClientRect(),l=a.getBoundingClientRect();if(!r.width||!r.height)throw new _2(r);let c={left:r.left-l.left,top:r.top-l.top};if(c.left<0||c.top<0||c.left+r.width>l.left+l.width||c.top+r.height>l.top+l.height)throw new p2(r,l);let h=6;return new vs({left:parseFloat((c.left/l.width).toPrecision(h)),top:parseFloat((c.top/l.height).toPrecision(h)),width:parseFloat((r.width/l.width).toPrecision(h)),height:parseFloat((r.height/l.height).toPrecision(h))})}},Nf=new WeakSet,y2=function(){return this.left<1&&this.top<1&&this.right<=1&&this.bottom<=1&&this.width<=1&&this.height<=1},H(vs,"default",Object.freeze(new vs({left:0,top:0,width:1,height:1}))),vs),Qs,Ie,Rn,po,yo,Ce,Z_,g2,Q_,v2,fa,Yu,$_,b2,x2,Bv,fT=(Bv=class{constructor(t){q(this,Ce);q(this,Qs);q(this,Ie,[]);q(this,Rn,[0,0]);q(this,po,[32,32]);q(this,yo,!0);q(this,fa,()=>{dt(this,Ce,$_).call(this),p(this,Qs).isConfigured()&&dt(this,Ce,g2).call(this)&&(p(this,yo)&&(p(this,Rn),p(this,Qs)._resize({size:p(this,Rn)}),W(this,yo,!1)),p(this,Ce,Z_),p(this,Qs)._setViewports({viewport_configs:p(this,Ce,Z_)}))});q(this,Yu,(t,n)=>Math.floor(t)+(Math.floor(t)%n===0?0:n-Math.floor(t)%n));W(this,Qs,t)}get dimensions(){return p(this,Rn)}get width(){return p(this,Rn)[0]}get height(){return p(this,Rn)[1]}get viewports(){let t=[];for(let n of p(this,Ie))t.push(...n.viewports);return t}init(){p(this,fa).call(this)}release(){for(let t of p(this,Ie))t.release()}consumeDecodedFrame({decoded_frame:t}){for(let n of p(this,Ie))n.drawFrame({decoded_frame:t})}addViewport({viewport:t}){dt(this,Ce,Q_).call(this,{viewport:t}),p(this,fa).call(this)}addViewports({viewports:t}){for(let n of t)dt(this,Ce,Q_).call(this,{viewport:n});p(this,fa).call(this)}removeViewport({viewport:t}){let n=p(this,Ie).indexOf(t.rendering_surface);if(n===-1)throw new Error("Viewport without registered surface");let a=p(this,Ie)[n];a.removeViewport({viewport:t}),t.release(),a.viewports.length===0&&(a.removeEventListener("on-rendering-surface-resized",p(this,fa)),a.release(),p(this,Ie).splice(n,1)),p(this,fa).call(this)}_computeRemoteCanvasSize({codec:t}){return t==="h265"&&(W(this,po,[64,64]),dt(this,Ce,$_).call(this)),p(this,Rn)}},Qs=new WeakMap,Ie=new WeakMap,Rn=new WeakMap,po=new WeakMap,yo=new WeakMap,Ce=new WeakSet,Z_=function(){let t=[];for(let n of p(this,Ie))t.push(...n._getViewportConfigs({width:this.width,height:this.height}));return t.sort((n,a)=>n.z_index-a.z_index)},g2=function(){return p(this,Ie).every(t=>t.isValid())},Q_=function({viewport:t}){t.rendering_surface.addViewport({viewport:t}),!p(this,Ie).includes(t.rendering_surface)&&dt(this,Ce,v2).call(this,{surface:t.rendering_surface})},v2=function({surface:t}){t.addEventListener("on-rendering-surface-resized",p(this,fa)),p(this,Ie).push(t)},fa=new WeakMap,Yu=new WeakMap,$_=function(){let{offset:t,width:n,height:a}=dt(this,Ce,b2).call(this),r=[p(this,Yu).call(this,n,p(this,po)[0]),p(this,Yu).call(this,a,p(this,po)[1])];p(this,yo)||W(this,yo,r[0]!=p(this,Rn)[0]||r[1]!=this.dimensions[1]),W(this,Rn,r),dt(this,Ce,x2).call(this,{offset:t,width:p(this,Rn)[0],height:p(this,Rn)[1]})},b2=function(){let t=[Number.MAX_VALUE,Number.MAX_VALUE],n=[0,0];for(let l of p(this,Ie)){let c=l.getBoundingRect();t[0]=Math.min(t[0],c.left),t[1]=Math.min(t[1],c.top),n[0]=Math.max(n[0],c.right),n[1]=Math.max(n[1],c.bottom)}let a=n[0]-t[0],r=n[1]-t[1];return{offset:t,width:a,height:r}},x2=function({offset:t,width:n,height:a}){for(let r of p(this,Ie)){let l=r.getBoundingRect();r.relative_rect=new Ea({left:(l.left-t[0])/n,top:(l.top-t[1])/a,width:(l.right-l.left)/n,height:(l.bottom-l.top)/a})}},Bv),E2={};Tl(E2,{ARRAY_TYPE:()=>de,EPSILON:()=>zt,RANDOM:()=>ho,equals:()=>pT,setMatrixArrayType:()=>dT,toRadian:()=>_T});var zt=1e-6,de=typeof Float32Array<"u"?Float32Array:Array,ho=Math.random;function dT(e){de=e}var mT=Math.PI/180;function _T(e){return e*mT}function pT(e,t){return Math.abs(e-t)<=zt*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var K_={};Tl(K_,{add:()=>HT,adjoint:()=>MT,clone:()=>gT,copy:()=>vT,create:()=>w2,determinant:()=>ST,equals:()=>PT,exactEquals:()=>FT,frob:()=>BT,fromMat2d:()=>UT,fromMat4:()=>yT,fromQuat:()=>LT,fromRotation:()=>CT,fromScaling:()=>DT,fromTranslation:()=>RT,fromValues:()=>bT,identity:()=>ET,invert:()=>TT,mul:()=>YT,multiply:()=>T2,multiplyScalar:()=>VT,multiplyScalarAndAdd:()=>jT,normalFromMat4:()=>NT,projection:()=>qT,rotate:()=>OT,scale:()=>zT,set:()=>xT,str:()=>kT,sub:()=>XT,subtract:()=>M2,translate:()=>AT,transpose:()=>wT});function w2(){var e=new de(9);return de!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function yT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function gT(e){var t=new de(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function bT(e,t,n,a,r,l,c,h,f){var d=new de(9);return d[0]=e,d[1]=t,d[2]=n,d[3]=a,d[4]=r,d[5]=l,d[6]=c,d[7]=h,d[8]=f,d}function xT(e,t,n,a,r,l,c,h,f,d){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=d,e}function ET(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function wT(e,t){if(e===t){var n=t[1],a=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=a,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function TT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=_*c-h*d,v=-_*l+h*f,b=d*l-c*f,x=n*g+a*v+r*b;return x?(x=1/x,e[0]=g*x,e[1]=(-_*a+r*d)*x,e[2]=(h*a-r*c)*x,e[3]=v*x,e[4]=(_*n-r*f)*x,e[5]=(-h*n+r*l)*x,e[6]=b*x,e[7]=(-d*n+a*f)*x,e[8]=(c*n-a*l)*x,e):null}function MT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8];return e[0]=c*_-h*d,e[1]=r*d-a*_,e[2]=a*h-r*c,e[3]=h*f-l*_,e[4]=n*_-r*f,e[5]=r*l-n*h,e[6]=l*d-c*f,e[7]=a*f-n*d,e[8]=n*c-a*l,e}function ST(e){var t=e[0],n=e[1],a=e[2],r=e[3],l=e[4],c=e[5],h=e[6],f=e[7],d=e[8];return t*(d*l-c*f)+n*(-d*r+c*h)+a*(f*r-l*h)}function T2(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=t[8],v=n[0],b=n[1],x=n[2],w=n[3],E=n[4],A=n[5],U=n[6],B=n[7],k=n[8];return e[0]=v*a+b*c+x*d,e[1]=v*r+b*h+x*_,e[2]=v*l+b*f+x*g,e[3]=w*a+E*c+A*d,e[4]=w*r+E*h+A*_,e[5]=w*l+E*f+A*g,e[6]=U*a+B*c+k*d,e[7]=U*r+B*h+k*_,e[8]=U*l+B*f+k*g,e}function AT(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=t[8],v=n[0],b=n[1];return e[0]=a,e[1]=r,e[2]=l,e[3]=c,e[4]=h,e[5]=f,e[6]=v*a+b*c+d,e[7]=v*r+b*h+_,e[8]=v*l+b*f+g,e}function OT(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=t[8],v=Math.sin(n),b=Math.cos(n);return e[0]=b*a+v*c,e[1]=b*r+v*h,e[2]=b*l+v*f,e[3]=b*c-v*a,e[4]=b*h-v*r,e[5]=b*f-v*l,e[6]=d,e[7]=_,e[8]=g,e}function zT(e,t,n){var a=n[0],r=n[1];return e[0]=a*t[0],e[1]=a*t[1],e[2]=a*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function RT(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function CT(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=n,e[2]=0,e[3]=-n,e[4]=a,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function DT(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function UT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function LT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n+n,h=a+a,f=r+r,d=n*c,_=a*c,g=a*h,v=r*c,b=r*h,x=r*f,w=l*c,E=l*h,A=l*f;return e[0]=1-g-x,e[3]=_-A,e[6]=v+E,e[1]=_+A,e[4]=1-d-x,e[7]=b-w,e[2]=v-E,e[5]=b+w,e[8]=1-d-g,e}function NT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15],U=n*h-a*c,B=n*f-r*c,k=n*d-l*c,z=a*f-r*h,C=a*d-l*h,L=r*d-l*f,Q=_*w-g*x,Z=_*E-v*x,K=_*A-b*x,at=g*E-v*w,st=g*A-b*w,nt=v*A-b*E,rt=U*nt-B*st+k*at+z*K-C*Z+L*Q;return rt?(rt=1/rt,e[0]=(h*nt-f*st+d*at)*rt,e[1]=(f*K-c*nt-d*Z)*rt,e[2]=(c*st-h*K+d*Q)*rt,e[3]=(r*st-a*nt-l*at)*rt,e[4]=(n*nt-r*K+l*Z)*rt,e[5]=(a*K-n*st-l*Q)*rt,e[6]=(w*L-E*C+A*z)*rt,e[7]=(E*k-x*L-A*B)*rt,e[8]=(x*C-w*k+A*U)*rt,e):null}function qT(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function kT(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function BT(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function HT(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function M2(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function VT(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function jT(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e[3]=t[3]+n[3]*a,e[4]=t[4]+n[4]*a,e[5]=t[5]+n[5]*a,e[6]=t[6]+n[6]*a,e[7]=t[7]+n[7]*a,e[8]=t[8]+n[8]*a,e}function FT(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function PT(e,t){var n=e[0],a=e[1],r=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],_=e[8],g=t[0],v=t[1],b=t[2],x=t[3],w=t[4],E=t[5],A=t[6],U=t[7],B=t[8];return Math.abs(n-g)<=zt*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-v)<=zt*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(r-b)<=zt*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(l-x)<=zt*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(c-w)<=zt*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(h-E)<=zt*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-A)<=zt*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-U)<=zt*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(_-B)<=zt*Math.max(1,Math.abs(_),Math.abs(B))}var YT=T2,XT=M2,Ve={};Tl(Ve,{add:()=>zM,adjoint:()=>WT,clone:()=>ZT,copy:()=>QT,create:()=>GT,determinant:()=>tM,equals:()=>UM,exactEquals:()=>DM,frob:()=>OM,fromQuat:()=>gM,fromQuat2:()=>dM,fromRotation:()=>uM,fromRotationTranslation:()=>O2,fromRotationTranslationScale:()=>pM,fromRotationTranslationScaleOrigin:()=>yM,fromScaling:()=>lM,fromTranslation:()=>oM,fromValues:()=>$T,fromXRotation:()=>cM,fromYRotation:()=>hM,fromZRotation:()=>fM,frustum:()=>vM,getRotation:()=>_M,getScaling:()=>z2,getTranslation:()=>mM,identity:()=>S2,invert:()=>JT,lookAt:()=>MM,mul:()=>LM,multiply:()=>A2,multiplyScalar:()=>RM,multiplyScalarAndAdd:()=>CM,ortho:()=>wM,orthoNO:()=>C2,orthoZO:()=>TM,perspective:()=>bM,perspectiveFromFieldOfView:()=>EM,perspectiveNO:()=>R2,perspectiveZO:()=>xM,rotate:()=>iM,rotateX:()=>aM,rotateY:()=>sM,rotateZ:()=>rM,scale:()=>nM,set:()=>KT,str:()=>AM,sub:()=>NM,subtract:()=>D2,targetTo:()=>SM,translate:()=>eM,transpose:()=>IT});function GT(){var e=new de(16);return de!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function ZT(e){var t=new de(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function QT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $T(e,t,n,a,r,l,c,h,f,d,_,g,v,b,x,w){var E=new de(16);return E[0]=e,E[1]=t,E[2]=n,E[3]=a,E[4]=r,E[5]=l,E[6]=c,E[7]=h,E[8]=f,E[9]=d,E[10]=_,E[11]=g,E[12]=v,E[13]=b,E[14]=x,E[15]=w,E}function KT(e,t,n,a,r,l,c,h,f,d,_,g,v,b,x,w,E){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=d,e[9]=_,e[10]=g,e[11]=v,e[12]=b,e[13]=x,e[14]=w,e[15]=E,e}function S2(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function IT(e,t){if(e===t){var n=t[1],a=t[2],r=t[3],l=t[6],c=t[7],h=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=a,e[9]=l,e[11]=t[14],e[12]=r,e[13]=c,e[14]=h}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function JT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15],U=n*h-a*c,B=n*f-r*c,k=n*d-l*c,z=a*f-r*h,C=a*d-l*h,L=r*d-l*f,Q=_*w-g*x,Z=_*E-v*x,K=_*A-b*x,at=g*E-v*w,st=g*A-b*w,nt=v*A-b*E,rt=U*nt-B*st+k*at+z*K-C*Z+L*Q;return rt?(rt=1/rt,e[0]=(h*nt-f*st+d*at)*rt,e[1]=(r*st-a*nt-l*at)*rt,e[2]=(w*L-E*C+A*z)*rt,e[3]=(v*C-g*L-b*z)*rt,e[4]=(f*K-c*nt-d*Z)*rt,e[5]=(n*nt-r*K+l*Z)*rt,e[6]=(E*k-x*L-A*B)*rt,e[7]=(_*L-v*k+b*B)*rt,e[8]=(c*st-h*K+d*Q)*rt,e[9]=(a*K-n*st-l*Q)*rt,e[10]=(x*C-w*k+A*U)*rt,e[11]=(g*k-_*C-b*U)*rt,e[12]=(h*Z-c*at-f*Q)*rt,e[13]=(n*at-a*Z+r*Q)*rt,e[14]=(w*B-x*z-E*U)*rt,e[15]=(_*z-g*B+v*U)*rt,e):null}function WT(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15];return e[0]=h*(v*A-b*E)-g*(f*A-d*E)+w*(f*b-d*v),e[1]=-(a*(v*A-b*E)-g*(r*A-l*E)+w*(r*b-l*v)),e[2]=a*(f*A-d*E)-h*(r*A-l*E)+w*(r*d-l*f),e[3]=-(a*(f*b-d*v)-h*(r*b-l*v)+g*(r*d-l*f)),e[4]=-(c*(v*A-b*E)-_*(f*A-d*E)+x*(f*b-d*v)),e[5]=n*(v*A-b*E)-_*(r*A-l*E)+x*(r*b-l*v),e[6]=-(n*(f*A-d*E)-c*(r*A-l*E)+x*(r*d-l*f)),e[7]=n*(f*b-d*v)-c*(r*b-l*v)+_*(r*d-l*f),e[8]=c*(g*A-b*w)-_*(h*A-d*w)+x*(h*b-d*g),e[9]=-(n*(g*A-b*w)-_*(a*A-l*w)+x*(a*b-l*g)),e[10]=n*(h*A-d*w)-c*(a*A-l*w)+x*(a*d-l*h),e[11]=-(n*(h*b-d*g)-c*(a*b-l*g)+_*(a*d-l*h)),e[12]=-(c*(g*E-v*w)-_*(h*E-f*w)+x*(h*v-f*g)),e[13]=n*(g*E-v*w)-_*(a*E-r*w)+x*(a*v-r*g),e[14]=-(n*(h*E-f*w)-c*(a*E-r*w)+x*(a*f-r*h)),e[15]=n*(h*v-f*g)-c*(a*v-r*g)+_*(a*f-r*h),e}function tM(e){var t=e[0],n=e[1],a=e[2],r=e[3],l=e[4],c=e[5],h=e[6],f=e[7],d=e[8],_=e[9],g=e[10],v=e[11],b=e[12],x=e[13],w=e[14],E=e[15],A=t*c-n*l,U=t*h-a*l,B=t*f-r*l,k=n*h-a*c,z=n*f-r*c,C=a*f-r*h,L=d*x-_*b,Q=d*w-g*b,Z=d*E-v*b,K=_*w-g*x,at=_*E-v*x,st=g*E-v*w;return A*st-U*at+B*K+k*Z-z*Q+C*L}function A2(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=t[8],v=t[9],b=t[10],x=t[11],w=t[12],E=t[13],A=t[14],U=t[15],B=n[0],k=n[1],z=n[2],C=n[3];return e[0]=B*a+k*h+z*g+C*w,e[1]=B*r+k*f+z*v+C*E,e[2]=B*l+k*d+z*b+C*A,e[3]=B*c+k*_+z*x+C*U,B=n[4],k=n[5],z=n[6],C=n[7],e[4]=B*a+k*h+z*g+C*w,e[5]=B*r+k*f+z*v+C*E,e[6]=B*l+k*d+z*b+C*A,e[7]=B*c+k*_+z*x+C*U,B=n[8],k=n[9],z=n[10],C=n[11],e[8]=B*a+k*h+z*g+C*w,e[9]=B*r+k*f+z*v+C*E,e[10]=B*l+k*d+z*b+C*A,e[11]=B*c+k*_+z*x+C*U,B=n[12],k=n[13],z=n[14],C=n[15],e[12]=B*a+k*h+z*g+C*w,e[13]=B*r+k*f+z*v+C*E,e[14]=B*l+k*d+z*b+C*A,e[15]=B*c+k*_+z*x+C*U,e}function eM(e,t,n){var a=n[0],r=n[1],l=n[2],c,h,f,d,_,g,v,b,x,w,E,A;return t===e?(e[12]=t[0]*a+t[4]*r+t[8]*l+t[12],e[13]=t[1]*a+t[5]*r+t[9]*l+t[13],e[14]=t[2]*a+t[6]*r+t[10]*l+t[14],e[15]=t[3]*a+t[7]*r+t[11]*l+t[15]):(c=t[0],h=t[1],f=t[2],d=t[3],_=t[4],g=t[5],v=t[6],b=t[7],x=t[8],w=t[9],E=t[10],A=t[11],e[0]=c,e[1]=h,e[2]=f,e[3]=d,e[4]=_,e[5]=g,e[6]=v,e[7]=b,e[8]=x,e[9]=w,e[10]=E,e[11]=A,e[12]=c*a+_*r+x*l+t[12],e[13]=h*a+g*r+w*l+t[13],e[14]=f*a+v*r+E*l+t[14],e[15]=d*a+b*r+A*l+t[15]),e}function nM(e,t,n){var a=n[0],r=n[1],l=n[2];return e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*l,e[9]=t[9]*l,e[10]=t[10]*l,e[11]=t[11]*l,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function iM(e,t,n,a){var r=a[0],l=a[1],c=a[2],h=Math.hypot(r,l,c),f,d,_,g,v,b,x,w,E,A,U,B,k,z,C,L,Q,Z,K,at,st,nt,rt,_t;return h<zt?null:(h=1/h,r*=h,l*=h,c*=h,f=Math.sin(n),d=Math.cos(n),_=1-d,g=t[0],v=t[1],b=t[2],x=t[3],w=t[4],E=t[5],A=t[6],U=t[7],B=t[8],k=t[9],z=t[10],C=t[11],L=r*r*_+d,Q=l*r*_+c*f,Z=c*r*_-l*f,K=r*l*_-c*f,at=l*l*_+d,st=c*l*_+r*f,nt=r*c*_+l*f,rt=l*c*_-r*f,_t=c*c*_+d,e[0]=g*L+w*Q+B*Z,e[1]=v*L+E*Q+k*Z,e[2]=b*L+A*Q+z*Z,e[3]=x*L+U*Q+C*Z,e[4]=g*K+w*at+B*st,e[5]=v*K+E*at+k*st,e[6]=b*K+A*at+z*st,e[7]=x*K+U*at+C*st,e[8]=g*nt+w*rt+B*_t,e[9]=v*nt+E*rt+k*_t,e[10]=b*nt+A*rt+z*_t,e[11]=x*nt+U*rt+C*_t,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function aM(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[4],c=t[5],h=t[6],f=t[7],d=t[8],_=t[9],g=t[10],v=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=l*r+d*a,e[5]=c*r+_*a,e[6]=h*r+g*a,e[7]=f*r+v*a,e[8]=d*r-l*a,e[9]=_*r-c*a,e[10]=g*r-h*a,e[11]=v*r-f*a,e}function sM(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[0],c=t[1],h=t[2],f=t[3],d=t[8],_=t[9],g=t[10],v=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=l*r-d*a,e[1]=c*r-_*a,e[2]=h*r-g*a,e[3]=f*r-v*a,e[8]=l*a+d*r,e[9]=c*a+_*r,e[10]=h*a+g*r,e[11]=f*a+v*r,e}function rM(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[0],c=t[1],h=t[2],f=t[3],d=t[4],_=t[5],g=t[6],v=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=l*r+d*a,e[1]=c*r+_*a,e[2]=h*r+g*a,e[3]=f*r+v*a,e[4]=d*r-l*a,e[5]=_*r-c*a,e[6]=g*r-h*a,e[7]=v*r-f*a,e}function oM(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lM(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function uM(e,t,n){var a=n[0],r=n[1],l=n[2],c=Math.hypot(a,r,l),h,f,d;return c<zt?null:(c=1/c,a*=c,r*=c,l*=c,h=Math.sin(t),f=Math.cos(t),d=1-f,e[0]=a*a*d+f,e[1]=r*a*d+l*h,e[2]=l*a*d-r*h,e[3]=0,e[4]=a*r*d-l*h,e[5]=r*r*d+f,e[6]=l*r*d+a*h,e[7]=0,e[8]=a*l*d+r*h,e[9]=r*l*d-a*h,e[10]=l*l*d+f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function cM(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hM(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fM(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O2(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=a+a,f=r+r,d=l+l,_=a*h,g=a*f,v=a*d,b=r*f,x=r*d,w=l*d,E=c*h,A=c*f,U=c*d;return e[0]=1-(b+w),e[1]=g+U,e[2]=v-A,e[3]=0,e[4]=g-U,e[5]=1-(_+w),e[6]=x+E,e[7]=0,e[8]=v+A,e[9]=x-E,e[10]=1-(_+b),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function dM(e,t){var n=new de(3),a=-t[0],r=-t[1],l=-t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=a*a+r*r+l*l+c*c;return g>0?(n[0]=(h*c+_*a+f*l-d*r)*2/g,n[1]=(f*c+_*r+d*a-h*l)*2/g,n[2]=(d*c+_*l+h*r-f*a)*2/g):(n[0]=(h*c+_*a+f*l-d*r)*2,n[1]=(f*c+_*r+d*a-h*l)*2,n[2]=(d*c+_*l+h*r-f*a)*2),O2(e,t,n),e}function mM(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function z2(e,t){var n=t[0],a=t[1],r=t[2],l=t[4],c=t[5],h=t[6],f=t[8],d=t[9],_=t[10];return e[0]=Math.hypot(n,a,r),e[1]=Math.hypot(l,c,h),e[2]=Math.hypot(f,d,_),e}function _M(e,t){var n=new de(3);z2(n,t);var a=1/n[0],r=1/n[1],l=1/n[2],c=t[0]*a,h=t[1]*r,f=t[2]*l,d=t[4]*a,_=t[5]*r,g=t[6]*l,v=t[8]*a,b=t[9]*r,x=t[10]*l,w=c+_+x,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(g-b)/E,e[1]=(v-f)/E,e[2]=(h-d)/E):c>_&&c>x?(E=Math.sqrt(1+c-_-x)*2,e[3]=(g-b)/E,e[0]=.25*E,e[1]=(h+d)/E,e[2]=(v+f)/E):_>x?(E=Math.sqrt(1+_-c-x)*2,e[3]=(v-f)/E,e[0]=(h+d)/E,e[1]=.25*E,e[2]=(g+b)/E):(E=Math.sqrt(1+x-c-_)*2,e[3]=(h-d)/E,e[0]=(v+f)/E,e[1]=(g+b)/E,e[2]=.25*E),e}function pM(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3],f=r+r,d=l+l,_=c+c,g=r*f,v=r*d,b=r*_,x=l*d,w=l*_,E=c*_,A=h*f,U=h*d,B=h*_,k=a[0],z=a[1],C=a[2];return e[0]=(1-(x+E))*k,e[1]=(v+B)*k,e[2]=(b-U)*k,e[3]=0,e[4]=(v-B)*z,e[5]=(1-(g+E))*z,e[6]=(w+A)*z,e[7]=0,e[8]=(b+U)*C,e[9]=(w-A)*C,e[10]=(1-(g+x))*C,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function yM(e,t,n,a,r){var l=t[0],c=t[1],h=t[2],f=t[3],d=l+l,_=c+c,g=h+h,v=l*d,b=l*_,x=l*g,w=c*_,E=c*g,A=h*g,U=f*d,B=f*_,k=f*g,z=a[0],C=a[1],L=a[2],Q=r[0],Z=r[1],K=r[2],at=(1-(w+A))*z,st=(b+k)*z,nt=(x-B)*z,rt=(b-k)*C,_t=(1-(v+A))*C,Y=(E+U)*C,S=(x+B)*L,R=(E-U)*L,j=(1-(v+w))*L;return e[0]=at,e[1]=st,e[2]=nt,e[3]=0,e[4]=rt,e[5]=_t,e[6]=Y,e[7]=0,e[8]=S,e[9]=R,e[10]=j,e[11]=0,e[12]=n[0]+Q-(at*Q+rt*Z+S*K),e[13]=n[1]+Z-(st*Q+_t*Z+R*K),e[14]=n[2]+K-(nt*Q+Y*Z+j*K),e[15]=1,e}function gM(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n+n,h=a+a,f=r+r,d=n*c,_=a*c,g=a*h,v=r*c,b=r*h,x=r*f,w=l*c,E=l*h,A=l*f;return e[0]=1-g-x,e[1]=_+A,e[2]=v-E,e[3]=0,e[4]=_-A,e[5]=1-d-x,e[6]=b+w,e[7]=0,e[8]=v+E,e[9]=b-w,e[10]=1-d-g,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vM(e,t,n,a,r,l,c){var h=1/(n-t),f=1/(r-a),d=1/(l-c);return e[0]=l*2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l*2*f,e[6]=0,e[7]=0,e[8]=(n+t)*h,e[9]=(r+a)*f,e[10]=(c+l)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*l*2*d,e[15]=0,e}function R2(e,t,n,a,r){var l=1/Math.tan(t/2),c;return e[0]=l/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(c=1/(a-r),e[10]=(r+a)*c,e[14]=2*r*a*c):(e[10]=-1,e[14]=-2*a),e}var bM=R2;function xM(e,t,n,a,r){var l=1/Math.tan(t/2),c;return e[0]=l/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(c=1/(a-r),e[10]=r*c,e[14]=r*a*c):(e[10]=-1,e[14]=-a),e}function EM(e,t,n,a){var r=Math.tan(t.upDegrees*Math.PI/180),l=Math.tan(t.downDegrees*Math.PI/180),c=Math.tan(t.leftDegrees*Math.PI/180),h=Math.tan(t.rightDegrees*Math.PI/180),f=2/(c+h),d=2/(r+l);return e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-((c-h)*f*.5),e[9]=(r-l)*d*.5,e[10]=a/(n-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n/(n-a),e[15]=0,e}function C2(e,t,n,a,r,l,c){var h=1/(t-n),f=1/(a-r),d=1/(l-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+n)*h,e[13]=(r+a)*f,e[14]=(c+l)*d,e[15]=1,e}var wM=C2;function TM(e,t,n,a,r,l,c){var h=1/(t-n),f=1/(a-r),d=1/(l-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d,e[11]=0,e[12]=(t+n)*h,e[13]=(r+a)*f,e[14]=l*d,e[15]=1,e}function MM(e,t,n,a){var r,l,c,h,f,d,_,g,v,b,x=t[0],w=t[1],E=t[2],A=a[0],U=a[1],B=a[2],k=n[0],z=n[1],C=n[2];return Math.abs(x-k)<zt&&Math.abs(w-z)<zt&&Math.abs(E-C)<zt?S2(e):(_=x-k,g=w-z,v=E-C,b=1/Math.hypot(_,g,v),_*=b,g*=b,v*=b,r=U*v-B*g,l=B*_-A*v,c=A*g-U*_,b=Math.hypot(r,l,c),b?(b=1/b,r*=b,l*=b,c*=b):(r=0,l=0,c=0),h=g*c-v*l,f=v*r-_*c,d=_*l-g*r,b=Math.hypot(h,f,d),b?(b=1/b,h*=b,f*=b,d*=b):(h=0,f=0,d=0),e[0]=r,e[1]=h,e[2]=_,e[3]=0,e[4]=l,e[5]=f,e[6]=g,e[7]=0,e[8]=c,e[9]=d,e[10]=v,e[11]=0,e[12]=-(r*x+l*w+c*E),e[13]=-(h*x+f*w+d*E),e[14]=-(_*x+g*w+v*E),e[15]=1,e)}function SM(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=a[0],f=a[1],d=a[2],_=r-n[0],g=l-n[1],v=c-n[2],b=_*_+g*g+v*v;b>0&&(b=1/Math.sqrt(b),_*=b,g*=b,v*=b);var x=f*v-d*g,w=d*_-h*v,E=h*g-f*_;return b=x*x+w*w+E*E,b>0&&(b=1/Math.sqrt(b),x*=b,w*=b,E*=b),e[0]=x,e[1]=w,e[2]=E,e[3]=0,e[4]=g*E-v*w,e[5]=v*x-_*E,e[6]=_*w-g*x,e[7]=0,e[8]=_,e[9]=g,e[10]=v,e[11]=0,e[12]=r,e[13]=l,e[14]=c,e[15]=1,e}function AM(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function OM(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function zM(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function D2(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function RM(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function CM(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e[3]=t[3]+n[3]*a,e[4]=t[4]+n[4]*a,e[5]=t[5]+n[5]*a,e[6]=t[6]+n[6]*a,e[7]=t[7]+n[7]*a,e[8]=t[8]+n[8]*a,e[9]=t[9]+n[9]*a,e[10]=t[10]+n[10]*a,e[11]=t[11]+n[11]*a,e[12]=t[12]+n[12]*a,e[13]=t[13]+n[13]*a,e[14]=t[14]+n[14]*a,e[15]=t[15]+n[15]*a,e}function DM(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function UM(e,t){var n=e[0],a=e[1],r=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],_=e[8],g=e[9],v=e[10],b=e[11],x=e[12],w=e[13],E=e[14],A=e[15],U=t[0],B=t[1],k=t[2],z=t[3],C=t[4],L=t[5],Q=t[6],Z=t[7],K=t[8],at=t[9],st=t[10],nt=t[11],rt=t[12],_t=t[13],Y=t[14],S=t[15];return Math.abs(n-U)<=zt*Math.max(1,Math.abs(n),Math.abs(U))&&Math.abs(a-B)<=zt*Math.max(1,Math.abs(a),Math.abs(B))&&Math.abs(r-k)<=zt*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(l-z)<=zt*Math.max(1,Math.abs(l),Math.abs(z))&&Math.abs(c-C)<=zt*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-L)<=zt*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(f-Q)<=zt*Math.max(1,Math.abs(f),Math.abs(Q))&&Math.abs(d-Z)<=zt*Math.max(1,Math.abs(d),Math.abs(Z))&&Math.abs(_-K)<=zt*Math.max(1,Math.abs(_),Math.abs(K))&&Math.abs(g-at)<=zt*Math.max(1,Math.abs(g),Math.abs(at))&&Math.abs(v-st)<=zt*Math.max(1,Math.abs(v),Math.abs(st))&&Math.abs(b-nt)<=zt*Math.max(1,Math.abs(b),Math.abs(nt))&&Math.abs(x-rt)<=zt*Math.max(1,Math.abs(x),Math.abs(rt))&&Math.abs(w-_t)<=zt*Math.max(1,Math.abs(w),Math.abs(_t))&&Math.abs(E-Y)<=zt*Math.max(1,Math.abs(E),Math.abs(Y))&&Math.abs(A-S)<=zt*Math.max(1,Math.abs(A),Math.abs(S))}var LM=A2,NM=D2,ua={};Tl(ua,{add:()=>$S,calculateW:()=>kS,clone:()=>XS,conjugate:()=>jS,copy:()=>ZS,create:()=>J_,dot:()=>Q2,equals:()=>e4,exactEquals:()=>t4,exp:()=>Y2,fromEuler:()=>PS,fromMat3:()=>G2,fromValues:()=>GS,getAngle:()=>US,getAxisAngle:()=>DS,identity:()=>CS,invert:()=>VS,len:()=>JS,length:()=>$2,lerp:()=>IS,ln:()=>X2,mul:()=>KS,multiply:()=>P2,normalize:()=>A0,pow:()=>BS,random:()=>HS,rotateX:()=>LS,rotateY:()=>NS,rotateZ:()=>qS,rotationTo:()=>n4,scale:()=>Z2,set:()=>QS,setAxes:()=>a4,setAxisAngle:()=>F2,slerp:()=>pf,sqlerp:()=>i4,sqrLen:()=>WS,squaredLength:()=>K2,str:()=>YS});var Tt={};Tl(Tt,{add:()=>HM,angle:()=>sS,bezier:()=>IM,ceil:()=>VM,clone:()=>qM,copy:()=>kM,create:()=>M0,cross:()=>_f,dist:()=>dS,distance:()=>k2,div:()=>fS,divide:()=>q2,dot:()=>S0,equals:()=>uS,exactEquals:()=>lS,floor:()=>jM,forEach:()=>pS,fromValues:()=>I_,hermite:()=>KM,inverse:()=>QM,len:()=>j2,length:()=>U2,lerp:()=>$M,max:()=>PM,min:()=>FM,mul:()=>hS,multiply:()=>N2,negate:()=>ZM,normalize:()=>V2,random:()=>JM,rotateX:()=>nS,rotateY:()=>iS,rotateZ:()=>aS,round:()=>YM,scale:()=>XM,scaleAndAdd:()=>GM,set:()=>BM,sqrDist:()=>mS,sqrLen:()=>_S,squaredDistance:()=>B2,squaredLength:()=>H2,str:()=>oS,sub:()=>cS,subtract:()=>L2,transformMat3:()=>tS,transformMat4:()=>WM,transformQuat:()=>eS,zero:()=>rS});function M0(){var e=new de(3);return de!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function qM(e){var t=new de(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function U2(e){var t=e[0],n=e[1],a=e[2];return Math.hypot(t,n,a)}function I_(e,t,n){var a=new de(3);return a[0]=e,a[1]=t,a[2]=n,a}function kM(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function BM(e,t,n,a){return e[0]=t,e[1]=n,e[2]=a,e}function HM(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function L2(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function N2(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function q2(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function VM(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function jM(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function FM(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function PM(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function YM(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function XM(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function GM(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e}function k2(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,a,r)}function B2(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return n*n+a*a+r*r}function H2(e){var t=e[0],n=e[1],a=e[2];return t*t+n*n+a*a}function ZM(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function QM(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function V2(e,t){var n=t[0],a=t[1],r=t[2],l=n*n+a*a+r*r;return l>0&&(l=1/Math.sqrt(l)),e[0]=t[0]*l,e[1]=t[1]*l,e[2]=t[2]*l,e}function S0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _f(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[0],h=n[1],f=n[2];return e[0]=r*f-l*h,e[1]=l*c-a*f,e[2]=a*h-r*c,e}function $M(e,t,n,a){var r=t[0],l=t[1],c=t[2];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e[2]=c+a*(n[2]-c),e}function KM(e,t,n,a,r,l){var c=l*l,h=c*(2*l-3)+1,f=c*(l-2)+l,d=c*(l-1),_=c*(3-2*l);return e[0]=t[0]*h+n[0]*f+a[0]*d+r[0]*_,e[1]=t[1]*h+n[1]*f+a[1]*d+r[1]*_,e[2]=t[2]*h+n[2]*f+a[2]*d+r[2]*_,e}function IM(e,t,n,a,r,l){var c=1-l,h=c*c,f=l*l,d=h*c,_=3*l*h,g=3*f*c,v=f*l;return e[0]=t[0]*d+n[0]*_+a[0]*g+r[0]*v,e[1]=t[1]*d+n[1]*_+a[1]*g+r[1]*v,e[2]=t[2]*d+n[2]*_+a[2]*g+r[2]*v,e}function JM(e,t){t=t||1;var n=ho()*2*Math.PI,a=ho()*2-1,r=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=a*t,e}function WM(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[3]*a+n[7]*r+n[11]*l+n[15];return c=c||1,e[0]=(n[0]*a+n[4]*r+n[8]*l+n[12])/c,e[1]=(n[1]*a+n[5]*r+n[9]*l+n[13])/c,e[2]=(n[2]*a+n[6]*r+n[10]*l+n[14])/c,e}function tS(e,t,n){var a=t[0],r=t[1],l=t[2];return e[0]=a*n[0]+r*n[3]+l*n[6],e[1]=a*n[1]+r*n[4]+l*n[7],e[2]=a*n[2]+r*n[5]+l*n[8],e}function eS(e,t,n){var a=n[0],r=n[1],l=n[2],c=n[3],h=t[0],f=t[1],d=t[2],_=r*d-l*f,g=l*h-a*d,v=a*f-r*h,b=r*v-l*g,x=l*_-a*v,w=a*g-r*_,E=c*2;return _*=E,g*=E,v*=E,b*=2,x*=2,w*=2,e[0]=h+_+b,e[1]=f+g+x,e[2]=d+v+w,e}function nS(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0],l[1]=r[1]*Math.cos(a)-r[2]*Math.sin(a),l[2]=r[1]*Math.sin(a)+r[2]*Math.cos(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function iS(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[2]*Math.sin(a)+r[0]*Math.cos(a),l[1]=r[1],l[2]=r[2]*Math.cos(a)-r[0]*Math.sin(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function aS(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0]*Math.cos(a)-r[1]*Math.sin(a),l[1]=r[0]*Math.sin(a)+r[1]*Math.cos(a),l[2]=r[2],e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function sS(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2],f=Math.sqrt(n*n+a*a+r*r),d=Math.sqrt(l*l+c*c+h*h),_=f*d,g=_&&S0(e,t)/_;return Math.acos(Math.min(Math.max(g,-1),1))}function rS(e){return e[0]=0,e[1]=0,e[2]=0,e}function oS(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function lS(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function uS(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2];return Math.abs(n-l)<=zt*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-c)<=zt*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(r-h)<=zt*Math.max(1,Math.abs(r),Math.abs(h))}var cS=L2,hS=N2,fS=q2,dS=k2,mS=B2,j2=U2,_S=H2,pS=function(){var e=M0();return function(t,n,a,r,l,c){var h,f;for(n||(n=3),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],l(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2];return t}}();function yS(){var e=new de(4);return de!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function gS(e){var t=new de(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function vS(e,t,n,a){var r=new de(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=a,r}function bS(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function xS(e,t,n,a,r){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e}function ES(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function wS(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function TS(e){var t=e[0],n=e[1],a=e[2],r=e[3];return Math.hypot(t,n,a,r)}function MS(e){var t=e[0],n=e[1],a=e[2],r=e[3];return t*t+n*n+a*a+r*r}function SS(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n*n+a*a+r*r+l*l;return c>0&&(c=1/Math.sqrt(c)),e[0]=n*c,e[1]=a*c,e[2]=r*c,e[3]=l*c,e}function AS(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function OS(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e[2]=c+a*(n[2]-c),e[3]=h+a*(n[3]-h),e}function zS(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function RS(e,t){var n=e[0],a=e[1],r=e[2],l=e[3],c=t[0],h=t[1],f=t[2],d=t[3];return Math.abs(n-c)<=zt*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-h)<=zt*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(r-f)<=zt*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(l-d)<=zt*Math.max(1,Math.abs(l),Math.abs(d))}(function(){var e=yS();return function(t,n,a,r,l,c){var h,f;for(n||(n=4),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],e[3]=t[h+3],l(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2],t[h+3]=e[3];return t}})();function J_(){var e=new de(4);return de!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function CS(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function F2(e,t,n){n=n*.5;var a=Math.sin(n);return e[0]=a*t[0],e[1]=a*t[1],e[2]=a*t[2],e[3]=Math.cos(n),e}function DS(e,t){var n=Math.acos(t[3])*2,a=Math.sin(n/2);return a>zt?(e[0]=t[0]/a,e[1]=t[1]/a,e[2]=t[2]/a):(e[0]=1,e[1]=0,e[2]=0),n}function US(e,t){var n=Q2(e,t);return Math.acos(2*n*n-1)}function P2(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=n[0],f=n[1],d=n[2],_=n[3];return e[0]=a*_+c*h+r*d-l*f,e[1]=r*_+c*f+l*h-a*d,e[2]=l*_+c*d+a*f-r*h,e[3]=c*_-a*h-r*f-l*d,e}function LS(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f+c*h,e[1]=r*f+l*h,e[2]=l*f-r*h,e[3]=c*f-a*h,e}function NS(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f-l*h,e[1]=r*f+c*h,e[2]=l*f+a*h,e[3]=c*f-r*h,e}function qS(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f+r*h,e[1]=r*f-a*h,e[2]=l*f+c*h,e[3]=c*f-l*h,e}function kS(e,t){var n=t[0],a=t[1],r=t[2];return e[0]=n,e[1]=a,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-a*a-r*r)),e}function Y2(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=Math.sqrt(n*n+a*a+r*r),h=Math.exp(l),f=c>0?h*Math.sin(c)/c:0;return e[0]=n*f,e[1]=a*f,e[2]=r*f,e[3]=h*Math.cos(c),e}function X2(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=Math.sqrt(n*n+a*a+r*r),h=c>0?Math.atan2(c,l)/c:0;return e[0]=n*h,e[1]=a*h,e[2]=r*h,e[3]=.5*Math.log(n*n+a*a+r*r+l*l),e}function BS(e,t,n){return X2(e,t),Z2(e,e,n),Y2(e,e),e}function pf(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3],f=n[0],d=n[1],_=n[2],g=n[3],v,b,x,w,E;return b=r*f+l*d+c*_+h*g,b<0&&(b=-b,f=-f,d=-d,_=-_,g=-g),1-b>zt?(v=Math.acos(b),x=Math.sin(v),w=Math.sin((1-a)*v)/x,E=Math.sin(a*v)/x):(w=1-a,E=a),e[0]=w*r+E*f,e[1]=w*l+E*d,e[2]=w*c+E*_,e[3]=w*h+E*g,e}function HS(e){var t=ho(),n=ho(),a=ho(),r=Math.sqrt(1-t),l=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=l*Math.sin(2*Math.PI*a),e[3]=l*Math.cos(2*Math.PI*a),e}function VS(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n*n+a*a+r*r+l*l,h=c?1/c:0;return e[0]=-n*h,e[1]=-a*h,e[2]=-r*h,e[3]=l*h,e}function jS(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function G2(e,t){var n=t[0]+t[4]+t[8],a;if(n>0)a=Math.sqrt(n+1),e[3]=.5*a,a=.5/a,e[0]=(t[5]-t[7])*a,e[1]=(t[6]-t[2])*a,e[2]=(t[1]-t[3])*a;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);var l=(r+1)%3,c=(r+2)%3;a=Math.sqrt(t[r*3+r]-t[l*3+l]-t[c*3+c]+1),e[r]=.5*a,a=.5/a,e[3]=(t[l*3+c]-t[c*3+l])*a,e[l]=(t[l*3+r]+t[r*3+l])*a,e[c]=(t[c*3+r]+t[r*3+c])*a}return e}function PS(e,t,n,a){var r=.5*Math.PI/180;t*=r,n*=r,a*=r;var l=Math.sin(t),c=Math.cos(t),h=Math.sin(n),f=Math.cos(n),d=Math.sin(a),_=Math.cos(a);return e[0]=l*f*_-c*h*d,e[1]=c*h*_+l*f*d,e[2]=c*f*d-l*h*_,e[3]=c*f*_+l*h*d,e}function YS(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var XS=gS,GS=vS,ZS=bS,QS=xS,$S=ES,KS=P2,Z2=wS,Q2=AS,IS=OS,$2=TS,JS=$2,K2=MS,WS=K2,A0=SS,t4=zS,e4=RS,n4=function(){var e=M0(),t=I_(1,0,0),n=I_(0,1,0);return function(a,r,l){var c=S0(r,l);return c<-.999999?(_f(e,t,r),j2(e)<1e-6&&_f(e,n,r),V2(e,e),F2(a,e,Math.PI),a):c>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(_f(e,r,l),a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=1+c,A0(a,a))}}(),i4=function(){var e=J_(),t=J_();return function(n,a,r,l,c,h){return pf(e,a,c,h),pf(t,r,l,h),pf(n,e,t,2*h*(1-h)),n}}(),a4=function(){var e=w2();return function(t,n,a,r){return e[0]=a[0],e[3]=a[1],e[6]=a[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],A0(t,G2(t,e))}}(),go,Hv,vl=(Hv=class{constructor(){q(this,go,new EventTarget)}addEventListener(t,n,a){p(this,go).addEventListener(t,n,a)}removeEventListener(t,n,a){p(this,go).removeEventListener(t,n,a)}_dispatchEvent(t){return p(this,go).dispatchEvent(t)}},go=new WeakMap,Hv),G_,J,s4=(G_=class extends vl{constructor({euid:t}){super();q(this,J);W(this,J,{euid:t})}get _core(){return p(this,J)}get euid(){return p(this,J).euid}get animation_controller(){return p(this,J).animation_controller}set animation_controller(t){p(this,J).animation_controller=this._setComponentValue({ref:p(this,J).animation_controller,component_name:"animation_controller",value:t})}get animation_sequence_controller(){return p(this,J).animation_sequence_controller}set animation_sequence_controller(t){p(this,J).animation_sequence_controller=this._setComponentValue({ref:p(this,J).animation_sequence_controller,component_name:"animation_sequence_controller",value:t})}get bone(){return p(this,J).bone}set bone(t){p(this,J).bone=this._setComponentValue({ref:p(this,J).bone,component_name:"bone",value:t})}get box_geometry(){return p(this,J).box_geometry}set box_geometry(t){p(this,J).box_geometry=this._setComponentValue({ref:p(this,J).box_geometry,component_name:"box_geometry",value:t})}get camera(){return p(this,J).camera}set camera(t){p(this,J).camera=this._setComponentValue({ref:p(this,J).camera,component_name:"camera",value:t})}get capsule_geometry(){return p(this,J).capsule_geometry}set capsule_geometry(t){p(this,J).capsule_geometry=this._setComponentValue({ref:p(this,J).capsule_geometry,component_name:"capsule_geometry",value:t})}get character_controller(){return p(this,J).character_controller}set character_controller(t){p(this,J).character_controller=this._setComponentValue({ref:p(this,J).character_controller,component_name:"character_controller",value:t})}get collision_geometry_ref(){return p(this,J).collision_geometry_ref}set collision_geometry_ref(t){p(this,J).collision_geometry_ref=this._setComponentValue({ref:p(this,J).collision_geometry_ref,component_name:"collision_geometry_ref",value:t})}get constraint(){return p(this,J).constraint}set constraint(t){p(this,J).constraint=this._setComponentValue({ref:p(this,J).constraint,component_name:"constraint",value:t})}get culling_geometry(){return p(this,J).culling_geometry}set culling_geometry(t){p(this,J).culling_geometry=this._setComponentValue({ref:p(this,J).culling_geometry,component_name:"culling_geometry",value:t})}get cylinder_geometry(){return p(this,J).cylinder_geometry}set cylinder_geometry(t){p(this,J).cylinder_geometry=this._setComponentValue({ref:p(this,J).cylinder_geometry,component_name:"cylinder_geometry",value:t})}get debug_name(){return p(this,J).debug_name}set debug_name(t){p(this,J).debug_name=this._setComponentValue({ref:p(this,J).debug_name,component_name:"debug_name",value:t})}get decal_projector(){return p(this,J).decal_projector}set decal_projector(t){p(this,J).decal_projector=this._setComponentValue({ref:p(this,J).decal_projector,component_name:"decal_projector",value:t})}get environment(){return p(this,J).environment}set environment(t){p(this,J).environment=this._setComponentValue({ref:p(this,J).environment,component_name:"environment",value:t})}get joint(){return p(this,J).joint}set joint(t){p(this,J).joint=this._setComponentValue({ref:p(this,J).joint,component_name:"joint",value:t})}get label(){return p(this,J).label}set label(t){p(this,J).label=this._setComponentValue({ref:p(this,J).label,component_name:"label",value:t})}get lineage(){return p(this,J).lineage}set lineage(t){p(this,J).lineage=this._setComponentValue({ref:p(this,J).lineage,component_name:"lineage",value:t})}get local_aabb(){return p(this,J).local_aabb}set local_aabb(t){p(this,J).local_aabb=this._setComponentValue({ref:p(this,J).local_aabb,component_name:"local_aabb",value:t})}get material(){return p(this,J).material}set material(t){p(this,J).material=this._setComponentValue({ref:p(this,J).material,component_name:"material",value:t})}get material_ref(){return p(this,J).material_ref}set material_ref(t){p(this,J).material_ref=this._setComponentValue({ref:p(this,J).material_ref,component_name:"material_ref",value:t})}get measure(){return p(this,J).measure}set measure(t){p(this,J).measure=this._setComponentValue({ref:p(this,J).measure,component_name:"measure",value:t})}get mesh_ref(){return p(this,J).mesh_ref}set mesh_ref(t){p(this,J).mesh_ref=this._setComponentValue({ref:p(this,J).mesh_ref,component_name:"mesh_ref",value:t})}get orthographic_lens(){return p(this,J).orthographic_lens}set orthographic_lens(t){p(this,J).orthographic_lens=this._setComponentValue({ref:p(this,J).orthographic_lens,component_name:"orthographic_lens",value:t})}get overrider(){return p(this,J).overrider}set overrider(t){p(this,J).overrider=this._setComponentValue({ref:p(this,J).overrider,component_name:"overrider",value:t})}get perspective_lens(){return p(this,J).perspective_lens}set perspective_lens(t){p(this,J).perspective_lens=this._setComponentValue({ref:p(this,J).perspective_lens,component_name:"perspective_lens",value:t})}get physics_material(){return p(this,J).physics_material}set physics_material(t){p(this,J).physics_material=this._setComponentValue({ref:p(this,J).physics_material,component_name:"physics_material",value:t})}get plane_geometry(){return p(this,J).plane_geometry}set plane_geometry(t){p(this,J).plane_geometry=this._setComponentValue({ref:p(this,J).plane_geometry,component_name:"plane_geometry",value:t})}get point_cloud_ref(){return p(this,J).point_cloud_ref}set point_cloud_ref(t){p(this,J).point_cloud_ref=this._setComponentValue({ref:p(this,J).point_cloud_ref,component_name:"point_cloud_ref",value:t})}get point_light(){return p(this,J).point_light}set point_light(t){p(this,J).point_light=this._setComponentValue({ref:p(this,J).point_light,component_name:"point_light",value:t})}get reflection_probe(){return p(this,J).reflection_probe}set reflection_probe(t){p(this,J).reflection_probe=this._setComponentValue({ref:p(this,J).reflection_probe,component_name:"reflection_probe",value:t})}get rigid_body(){return p(this,J).rigid_body}set rigid_body(t){p(this,J).rigid_body=this._setComponentValue({ref:p(this,J).rigid_body,component_name:"rigid_body",value:t})}get scene_ref(){return p(this,J).scene_ref}set scene_ref(t){p(this,J).scene_ref=this._setComponentValue({ref:p(this,J).scene_ref,component_name:"scene_ref",value:t})}get script_map(){return p(this,J).script_map}set script_map(t){p(this,J).script_map=this._setComponentValue({ref:p(this,J).script_map,component_name:"script_map",value:t})}get shadow_caster(){return p(this,J).shadow_caster}set shadow_caster(t){p(this,J).shadow_caster=this._setComponentValue({ref:p(this,J).shadow_caster,component_name:"shadow_caster",value:t})}get skeleton_ref(){return p(this,J).skeleton_ref}set skeleton_ref(t){p(this,J).skeleton_ref=this._setComponentValue({ref:p(this,J).skeleton_ref,component_name:"skeleton_ref",value:t})}get sound_ref(){return p(this,J).sound_ref}set sound_ref(t){p(this,J).sound_ref=this._setComponentValue({ref:p(this,J).sound_ref,component_name:"sound_ref",value:t})}get sphere_geometry(){return p(this,J).sphere_geometry}set sphere_geometry(t){p(this,J).sphere_geometry=this._setComponentValue({ref:p(this,J).sphere_geometry,component_name:"sphere_geometry",value:t})}get spline(){return p(this,J).spline}set spline(t){p(this,J).spline=this._setComponentValue({ref:p(this,J).spline,component_name:"spline",value:t})}get spot_light(){return p(this,J).spot_light}set spot_light(t){p(this,J).spot_light=this._setComponentValue({ref:p(this,J).spot_light,component_name:"spot_light",value:t})}get stereoscopic_lens(){return p(this,J).stereoscopic_lens}set stereoscopic_lens(t){p(this,J).stereoscopic_lens=this._setComponentValue({ref:p(this,J).stereoscopic_lens,component_name:"stereoscopic_lens",value:t})}get tags(){return p(this,J).tags}set tags(t){p(this,J).tags=this._setComponentValue({ref:p(this,J).tags,component_name:"tags",value:t})}get vehicle_controller(){return p(this,J).vehicle_controller}set vehicle_controller(t){p(this,J).vehicle_controller=this._setComponentValue({ref:p(this,J).vehicle_controller,component_name:"vehicle_controller",value:t})}get volume_filter(){return p(this,J).volume_filter}set volume_filter(t){p(this,J).volume_filter=this._setComponentValue({ref:p(this,J).volume_filter,component_name:"volume_filter",value:t})}get volume_material_ref(){return p(this,J).volume_material_ref}set volume_material_ref(t){p(this,J).volume_material_ref=this._setComponentValue({ref:p(this,J).volume_material_ref,component_name:"volume_material_ref",value:t})}get volume_ref(){return p(this,J).volume_ref}set volume_ref(t){p(this,J).volume_ref=this._setComponentValue({ref:p(this,J).volume_ref,component_name:"volume_ref",value:t})}toJSON(){let{euid:t,...n}=p(this,J);return{euid:{value:t.value},...n}}_unsafeSetComponentValue({component_name:t,value:n}){p(this,J)[t]=n}},J=new WeakMap,H(G_,"component_names",["animation_controller","animation_sequence_controller","bone","box_geometry","camera","capsule_geometry","character_controller","collision_geometry_ref","constraint","culling_geometry","cylinder_geometry","debug_name","decal_projector","environment","joint","label","lineage","local_aabb","material","material_ref","measure","mesh_ref","orthographic_lens","overrider","perspective_lens","physics_material","plane_geometry","point_cloud_ref","point_light","reflection_probe","rigid_body","scene_ref","script_map","shadow_caster","skeleton_ref","sound_ref","sphere_geometry","spline","spot_light","stereoscopic_lens","tags","vehicle_controller","volume_filter","volume_material_ref","volume_ref"]),G_),yf=class extends Event{constructor({change_source:t,new_components:n,updated_components:a,deleted_components:r}){super("on-entity-updated");H(this,"change_source");H(this,"new_components");H(this,"updated_components");H(this,"deleted_components");this.change_source=t,this.new_components=n,this.updated_components=a,this.deleted_components=r}isAnyComponentDirty({components:t}){return this.new_components.some(n=>t.includes(n))||this.updated_components.some(n=>t.includes(n))||this.deleted_components.some(n=>t.includes(n))}},Ng=class extends Event{constructor({is_visible:n}){super("on-entity-visibility-changed");H(this,"is_visible");this.is_visible=n}};function ju([e,t,n,a]){let r={roll:0,pitch:0,yaw:0},l={x:e,y:t,z:n,w:a},c=2*(l.w*l.x+l.y*l.z),h=1-2*(l.x*l.x+l.y*l.y);r.roll=Math.atan2(c,h);let f=2*(l.w*l.y-l.z*l.x);Math.abs(f)>=1?r.pitch=r4(Math.PI/2,f):r.pitch=Math.asin(f);let d=2*(l.w*l.z+l.x*l.y),_=1-2*(l.y*l.y+l.z*l.z);return r.yaw=Math.atan2(d,_),[r.roll,r.pitch,r.yaw].map(g=>g*180/Math.PI)}function W_(e){let[t,n,a]=e.map(_=>_*Math.PI/180),r=Math.cos(a/2),l=Math.sin(a/2),c=Math.cos(n/2),h=Math.sin(n/2),f=Math.cos(t/2),d=Math.sin(t/2);return[r*c*d-l*h*f,l*c*d+r*h*f,l*c*f-r*h*d,r*c*f+l*h*d]}function r4(e,t){return t<0?-Math.abs(e):Math.abs(e)}var ye,Xu,se,vo,bo,Gu,ge,$s,xo,Zu,nn,t0,I2,J2,W2,tb,eb,Vv,o4=(Vv=class extends s4{constructor({euid:t,local_transform:n,parent:a}){super({euid:t});q(this,nn);q(this,ye);q(this,Xu);q(this,se);q(this,vo);q(this,bo,Ve.create());q(this,Gu,Ve.create());q(this,ge,null);q(this,$s,!0);q(this,xo,0);q(this,Zu,0);H(this,"_recalculateGlobalTransformIfNeeded",()=>{p(this,nn,t0)&&(dt(this,nn,J2).call(this),dt(this,nn,W2).call(this),dt(this,nn,eb).call(this),dt(this,nn,tb).call(this),this._computeTransformMatrices(),W(this,nn,!1,I2))});W(this,ge,a),W(this,se,n),W(this,ye,{position:[0,0,0],orientation:[0,0,0,1],scale:[1,1,1],eulerOrientation:[0,0,0]}),W(this,vo,new l4(this,p(this,se))),W(this,Xu,new u4(this,p(this,ye))),this._unsafeSetComponentValue({component_name:"local_transform",value:p(this,se)})}get _last_update_id(){return p(this,xo)}get global_transform(){return p(this,Xu)}set global_transform(t){this._setGlobalTransform({global_transform:t,change_source:"local"}),this._markComponentAsDirty({component_name:"local_transform"})}get local_transform(){return p(this,vo)}set local_transform(t){Object.assign(p(this,vo),t)}get global_aabb(){let t=-Number.MAX_VALUE,n=this.local_aabb||{min:[-1,-1,-1],max:[1,1,1]},{min:a,max:r}=n,l=[Tt.fromValues(a[0],a[1],a[2]),Tt.fromValues(r[0],a[1],a[2]),Tt.fromValues(a[0],r[1],a[2]),Tt.fromValues(a[0],a[1],r[2]),Tt.fromValues(r[0],r[1],r[2]),Tt.fromValues(a[0],r[1],r[2]),Tt.fromValues(r[0],a[1],r[2]),Tt.fromValues(r[0],r[1],a[2])];l.forEach(d=>Tt.transformMat4(d,d,this.ls_to_ws));let c=Tt.fromValues(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),h=Tt.fromValues(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=Tt.create();return l.forEach(d=>{Tt.min(c,c,d),Tt.max(h,h,d),Tt.add(f,f,d)}),Tt.scale(f,f,1/8),[{vertex:l[0],test_vertices:[l[1],l[2],l[3]]},{vertex:l[6],test_vertices:[l[1],l[3],l[4]]},{vertex:l[5],test_vertices:[l[2],l[3],l[4]]},{vertex:l[7],test_vertices:[l[1],l[2],l[4]]}].forEach(({vertex:d,test_vertices:_})=>{_.forEach(g=>{let v=Tt.distance(d,g);v>t&&(t=v)})}),{min:Array.from(c),max:Array.from(h),center:Array.from(f),longest_edge_length:t}}get parent(){return p(this,ge)}set parent(t){throw new Error("Not implemented")}_setGlobalTransform({global_transform:t,change_source:n}){t.position&&(this._setGlobalPosition(t.position),Tt.copy(p(this,ye).position,t.position)),t.orientation&&(this._setGlobalOrientation(t.orientation),ua.copy(p(this,ye).orientation,t.orientation)),t.eulerOrientation&&(this._setGlobalEulerOrientation(t.eulerOrientation),Tt.copy(p(this,ye).eulerOrientation,t.eulerOrientation)),t.scale&&(this._setGlobalScale(t.scale),Tt.copy(p(this,ye).scale,t.scale)),this._computeTransformMatrices(),this._dispatchEvent(new yf({change_source:n,updated_components:["local_transform"],deleted_components:[],new_components:[]}))}_markGlobalTransformAsDirty(){W(this,$s,!0),this._markLocalTransformAsDirty()}_markLocalTransformAsDirty(){Ih(this,xo)._++,this._markComponentAsDirty({component_name:"local_transform"})}_computeTransformMatrices(){Ve.fromRotationTranslationScale(p(this,bo),p(this,ye).orientation,p(this,ye).position,p(this,ye).scale),Ve.invert(p(this,Gu),p(this,bo))}_setLocalTransform({local_transform:t}){t.position&&Tt.copy(p(this,se).position,t.position),t.orientation&&ua.copy(p(this,se).orientation,t.orientation),t.eulerOrientation&&Tt.copy(p(this,se).eulerOrientation,t.eulerOrientation),t.scale&&Tt.copy(p(this,se).scale,t.scale),t.globalEulerOrientation&&Tt.copy(p(this,se).globalEulerOrientation,t.globalEulerOrientation),W(this,$s,!0)}_setGlobalPosition(t){if(!p(this,ge)){Tt.copy(p(this,se).position,t);return}Tt.transformMat4(p(this,se).position,t,p(this,ge).ws_to_ls)}_setGlobalOrientation(t){if(!p(this,ge)){ua.copy(p(this,se).orientation,t),Tt.copy(p(this,se).eulerOrientation,ju(t));return}let n=ua.conjugate(ua.create(),p(this,ge).global_transform.orientation),a=p(this,se).orientation;ua.multiply(a,n,t),p(this,se).eulerOrientation=ju(a)}_setGlobalEulerOrientation(t){let n=W_(t);this._setGlobalOrientation(n),Tt.copy(p(this,se).globalEulerOrientation,t)}_setGlobalScale(t){if(!p(this,ge)){Tt.copy(p(this,se).scale,t);return}Tt.divide(p(this,se).scale,t,p(this,ge).global_transform.scale)}get ls_to_ws(){return this._recalculateGlobalTransformIfNeeded(),p(this,bo)}get ws_to_ls(){return this._recalculateGlobalTransformIfNeeded(),p(this,Gu)}},ye=new WeakMap,Xu=new WeakMap,se=new WeakMap,vo=new WeakMap,bo=new WeakMap,Gu=new WeakMap,ge=new WeakMap,$s=new WeakMap,xo=new WeakMap,Zu=new WeakMap,nn=new WeakSet,t0=function(){return p(this,ge)&&(p(this,ge)._last_update_id!==p(this,Zu)||p(p(this,ge),nn,t0))?!0:p(this,$s)},I2=function(t){var n;W(this,$s,t),Ih(this,xo)._++,W(this,Zu,((n=p(this,ge))==null?void 0:n._last_update_id)??0)},J2=function(){let t=p(this,se).position;return p(this,ge)?Tt.transformMat4(p(this,ye).position,t,p(this,ge).ls_to_ws):Tt.copy(p(this,ye).position,t)},W2=function(){return p(this,ge)?ua.multiply(p(this,ye).orientation,p(this,ge).global_transform.orientation,p(this,se).orientation):ua.copy(p(this,ye).orientation,p(this,se).orientation)},tb=function(){let t=W_(p(this,se).globalEulerOrientation).every((n,a)=>Math.max(n-p(this,ye).orientation[a])<1e-6)?p(this,se).globalEulerOrientation:ju(p(this,ye).orientation);return Tt.copy(p(this,ye).eulerOrientation,t)},eb=function(){let t=p(this,se).scale;return p(this,ge)?Tt.multiply(p(this,ye).scale,p(this,ge).global_transform.scale,t):Tt.copy(p(this,ye).scale,t)},Vv),Eo,wo,To,Mo,jv,l4=(jv=class{constructor(t,n){q(this,Eo);q(this,wo);q(this,To);q(this,Mo);let a=()=>({get:(r,l)=>Reflect.get(r,l),set:(r,l,c)=>{let h=Reflect.set(r,l,c);return t._markGlobalTransformAsDirty(),h}});W(this,Eo,new Proxy(n.position,a())),W(this,Mo,new Proxy(n.scale,a())),W(this,wo,new Proxy(n.orientation,{get:(r,l)=>n.orientation[l],set:(r,l,c)=>{let h=Reflect.set(r,l,c);return n.eulerOrientation=ju(n.orientation),t._markGlobalTransformAsDirty(),h}})),W(this,To,new Proxy(n.eulerOrientation,{get:(r,l)=>n.eulerOrientation[l],set:(r,l,c)=>{let h=Reflect.set(r,l,c);return n.orientation=W_(n.eulerOrientation),t._markGlobalTransformAsDirty(),h}}))}get position(){return p(this,Eo)}get orientation(){return p(this,wo)}get eulerOrientation(){return p(this,To)}get scale(){return p(this,Mo)}set position(t){Object.assign(p(this,Eo),t)}set orientation(t){Object.assign(p(this,wo),t)}set eulerOrientation(t){Object.assign(p(this,To),t)}set scale(t){Object.assign(p(this,Mo),t)}},Eo=new WeakMap,wo=new WeakMap,To=new WeakMap,Mo=new WeakMap,jv),So,Ao,Oo,zo,Fv,u4=(Fv=class{constructor(t,n){q(this,So);q(this,Ao);q(this,Oo);q(this,zo);W(this,So,new Proxy(n.position,{get:(a,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(a,r)),set:(a,r,l)=>(Reflect.set(a,r,l),t._setGlobalPosition(a),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),W(this,Ao,new Proxy(n.orientation,{get:(a,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(a,r)),set:(a,r,l)=>(Reflect.set(a,r,l),t._setGlobalOrientation(a),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),W(this,Oo,new Proxy(n.eulerOrientation,{get:(a,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(a,r)),set:(a,r,l)=>(Reflect.set(a,r,l),t._setGlobalEulerOrientation(a),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),W(this,zo,new Proxy(n.scale,{get:(a,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(a,r)),set:(a,r,l)=>(Reflect.set(a,r,l),t._setGlobalScale(a),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)}))}get position(){return p(this,So)}get orientation(){return p(this,Ao)}get eulerOrientation(){return p(this,Oo)}get scale(){return p(this,zo)}set position(t){Object.assign(p(this,So),t)}set orientation(t){Object.assign(p(this,Ao),t)}set eulerOrientation(t){Object.assign(p(this,Oo),t)}set scale(t){Object.assign(p(this,zo),t)}},So=new WeakMap,Ao=new WeakMap,Oo=new WeakMap,zo=new WeakMap,Fv),c4=class nb{constructor(t,n){this._entity=t,this._component_name=n}get(t,n){return typeof t[n]=="object"||Array.isArray(t[n])?new Proxy(t[n],new nb(this._entity,this._component_name)):Reflect.get(t,n)}set(t,n,a){return this._entity._markComponentAsDirty({component_name:this._component_name}),Reflect.set(t,n,a)}deleteProperty(t,n){return this._entity._markComponentAsDirty({component_name:this._component_name}),Reflect.deleteProperty(t,n)}},h4=class extends Event{constructor({event_name:t,emitter_entity:n,data_object:a}){super(t);H(this,"emitter_entity");H(this,"data_object");this.emitter_entity=n,this.data_object=a}},Qu,$u,Ro,Pv,f4=(Pv=class extends Event{constructor({scene:t,event_name:n,emitter_entity:a,target_rtids:r,data_object:l}){super(n);H(this,"emitter_entity");H(this,"data_object");q(this,Qu);q(this,$u);q(this,Ro,null);W(this,Qu,t),this.emitter_entity=a,W(this,$u,r),this.data_object=l}get target_entities(){return p(this,Ro)||W(this,Ro,Promise.all(p(this,$u).map(t=>p(this,Qu)._findEntity({entity_rtid:t})))),p(this,Ro)}},Qu=new WeakMap,$u=new WeakMap,Ro=new WeakMap,Pv),Cn,Co,Do,Uo,Lo,Ku,No,wa,ib,ab,e0,Yv,Au=(Yv=class extends o4{constructor({scene:n,parent:a=null,components:r,options:l}){super({euid:r.euid,parent:a,local_transform:n._sanitizeComponentValue({component_name:"local_transform",value:r.local_transform})});q(this,wa);q(this,Cn);q(this,Co,new Set);q(this,Do,new Set);q(this,Uo,new vl);q(this,Lo,new vl);q(this,Ku,!0);q(this,No,!0);W(this,Cn,n),this._mergeComponents({components:r,dispatch_event:!1}),p(this,Cn)._entity_registry.add({entity:this}),l&&l.auto_broadcast!==void 0&&(this.auto_broadcast=l.auto_broadcast)}get rtid(){return this.euid.rtid}get id(){return this.euid.value}get name(){var n;return((n=this.debug_name)==null?void 0:n.value)??"<unnamed>"}get auto_broadcast(){return p(this,Ku)}set auto_broadcast(n){W(this,Ku,n),n===!1&&p(this,Cn)._entity_registry._removeEntityFromBroadcastList({entity:this})}get is_visible(){return p(this,No)}set is_visible(n){p(this,Cn)._setEntityVisibility({entity_rtid:this.rtid,is_visible:n}),W(this,No,n),this._dispatchEvent(new Ng({is_visible:n}))}get parent(){return super.parent}set parent(n){super.parent=n}get local_transform(){return super.local_transform}set local_transform(n){super.local_transform=n}get global_transform(){return super.global_transform}set global_transform(n){super.global_transform=n}get ls_to_ws(){return super.ls_to_ws}get ws_to_ls(){return super.ws_to_ls}get _dirty_components(){return Array.from(p(this,Co))}get _deleted_components(){return Array.from(p(this,Do))}async getChildren(){return await p(this,Cn)._getChildren({entity:this})}addScriptEventListener({event_map_id:n,event_name:a,onReceived:r,onEmitted:l}){r&&p(this,Uo).addEventListener(n+"/"+a,r),l&&p(this,Lo).addEventListener(n+"/"+a,l)}removeScriptEventListener({event_map_id:n,event_name:a,onReceived:r,onEmitted:l}){r&&p(this,Uo).removeEventListener(n+"/"+a,r),l&&p(this,Lo).removeEventListener(n+"/"+a,l)}async assignClientToScripts({client_uuid:n}){if(!this.script_map||!this.script_map.elements)throw new Error("Entity has no scripts");let a=Object.keys(this.script_map.elements);await Promise.all(a.map(r=>p(this,Cn)._assignClientToScripts({client_uuid:n,entity_rtid:this.rtid,script_uuid:r})))}_mergeComponents({components:n,dispatch_event:a,change_source:r}){for(let l in n){let c=l;switch(c){case"euid":break;case"local_transform":this._setLocalTransform({local_transform:n[c]});break;default:dt(this,wa,ab).call(this,{component_name:c,value:n[c]});break}}a&&this._dispatchEvent(new yf({change_source:r,updated_components:Object.keys(n),deleted_components:[],new_components:[]}))}_markComponentAsDirty({component_name:n}){p(this,Co).add(n),p(this,Cn)._entity_registry._addDirtyEntity({entity:this});let a=this[n]===void 0;this._dispatchEvent(new yf({change_source:"local",updated_components:a?[]:[n],deleted_components:[],new_components:a?[n]:[]}))}_markComponentAsDeleted({component_name:n}){p(this,Do).add(n),p(this,Cn)._entity_registry._addDirtyEntity({entity:this}),this._dispatchEvent(new yf({change_source:"local",updated_components:[],deleted_components:[n],new_components:[]}))}_clearDirtyState(){p(this,Co).clear(),p(this,Do).clear()}_onVisibilityChanged({is_visible:n}){W(this,No,n),this._dispatchEvent(new Ng({is_visible:n}))}_onScriptEventEmitted({scene:n,event_name:a,target_rtids:r,data_object:l}){p(this,Lo)._dispatchEvent(new f4({scene:n,event_name:a,emitter_entity:this,target_rtids:r,data_object:l}))}_onScriptEventReceived({script_event_received_event:n}){p(this,Uo)._dispatchEvent(n)}_setComponentValue({ref:n,component_name:a,value:r}){if(!(r===void 0&&n===void 0)){if(r===void 0){this._markComponentAsDeleted({component_name:a}),Reflect.deleteProperty(this,`#${a}`);return}if(r==="default"&&(r=p(this,Cn)._sanitizeComponentValue({component_name:a,value:void 0})),n===void 0)return this._markComponentAsDirty({component_name:a}),dt(this,wa,e0).call(this,{component_name:a,value:r});if(n!==void 0)return Object.assign(n,r),n}}},Cn=new WeakMap,Co=new WeakMap,Do=new WeakMap,Uo=new WeakMap,Lo=new WeakMap,Ku=new WeakMap,No=new WeakMap,wa=new WeakSet,ib=function({component_name:n}){return Reflect.get(this,`#${n}`)},ab=function({component_name:n,value:a}){let r=dt(this,wa,ib).call(this,{component_name:n});if(r){Object.assign(r,a);return}let l=dt(this,wa,e0).call(this,{component_name:n,value:a});this._unsafeSetComponentValue({component_name:n,value:l})},e0=function({component_name:n,value:a}){let r=p(this,Cn)._sanitizeComponentValue({component_name:n,value:a});return Reflect.set(this,`#${n}`,r),new Proxy(r,new c4(this,n))},Yv),n0={"!":3,"&":2,"|":1,"^":1};function d4(e){return Object.prototype.hasOwnProperty.call(n0,e)}function m4(e,t){return n0[e]>n0[t]}function _4(e){let t=e.split(" "),n=[],a=[];for(let r of t)switch(r){case"!":case"&":case"|":case"^":{for(;a.length>0;){let l=a[a.length-1];if(!d4(l)||m4(r,l))break;a.pop(),n.push(l)}a.push(r)}break;case"(":a.push(r);break;case")":{for(;a[a.length-1]!=="(";)n.push(a.pop());console.assert(a[a.length-1]==="("),a.pop()}break;default:n.push(r);break}for(;a.length!==0;){let r=a.pop();console.assert(r!=="("),n.push(r)}return JSON.stringify(n)}var Iu,Ks,ns,Is,da,qf,sb,Xv,p4=(Xv=class{constructor(){q(this,qf);q(this,Iu,new Set);q(this,Ks,new Map);q(this,ns,new Map);q(this,Is,new Set);q(this,da,new Map)}add({entity:e}){let t=p(this,Ks).get(e.rtid);if(t)throw new Error(`Cannot add entity ${e.name} to the registry, because entity ${t.name} has the same RTID.`);p(this,Iu).add(e),p(this,Ks).set(e.rtid,e);let n=p(this,ns).get(e.id);n?n.push(e):p(this,ns).set(e.id,[e])}remove({entity:e}){if(!p(this,Ks).delete(e.rtid))throw new Error(`Trying to remove entity ${e.rtid} which has not been registred to the RTID LUT.`);let t=p(this,ns).get(e.id);if(!t)throw new Error(`Trying to remove entity ${e.id} which has not been registered to the EUID LUT.`);let n=t.indexOf(e);if(n==-1)throw new Error(`Trying to remove entity ${e.id} which has not been registered to the EUID LUT.`);if(t.slice(n,1),t.length===0&&p(this,ns).delete(e.id),!p(this,Iu).delete(e))throw new Error(`Trying to remove entity ${e.id} which has not been registered to the registry.`)}get({entity_rtid:e}){return p(this,Ks).get(e)??null}find({entity_euid:e}){return p(this,ns).get(e)??[]}_addDirtyEntity({entity:e}){p(this,Is).add(e)}_removeEntityFromBroadcastList({entity:e}){p(this,da).delete(e)}_getEntitiesToUpdate(){let e=new Array(p(this,Is).size),t=0;for(let n of p(this,Is))e[t++]={entity_components:n._core,dirty_components:n._dirty_components,deleted_components:n._deleted_components},n.auto_broadcast&&dt(this,qf,sb).call(this,{entity:n}),n._clearDirtyState();return p(this,Is).clear(),e}_getEntitiesToPersist(){let e=new Array(p(this,da).size),t=0;for(let[n,a]of p(this,da))e[t++]={entity_components:n._core,dirty_components:Array.from(a),deleted_components:[]};return p(this,da).clear(),e}},Iu=new WeakMap,Ks=new WeakMap,ns=new WeakMap,Is=new WeakMap,da=new WeakMap,qf=new WeakSet,sb=function({entity:e}){let t=p(this,da).get(e);if(!t)p(this,da).set(e,new Set([...e._dirty_components]));else for(let n of e._dirty_components)t.add(n)},Xv),ve,qo,ko,gf,Bo,kf,Gv,y4=(Gv=class{constructor(e){q(this,ko);q(this,ve);H(this,"_entity_registry",new p4);q(this,qo,new Map);q(this,Bo,e=>{let t=this._entity_registry.get({entity_rtid:e.components.euid.rtid});if(t)return t;let n=e.ancestors?p(this,kf).call(this,e.ancestors):null;return new Au({scene:this,parent:n,components:e.components})});q(this,kf,e=>{let t=null;for(let n of e){let a=this._entity_registry.get({entity_rtid:n.components.euid.rtid});a?t=a:t=new Au({scene:this,parent:t,components:n.components})}return t});H(this,"_onEntityVisibilityChanged",({entity_rtid:e,is_visible:t})=>{let n=this._entity_registry.get({entity_rtid:e});n&&n._onVisibilityChanged({is_visible:t})});H(this,"_onScriptEventReceived",({emitter_rtid:e,event_name:t,target_rtids:n,data_object:a})=>{let r=this._entity_registry.get({entity_rtid:e});r&&r._onScriptEventEmitted({scene:this,event_name:t,target_rtids:n,data_object:a});let l=new h4({event_name:t,emitter_entity:r,data_object:a});for(let c of n){let h=this._entity_registry.get({entity_rtid:c});h&&h._onScriptEventReceived({script_event_received_event:l})}});W(this,ve,e)}async newEntity({name:e,components:t,options:n,parent:a=null}){let r=a?{parentUUID:a.id}:void 0,l=await p(this,ve).createEntities({components:[{debug_name:{value:e},...t,lineage:r}],delete_on_client_disconnection:(n==null?void 0:n.delete_on_client_disconnection)??!1,is_transient:!0});return new Au({scene:this,parent:a,components:l[0],options:n})}async newEntities({components_array:e,options:t}){return(await p(this,ve).createEntities({components:e,delete_on_client_disconnection:(t==null?void 0:t.delete_on_client_disconnection)??!1,is_transient:!0})).map(n=>new Au({scene:this,parent:null,components:n,options:t}))}async findEntity({entity_uuid:e,linkage:t=[]}){let n=this._entity_registry.find({entity_euid:e}).find(r=>{var l,c,h;return(((c=(l=r.lineage)==null?void 0:l.value)==null?void 0:c.length)??0)===t.length&&(((h=r.lineage)==null?void 0:h.value)??[]).every((f,d)=>f===t[d])});if(n)return n;let a=await p(this,ve).findEntities({query:{euid:e,linkage:t},options:{include_ancestors:!0}});return a.length===0?null:p(this,Bo).call(this,a[0])}async findEntities({entity_uuid:e}){let t=this._entity_registry.find({entity_euid:e});if(t.length>0)return t;let n=await p(this,ve).findEntities({query:{euid:e},options:{include_ancestors:!0}});return dt(this,ko,gf).call(this,{entity_responses:n})}async deleteEntities({entities:e}){await p(this,ve).deleteEntities({entity_uuids:e.map(t=>t.id)});for(let t of e)this._entity_registry.remove({entity:t})}async highlightEntities({entities:e,keep_old_selection:t=!1}){p(this,ve).highlightEntities({highlightEntitiesMessage:{entities:e.map(n=>n.rtid),keep_old_selection:t}})}fireEvent({event_map_id:e,event_name:t,emitter_entity:n,target_entities:a=[],data_object:r={}}){p(this,ve).fireEvent({event_map_id:e,event_name:t,emitter_entity:n?n.rtid:0n,target_entities:a.map(l=>l.rtid),data_object:r})}setFilter({name:e,value:t}){let n=_4(t);p(this,ve).setFilter({name:e,rpn:n})}toggleFilter({name:e,enabled:t}){p(this,ve).toggleFilter({name:e,enabled:t})}removeFilter({name:e}){p(this,ve).removeFilter({name:e})}async findEntitiesByNames({entity_names:e}){let t=await p(this,ve).findEntities({query:{names:e},options:{include_ancestors:!0}});return dt(this,ko,gf).call(this,{entity_responses:t})}async findEntitiesWithComponents({mandatory_components:e,forbidden_components:t}){let n=await p(this,ve).findEntities({query:{mandatory_components:e,forbidden_components:t},options:{include_ancestors:!0}});return dt(this,ko,gf).call(this,{entity_responses:n})}async _findEntity({entity_rtid:e}){if(e===0n)return null;let t=this._entity_registry.get({entity_rtid:e});if(t)return t;let n=p(this,qo).get(e);n||(n=p(this,ve).findEntities({query:{rtid:e}}),p(this,qo).set(e,n));let a=await n;return p(this,qo).delete(e),a.length===0?null:p(this,Bo).call(this,a[0])}async _getChildren({entity:e}){return(await p(this,ve).getChildren({entity_rtid:e.rtid})).map(t=>new Au({scene:this,parent:e,components:t}))}_assignClientToScripts({client_uuid:e,entity_rtid:t,script_uuid:n}){p(this,ve).assignClientToScript({client_uuid:e,script_uuid:n,entity_rtid:t})}async _setEntityVisibility({entity_rtid:e,is_visible:t}){return p(this,ve).setEntityVisibility({entity_rtid:e,is_visible:t})}_updateEntityFromEvent({entity_euid:e,updated_components:t}){let n=this._entity_registry.find({entity_euid:e});if(n.length===0){console.log("Received an update for an undiscovered entity",e);return}for(let a of n)a._mergeComponents({components:t,dispatch_event:!0,change_source:"external"})}_sanitizeComponentValue({component_name:e,value:t}){return p(this,ve).sanitizeComponentValue({component_name:e,value:t})}},ve=new WeakMap,qo=new WeakMap,ko=new WeakSet,gf=function({entity_responses:e}){return e.map(p(this,Bo))},Bo=new WeakMap,kf=new WeakMap,Gv),Ho,Js,Ju,is,Zv,qg=(Zv=class{constructor({core:t,client_info:n,client_meta_data:a}){q(this,Ho);q(this,Js);q(this,Ju,[]);q(this,is,null);W(this,Ho,t),W(this,Js,n),this._updateFromClientMetaData({client_meta_data:a})}get id(){return p(this,Js).client_id}get user_id(){return p(this,Js).user_id}get username(){return p(this,Js).username}get _cursor_data(){return p(this,is)}async getCameraEntities(){return(await Promise.all(p(this,Ju).map(t=>p(this,Ho).scene._findEntity({entity_rtid:t})))).filter(t=>t!=null)}async getHoveredEntity(){return p(this,is)==null?null:await p(this,Ho).scene._findEntity({entity_rtid:p(this,is).hovered_entity_rtid})}_updateFromClientMetaData({client_meta_data:t}){W(this,Ju,t.viewports.map(n=>n.camera_rtid)),t.hovered_entity_rtid!=0n?W(this,is,{hovered_entity_rtid:t.hovered_entity_rtid,hovered_ws_position:t.ws_hovered_position,hovered_ws_normal:t.ws_hovered_normal}):W(this,is,null)}},Ho=new WeakMap,Js=new WeakMap,Ju=new WeakMap,is=new WeakMap,Zv),g4=class extends Event{constructor({viewports:t}){super("TO_REMOVE__viewports-added");H(this,"viewports");this.viewports=t}},v4=class extends Event{constructor({reason:t}){super("on-disconnected");H(this,"reason");this.reason=t}},b4=class extends Event{constructor({seconds_remaining:t,reset_timer:n}){super("on-inactivity-warning");H(this,"seconds_remaining");H(this,"resetTimer");this.seconds_remaining=t,this.resetTimer=n}},x4=class extends Event{constructor(){super("on-activity-detected")}},E4=class extends Event{constructor({client:t}){super("on-client-joined");H(this,"client");this.client=t}},w4=class extends Event{constructor({client:t}){super("on-client-left");H(this,"client");this.client=t}},Vo,jo,In,Fo,Re,ku,rb,ob,lb,ub,cb,hb,ba,Of=(ba=class extends vl{constructor({token:n,session_info:a,created:r,is_guest:l=!1}){super();q(this,Re);H(this,"info");H(this,"has_been_created");H(this,"client_id",null);H(this,"token");H(this,"is_guest",!1);q(this,Vo,null);q(this,jo,null);q(this,In,new Map);q(this,Fo,new Set);H(this,"_onDisconnected",n=>{this._dispatchEvent(new v4({reason:n.reason}))});H(this,"_onInactivityWarning",n=>{this._dispatchEvent(new b4({seconds_remaining:n.seconds_remaining,reset_timer:n.resetTimer}))});H(this,"_onActivityDetected",n=>{this._dispatchEvent(new x4)});this.token=n,this.info=a,this.has_been_created=r,this.is_guest=l}static async create({scene_id:n,token:a,is_transient:r}){let l=await fetch(`${Wn._api_url}/sessions`,{method:"POST",body:JSON.stringify({scene_id:n,is_transient:r}),headers:{"Content-Type":"application/json",user_token:a}});if(!l.ok)throw new Error("Error when creating session");let c=await l.json();return new ba({token:a,session_info:{...c,scene_id:n,is_transient_session:r??!1},created:!0})}static async find({scene_id:n,token:a,session_selector:r}){let l=await(await fetch(`${Wn._api_url}/sessions?filters[scene_id]=${n}`,{method:"GET",headers:{user_token:a}})).json();if(l.length===0)return null;let c=r({sessions:l});return c?new ba({token:a,session_info:c,created:!1}):null}static async findById({session_id:n,token:a}){let r=await fetch(`${Wn._api_url}/sessions/${n}`,{method:"GET",headers:{user_token:a}});if(!r.ok)return null;let l=await r.json();return new ba({token:a,session_info:l,created:!1})}static async findByGuestToken({guest_token:n}){let a=await fetch(`${Wn._api_url}/sessions`,{method:"GET",headers:{guest_token:n}});if(!a.ok)throw new Error("Could not find session as guest, guest token might be expired");let[r]=await a.json();return new ba({token:n,session_info:r,created:!1,is_guest:!0})}get scene_id(){return this.info.scene_id}get session_id(){return this.info.session_id}get client_ids(){return Array.from(p(this,In).keys())}get clients(){return Array.from(p(this,In).values())}get other_clients(){return Array.from(p(this,In).values()).filter(n=>n.id!==this.client_id)}get current_client(){return this.client_id?p(this,In).get(this.client_id)??null:null}get gateway_url(){return p(this,Vo)}get session_key(){return p(this,jo)}isJoinable(){return p(this,Vo)!==null&&p(this,jo)!==null}async registerClient(){let n=await fetch(`${Wn._api_url}/sessions/${this.session_id}/clients`,{method:"POST",headers:p(this,Re,ku)}),{session_token:a,endpoint_info:r}=await n.json(),l=r.ssl_port?"wss":"ws",c=r.ssl_port!==0?r.ssl_port:r.port;W(this,Vo,`${l}://${r.ip}:${c}`),W(this,jo,a)}async close(){if(this.info===null)throw new Error("Cannot close session as it has not been opened yet");await fetch(`${Wn._api_url}/sessions/${this.session_id}`,{method:"DELETE",headers:p(this,Re,ku)})}getClient({client_id:n}){return p(this,In).get(n)??null}async evictClient({client:n}){let a=n instanceof qg?n.id:n;return(await fetch(`${Wn._api_url}/sessions/${this.session_id}/clients/${a}`,{method:"DELETE",headers:p(this,Re,ku)})).ok}_updateClients({core:n,client_data:a}){for(let r of a){let l=r.client_id;if(p(this,Fo).has(l))continue;let c=p(this,In).get(l);c?dt(this,Re,ob).call(this,{client:c,client_meta_data:r}):dt(this,Re,rb).call(this,{core:n,client_meta_data:r})}dt(this,Re,lb).call(this,{client_data:a})}},Vo=new WeakMap,jo=new WeakMap,In=new WeakMap,Fo=new WeakMap,Re=new WeakSet,ku=function(){return this.is_guest?{guest_token:this.token}:{user_token:this.token}},rb=async function({core:n,client_meta_data:a}){if(a.viewports.length===0)return;let r=a.client_id;p(this,Fo).add(r);let l=null;try{l=await dt(this,Re,hb).call(this,{client_id:a.client_id})}catch(h){console.error("Could not get info for client",r,h),l={client_id:r,client_type:"unknown",user_id:"",username:"unknown user"}}let c=new qg({core:n,client_info:l,client_meta_data:a});dt(this,Re,ub).call(this,{client:c}),p(this,Fo).delete(r)},ob=function({client:n,client_meta_data:a}){n._updateFromClientMetaData({client_meta_data:a})},lb=function({client_data:n}){let a=n.map(r=>r.client_id);for(let[r]of p(this,In))a.includes(r)||dt(this,Re,cb).call(this,{client_id:r})},ub=function({client:n}){p(this,In).set(n.id,n),n.id!==this.client_id&&this._dispatchEvent(new E4({client:n}))},cb=function({client_id:n}){let a=this.getClient({client_id:n});a&&(p(this,In).delete(n),this._dispatchEvent(new w4({client:a})))},hb=async function({client_id:n}){return await(await fetch(`${Wn._api_url}/sessions/${this.session_id}/clients/${n}`,{method:"GET",headers:p(this,Re,ku)})).json()},ba),as,Wu,ss,rs,Bf,Hf,Vf,ki,vf,jf,bf,Qv,T4=(Qv=class{constructor(e){q(this,ki);q(this,as);q(this,Wu,!1);q(this,ss,{x:0,y:0});q(this,rs,new Map);q(this,Bf,({viewport:e,event:t})=>{if(t.button>2){console.warn("MouseInput: Unsupported mouse button",t.button);return}t.stopPropagation();let n=dt(this,ki,vf).call(this,t),a=dt(this,ki,bf).call(this,{viewport:e,x:n.x,y:n.y});p(this,as)._sendInput({input_state:{input_operation:["lbutton_down","mbutton_down","rbutton_down"][t.button],input_data:a}})});q(this,Hf,({viewport:e,event:t})=>{if(t.button>2){console.warn("MouseInput: Unsupported mouse button",t.button);return}t.stopPropagation();let n=dt(this,ki,vf).call(this,t),a=dt(this,ki,bf).call(this,{viewport:e,x:n.x,y:n.y});p(this,as)._sendInput({input_state:{input_operation:["lbutton_up","mbutton_up","rbutton_up"][t.button],input_data:a}})});q(this,Vf,({viewport:e,event:t})=>{t.stopPropagation();let n=dt(this,ki,vf).call(this,t),a=dt(this,ki,bf).call(this,{viewport:e,x:n.x,y:n.y});p(this,as)._sendInput({input_state:{input_operation:"mouse_move",input_data:a}})});q(this,jf,()=>{let e=Array.from(p(this,rs).values());W(this,Wu,e.some(t=>document.pointerLockElement===t.dom_element))});W(this,as,e),typeof document<"u"&&document.addEventListener("pointerlockchange",p(this,jf))}enableOnViewport({viewport:e}){let t=p(this,rs).get(e);if(t){t.ref_count++;return}let n=e.dom_element,a=new AbortController;n.addEventListener("mousedown",r=>p(this,Bf).call(this,{viewport:e,event:r}),{signal:a.signal}),n.addEventListener("mouseup",r=>p(this,Hf).call(this,{viewport:e,event:r}),{signal:a.signal}),n.addEventListener("mousemove",r=>p(this,Vf).call(this,{viewport:e,event:r}),{signal:a.signal}),p(this,rs).set(e,{dom_element:n,abort_controller:a,ref_count:1})}disableFromViewport({viewport:e}){let t=p(this,rs).get(e);if(!t){console.warn("Attempt to release mouse on a viewport that is not set up",e);return}--t.ref_count>0||(t.abort_controller.abort(),p(this,rs).delete(e))}},as=new WeakMap,Wu=new WeakMap,ss=new WeakMap,rs=new WeakMap,Bf=new WeakMap,Hf=new WeakMap,Vf=new WeakMap,ki=new WeakSet,vf=function(e){let t=e;return p(this,Wu)?(p(this,ss).x+=t.movementX,p(this,ss).y+=t.movementY):(p(this,ss).x=t.clientX,p(this,ss).y=t.clientY),p(this,ss)},jf=new WeakMap,bf=function({viewport:e,x:t,y:n,bufferSize:a=8}){let r=new ArrayBuffer(a),l=new DataView(r),[c,h]=p(this,as)._projectViewportPositionOnRemoteFrame({viewport:e,position:[t,n]});return l.setFloat32(0,c,!0),l.setFloat32(4,h,!0),new Uint8Array(r)},Qv),Ws,tc,ec,Po,fr,i0,fb,$v,M4=($v=class{constructor(e){q(this,fr);q(this,Ws);q(this,tc,e=>{e.preventDefault();let t=dt(this,fr,i0).call(this,e);p(this,Ws)._sendInput({input_state:{input_operation:"on_key_down",input_data:t}})});q(this,ec,e=>{e.preventDefault();let t=dt(this,fr,i0).call(this,e);p(this,Ws)._sendInput({input_state:{input_operation:"on_key_up",input_data:t}})});q(this,Po,()=>{p(this,Ws)._sendInput({input_state:{input_operation:"reset"}})});W(this,Ws,e)}enable(){window.addEventListener("keydown",p(this,tc)),window.addEventListener("keyup",p(this,ec)),window.addEventListener("blur",p(this,Po))}disable(){window.removeEventListener("keydown",p(this,tc)),window.removeEventListener("keyup",p(this,ec)),window.removeEventListener("blur",p(this,Po)),p(this,Po).call(this)}},Ws=new WeakMap,tc=new WeakMap,ec=new WeakMap,Po=new WeakMap,fr=new WeakSet,i0=function(e){let t=dt(this,fr,fb).call(this,e),n=new Uint8Array(4);return n[0]=t&255,n[1]=t>>8&255,n[2]=t>>16&255,n[3]=t>>24&255,n},fb=function(e){let{code:t,key:n}=e;if(!(t!=null&&t.startsWith("Key")))return e.keyCode;let a=t[t.length-1];return a!==n?a.charCodeAt(0):e.keyCode},$v),Yo,tr,Ff,Pf,ci,os,El,db,mb,Kv,S4=(Kv=class{constructor(){q(this,El);q(this,Yo,2);q(this,tr,44100);q(this,Ff,32);q(this,Pf,1);q(this,ci);q(this,os,0);W(this,ci,new AudioContext({sampleRate:p(this,tr),latencyHint:"interactive"})),W(this,os,p(this,ci).currentTime)}release(){p(this,ci).close()}playAudioPacket({packet:e}){let t=new Float32Array(e.buffer,e.byteOffset),n=e.byteLength/(p(this,Ff)/8*p(this,Yo));dt(this,El,db).call(this,{samples:t,sample_count:n})}},Yo=new WeakMap,tr=new WeakMap,Ff=new WeakMap,Pf=new WeakMap,ci=new WeakMap,os=new WeakMap,El=new WeakSet,db=function({samples:e,sample_count:t}){let n=p(this,ci).createBufferSource();n.buffer=dt(this,El,mb).call(this,{samples:e,sample_count:t}),n.connect(p(this,ci).destination),p(this,os)<=p(this,ci).currentTime&&W(this,os,.1+p(this,ci).currentTime+t/p(this,tr)),n.start(p(this,os)),W(this,os,p(this,os)+t/p(this,tr))},mb=function({samples:e,sample_count:t}){let n=p(this,ci).createBuffer(p(this,Yo),t,p(this,tr));for(let a=0;a<p(this,Yo);a++){let r=n.getChannelData(a);for(let l=0;l<t;l++)r[l]=e[a*t+l]*p(this,Pf)}return n},Kv),A4=[4,8,16,32,1024,2048,0,0,2,1,4096,8192,64,128,256,512],Jh={A:0,Y:3},fe={LeftThumbstickX:0,LeftThumbstickY:1,RightThumbstickX:2,RightThumbstickY:3,LeftTrigger:4,RightTrigger:5},co={Left:[fe.LeftThumbstickX,fe.LeftThumbstickY],Right:[fe.RightThumbstickX,fe.RightThumbstickY]},kg=({currentReading:e,button:t,isPressed:n})=>{let a=A4[t];return e&~a|-Number(n)&a},Xo,Go,cn,bs,pb,xf,Iv,_b=(Iv=class{constructor({instance:t,index:n}){q(this,bs);q(this,Xo);q(this,Go);q(this,cn,{buttons:0,axes:{[fe.LeftThumbstickX]:0,[fe.LeftThumbstickY]:0,[fe.RightThumbstickX]:0,[fe.RightThumbstickY]:0,[fe.LeftTrigger]:0,[fe.RightTrigger]:0}});H(this,"setAxis",({axis:t,value:n})=>{p(this,cn).axes[t]!=n&&(p(this,cn).axes[t]=n,dt(this,bs,pb).call(this,{axis:t}))});H(this,"setJoystick",({joystick:t,value:n})=>{this.setAxis({axis:t[0],value:n[0]}),this.setAxis({axis:t[1],value:n[1]})});H(this,"setButton",({button:t,isPressed:n})=>{let a=kg({currentReading:p(this,cn).buttons,button:t,isPressed:n});a!=p(this,cn).buttons&&(p(this,cn).buttons=a,dt(this,bs,xf).call(this))});H(this,"setButtons",({buttons:t})=>{let n=p(this,cn).buttons;for(let a=0;a<t.length;a++){let r=t[a];n=kg({currentReading:n,button:a,isPressed:r})}p(this,cn).buttons!=n&&(p(this,cn).buttons=n,dt(this,bs,xf).call(this))});H(this,"resetInput",()=>{this.setAxis({axis:fe.LeftThumbstickX,value:0}),this.setAxis({axis:fe.LeftThumbstickY,value:0}),this.setAxis({axis:fe.RightThumbstickX,value:0}),this.setAxis({axis:fe.RightThumbstickY,value:0}),this.setAxis({axis:fe.LeftTrigger,value:0}),this.setAxis({axis:fe.RightTrigger,value:0}),p(this,cn).buttons=0,dt(this,bs,xf).call(this)});W(this,Xo,t),W(this,Go,n)}},Xo=new WeakMap,Go=new WeakMap,cn=new WeakMap,bs=new WeakSet,pb=function({axis:t}){let n=new ArrayBuffer(6),a=new DataView(n);a.setUint8(0,p(this,Go)),a.setUint8(1,t),a.setFloat32(2,p(this,cn).axes[t],!0),p(this,Xo)._sendInput({input_state:{input_operation:"gamepad_axis",input_data:new Uint8Array(n)}})},xf=function(){let t=new ArrayBuffer(5),n=new DataView(t);n.setUint8(0,p(this,Go)),n.setUint16(1,p(this,cn).buttons,!0),p(this,Xo)._sendInput({input_state:{input_operation:"gamepad_buttons",input_data:new Uint8Array(t)}})},Iv),Yf,ls,hi,nc,ic,Xf,Zo,Qo,Jv,Bg=(Jv=class{constructor({instance:t,index:n,physicalIndex:a}){q(this,Yf,1e3/60);q(this,ls,null);q(this,hi);q(this,nc);q(this,ic,()=>{p(this,Zo).call(this)});q(this,Xf,()=>{let t=navigator.getGamepads()[p(this,nc)];if(!t||!window.document.hasFocus()){p(this,Qo).call(this),p(this,hi).resetInput();return}let n=t.buttons.map(a=>a.pressed);p(this,hi).setButtons({buttons:n}),p(this,hi).setJoystick({joystick:co.Left,value:[-t.axes[0],t.axes[1]]}),p(this,hi).setJoystick({joystick:co.Right,value:[-t.axes[2],t.axes[3]]}),p(this,hi).setAxis({axis:fe.LeftTrigger,value:t.buttons[6].value}),p(this,hi).setAxis({axis:fe.RightTrigger,value:t.buttons[7].value}),p(this,Zo).call(this)});q(this,Zo,()=>{p(this,Qo).call(this),W(this,ls,setTimeout(()=>{p(this,Xf).call(this),W(this,ls,null)},p(this,Yf)))});q(this,Qo,()=>{p(this,ls)&&(clearTimeout(p(this,ls)),W(this,ls,null))});W(this,hi,new _b({instance:t,index:n})),W(this,nc,a)}enable(){window.addEventListener("focus",p(this,ic)),window.document.hasFocus()&&p(this,Zo).call(this)}disable(){p(this,Qo).call(this),p(this,hi).resetInput(),window.removeEventListener("focus",p(this,ic))}},Yf=new WeakMap,ls=new WeakMap,hi=new WeakMap,nc=new WeakMap,ic=new WeakMap,Xf=new WeakMap,Zo=new WeakMap,Qo=new WeakMap,Jv),er,Dn,ac,sc,rc,Wv,O4=(Wv=class{constructor({instance:e}){q(this,er);q(this,Dn,[]);q(this,ac);q(this,sc,e=>{let t=e.gamepad,n=t.index;t&&t.connected&&(p(this,Dn)[n]=new Bg({instance:p(this,er),index:0,physicalIndex:t.index}),p(this,Dn)[n].enable())});q(this,rc,e=>{let t=e.gamepad.index;p(this,Dn)[t]&&(p(this,Dn)[t].disable(),p(this,Dn)[t]=null)});W(this,er,e),W(this,ac,navigator.getGamepads().length-1)}enable(){let e=navigator.getGamepads();W(this,Dn,Array(e.length).fill(null));for(let t=0;t<e.length;t++){let n=e[t];n&&n.connected&&(p(this,Dn)[t]=new Bg({instance:p(this,er),index:0,physicalIndex:t}),p(this,Dn)[t].enable())}window.addEventListener("gamepadconnected",p(this,sc)),window.addEventListener("gamepaddisconnected",p(this,rc))}disable(){window.removeEventListener("gamepadconnected",p(this,sc)),window.removeEventListener("gamepaddisconnected",p(this,rc));for(let e of p(this,Dn))e&&e.disable();W(this,Dn,[])}createVirtualGamepad(){return Ih(this,ac)._++,new _b({instance:p(this,er),index:0})}},er=new WeakMap,Dn=new WeakMap,ac=new WeakMap,sc=new WeakMap,rc=new WeakMap,Wv),_i,Lt,us,Je,cs,oc,lc,uc,cc,$o,Ko,Bi,yb,gb,vb,hc,fc,dc,bb,hs,Io,Wn=(_i=class{constructor({session:t}){q(this,Bi);H(this,"session");H(this,"scene");q(this,Lt);q(this,us,null);q(this,Je,new fT(this));q(this,cs,null);q(this,oc,new S4);q(this,lc);q(this,uc);q(this,cc);q(this,$o,null);q(this,Ko,null);q(this,hc,({encoded_frame:t,meta_data:n})=>{this.session._updateClients({core:this,client_data:n.clients});let a=hT({raw_frame_meta_data:n,client_id:this.session.client_id,entity_registry:this.scene._entity_registry,viewports:this.viewports});p(this,cs).consumeEncodedFrame({encoded_frame:{video_stream:t,meta_data:a}})});q(this,fc,({packet:t})=>{p(this,oc).playAudioPacket({packet:t})});q(this,dc,({updated_entities:t})=>{for(let{entity_euid:n,updated_components:a}of t)this.scene._updateEntityFromEvent({entity_euid:n,updated_components:a})});q(this,hs,null);q(this,Io,null);this.session=t,W(this,Lt,new Dg.Core),this.scene=new y4(p(this,Lt)),W(this,lc,new T4(this)),W(this,uc,new M4(this)),W(this,cc,new O4({instance:this}))}static async start({scene_id:t,token:n,is_transient:a}){let r=await Of.create({scene_id:t,token:n,is_transient:a});return await _i.join({session:r})}static async join_or_start({scene_id:t,token:n,session_selector:a=({sessions:l})=>l[0],is_transient:r}){let l=await Of.find({scene_id:t,token:n,session_selector:a});if(l===null)return await _i.start({scene_id:t,token:n,is_transient:r});try{return await _i.join({session:l})}catch{return console.error(`Failed to join session '${l.session_id}', trying again with another session.`),await _i.join_or_start({scene_id:t,token:n,session_selector:({sessions:c})=>(c=c.filter(h=>h.session_id!==l.session_id),c.length===0?null:a({sessions:c}))})}}static async join({session:t}){var n;return await Dg.load(),dt(n=new _i({session:t}),Bi,yb).call(n)}get default_decoded_frame_consumer(){return p(this,Je)}get activity_watcher(){return p(this,Lt).activity_watcher}get latency(){return p(this,Lt).latency}get viewports(){return p(this,Je).viewports}async disconnect(){dt(this,Bi,vb).call(this),p(this,$o)&&clearInterval(p(this,$o)),p(this,Ko)&&clearInterval(p(this,Ko)),p(this,cs)!==null&&p(this,cs).release(),p(this,Je).release(),p(this,oc).release(),await p(this,Lt).disconnect()}addViewports({viewports:t}){p(this,Je).addViewports({viewports:t}),this.session._dispatchEvent(new g4({viewports:t}))}removeViewport({viewport:t}){p(this,Je).removeViewport({viewport:t})}async configureRemoteServer({codec:t="h264"}){let n={remote_canvas_size:p(this,Je)._computeRemoteCanvasSize({codec:t}),encoder_config:{codec:t,profile:"main",frame_rate:60,lossy:!0},supported_devices:{keyboard:!0,mouse:!0,gamepad:!0,hololens:!1,touchscreen:!1}};p(this,Je).dimensions;let a=await p(this,Lt).configureClient({client_config:n});return W(this,us,a.codec),a}isConfigured(){return p(this,us)!==null}async setEncodedFrameConsumer({encoded_frame_consumer:t}){if(p(this,us)===null)throw new Error("Client not configured.");W(this,cs,await t.configure({codec:p(this,us),frame_dimensions:p(this,Je).dimensions}))}startStreaming(){if(!this.isConfigured())throw new Error("The Livelink instance is not configured yet");p(this,Je).init(),p(this,Lt).resume(),dt(this,Bi,bb).call(this,{})}startSimulation(){p(this,Lt).setSimulationState({state:"start_simulation"})}pauseSimulation(){p(this,Lt).setSimulationState({state:"pause_simulation"})}stopSimulation(){p(this,Lt).setSimulationState({state:"stop_simulation"})}sendSkeletonPose({controller:t,partial_pose:n}){p(this,Lt).sendSkeletonPose({controller_rtid:t.rtid,partial_pose:n})}get devices(){return{mouse:p(this,lc),keyboard:p(this,uc),gamepads_registry:p(this,cc)}}async configureHeadlessClient(){let t={remote_canvas_size:[256,256],encoder_config:{codec:"h264",profile:"main",frame_rate:30,lossy:!0},supported_devices:{keyboard:!0,mouse:!1,gamepad:!1,hololens:!1,touchscreen:!1}},n=await p(this,Lt).configureClient({client_config:t});return W(this,us,n.codec),n}_sendInput({input_state:t}){p(this,Lt).sendInputState({input_state:t})}async _resize({size:t}){var a;let{size:n}=await p(this,Lt).resize({size:t});(a=p(this,cs))==null||a.resize({frame_dimensions:n})}_setViewports({viewport_configs:t}){p(this,Lt).setViewports({viewport_configs:t})}async _castScreenSpaceRay({screenSpaceRayQuery:t}){return p(this,Lt).castScreenSpaceRay({screenSpaceRayQuery:t})}_refreshViewports(){p(this,hs)||(p(this,Io)!==null&&clearTimeout(p(this,Io)),W(this,Io,setTimeout(()=>{p(this,Je).init()},0)))}_projectViewportPositionOnRemoteFrame({viewport:t,position:n}){let a=p(this,Je).width,r=p(this,Je).height,l=t._getScreenPosition({position:n}),c=[t.rendering_surface.relative_rect.left*a,t.rendering_surface.relative_rect.top*r],h=[c[0]+t.offset[0],c[1]+t.offset[1]];return[(h[0]+l[0]*t.width)/a,(h[1]+l[1]*t.height)/r]}TO_REMOVE__setReadyCallback(t){W(this,hs,t)}TO_REMOVE__startIfReady(){this.isConfigured()&&(this.viewports.some(t=>!t.TO_REMOVE__ready)||p(this,hs)&&(p(this,hs).call(this),W(this,hs,null)))}},Lt=new WeakMap,us=new WeakMap,Je=new WeakMap,cs=new WeakMap,oc=new WeakMap,lc=new WeakMap,uc=new WeakMap,cc=new WeakMap,$o=new WeakMap,Ko=new WeakMap,Bi=new WeakSet,yb=async function(){return await this.session.registerClient(),await p(this,Lt).connect({session:this.session}),dt(this,Bi,gb).call(this),this},gb=function(){p(this,Lt).addEventListener("on-disconnected",this.session._onDisconnected),p(this,Lt).addEventListener("on-inactivity-warning",this.session._onInactivityWarning),p(this,Lt).addEventListener("on-activity-detected",this.session._onActivityDetected),p(this,Lt).addEventListener("on-frame-received",p(this,hc)),p(this,Lt).addEventListener("on-audio-received",p(this,fc)),p(this,Lt).addEventListener("on-entities-updated",p(this,dc)),p(this,Lt).addEventListener("on-entity-visibility-changed",this.scene._onEntityVisibilityChanged),p(this,Lt).addEventListener("on-script-event-received",this.scene._onScriptEventReceived)},vb=function(){p(this,Lt).removeEventListener("on-disconnected",this.session._onDisconnected),p(this,Lt).removeEventListener("on-inactivity-warning",this.session._onInactivityWarning),p(this,Lt).removeEventListener("on-activity-detected",this.session._onActivityDetected),p(this,Lt).removeEventListener("on-frame-received",p(this,hc)),p(this,Lt).removeEventListener("on-audio-received",p(this,fc)),p(this,Lt).removeEventListener("on-entities-updated",p(this,dc)),p(this,Lt).removeEventListener("on-entity-visibility-changed",this.scene._onEntityVisibilityChanged),p(this,Lt).removeEventListener("on-script-event-received",this.scene._onScriptEventReceived)},hc=new WeakMap,fc=new WeakMap,dc=new WeakMap,bb=function({updatesPerSecond:t=30,broadcastsPerSecond:n=1}){W(this,$o,setInterval(()=>{let a=this.scene._entity_registry._getEntitiesToUpdate();a.length>0&&p(this,Lt).updateEntities({update_commands:a,persist:!1})},1e3/t)),W(this,Ko,setInterval(()=>{let a=this.scene._entity_registry._getEntitiesToPersist();a.length>0&&p(this,Lt).updateEntities({update_commands:a,persist:!0})},1e3/n))},hs=new WeakMap,Io=new WeakMap,H(_i,"_api_url","https://api.3dverse.com/app/v1"),_i),z4=class extends Event{constructor({hovered_entity:t,ws_position:n,ws_normal:a}){super("on-entity-hovered");H(this,"hovered_entity");H(this,"ws_position");H(this,"ws_normal");this.hovered_entity=t,this.ws_position=n,this.ws_normal=a}},R4=class extends Event{constructor({picked_entity:t,ws_position:n,ws_normal:a}){super("on-entity-picked");H(this,"picked_entity");H(this,"ws_position");H(this,"ws_normal");this.picked_entity=t,this.ws_position=n,this.ws_normal=a}},Gf,Eb,ze,mc,ma,Jo,Ai,Wo,Oi,tl,nr,ir,_c,pc,t2,xb=(t2=class extends vl{constructor({core:n,rendering_surface:a,options:r}){super();q(this,Gf);H(this,"TO_REMOVE__ready",!1);q(this,ze);q(this,mc);q(this,ma,[]);q(this,Jo,null);q(this,Ai,null);q(this,Wo,0);q(this,Oi);q(this,tl,-1);q(this,nr,!1);q(this,ir,!1);H(this,"is_camera_controlled_by_current_client",!1);q(this,_c,async n=>{var l;n.stopPropagation();let a=null,r=(l=p(this,ze).session.current_client)==null?void 0:l._cursor_data;if(r){let c=await p(this,ze).scene._findEntity({entity_rtid:r.hovered_entity_rtid});c&&(a={entity:c,ws_position:r.hovered_ws_position,ws_normal:r.hovered_ws_normal})}this._dispatchEvent(new R4({picked_entity:(a==null?void 0:a.entity)??null,ws_position:(a==null?void 0:a.ws_position)??null,ws_normal:(a==null?void 0:a.ws_normal)??null}))});q(this,pc,async()=>{var r;let n=null,a=(r=p(this,ze).session.current_client)==null?void 0:r._cursor_data;if(a){let l=await p(this,ze).scene._findEntity({entity_rtid:a.hovered_entity_rtid});l&&(n={entity:l,ws_position:a.hovered_ws_position,ws_normal:a.hovered_ws_normal})}this._dispatchEvent(new z4({hovered_entity:(n==null?void 0:n.entity)??null,ws_position:(n==null?void 0:n.ws_position)??null,ws_normal:(n==null?void 0:n.ws_normal)??null}))});W(this,ze,n),W(this,mc,a),W(this,Oi,new Ea((r==null?void 0:r.rect)??{left:0,top:0,width:1,height:1})),W(this,tl,(r==null?void 0:r.render_target_index)??-1),W(this,Wo,(r==null?void 0:r.z_index)??0),W(this,Jo,(r==null?void 0:r.dom_element)??null)}get rendering_surface(){return p(this,mc)}get camera_projection(){return p(this,Ai)}get width(){return p(this,Oi).width*this.rendering_surface.width}get height(){return p(this,Oi).height*this.rendering_surface.height}get offset(){return[p(this,Oi).left*this.rendering_surface.width,p(this,Oi).top*this.rendering_surface.height]}get aspect_ratio(){return this.height>0?this.width/this.height:1}get z_index(){return p(this,Wo)}get render_target_index(){return p(this,tl)}get relative_rect(){return p(this,Oi)}get dom_element(){if(!p(this,Jo))throw new Error("No DOM element set on viewport");return p(this,Jo)}set z_index(n){W(this,Wo,n),p(this,ze)._refreshViewports()}set relative_rect(n){W(this,Oi,n),p(this,ze)._refreshViewports()}set camera_projection(n){W(this,Ai,n),p(this,ze)._refreshViewports(),dt(this,Gf,Eb).call(this)}set render_target_index(n){W(this,tl,n),p(this,ze)._refreshViewports()}isValid(){return p(this,Ai)!==null}release(){this.deactivatePicking(),this.deactivateHovering()}activatePicking(){p(this,nr)||(this.dom_element.addEventListener("click",p(this,_c)),p(this,ze).devices.mouse.enableOnViewport({viewport:this}),W(this,nr,!0))}deactivatePicking(){p(this,nr)&&(this.dom_element.removeEventListener("click",p(this,_c)),p(this,ze).devices.mouse.disableFromViewport({viewport:this}),W(this,nr,!1))}activateHovering(){p(this,ir)||(this.dom_element.addEventListener("pointermove",p(this,pc)),p(this,ze).devices.mouse.enableOnViewport({viewport:this}),W(this,ir,!0))}deactivateHovering(){p(this,ir)&&(this.dom_element.removeEventListener("pointermove",p(this,pc)),p(this,ze).devices.mouse.disableFromViewport({viewport:this}),W(this,ir,!1))}async castScreenSpaceRay({screen_position:n,mode:a="None"}){if(!p(this,Ai))return null;let r=await p(this,ze)._castScreenSpaceRay({screenSpaceRayQuery:{camera_rtid:p(this,Ai).camera_entity.rtid,pos:n,mode:a}});if(r.entity_rtid===null)return null;let l=await p(this,ze).scene._findEntity({entity_rtid:r.entity_rtid});return l===null?null:{entity:l,world_position:r.position,world_normal:r.normal}}projectWorldToScreen({world_position:n,out_screen_position:a=Tt.create()}){if(!p(this,Ai))throw new Error("No camera set on viewport");let r=p(this,Ai).projectWorldToClip({world_position:n,out_clip_position:a}),l=r;return l[0]=(r[0]+1)*this.width*.5,l[1]=(-r[1]+1)*this.height*.5,l}addOverlay({overlay:n}){if(p(this,ma).includes(n)){console.warn("Attempting to add an overlay that is already present",n);return}p(this,ma).push(n),this.rendering_surface.redrawLastFrame()}removeOverlay({overlay:n}){n.release();let a=p(this,ma).indexOf(n);if(a===-1){console.warn("Attempting to remove an overlay that is not present",n);return}p(this,ma).splice(a,1),this.rendering_surface.redrawLastFrame()}_drawOverlays(){let n=null;for(let a of p(this,ma)){let r=a.draw({output_canvas:n});n||(n=r)}return n}_onResize(){var n;(n=this.camera_projection)==null||n.updateProjectionMatrix();for(let a of p(this,ma))a.resize({width:this.width,height:this.height})}getScreenPositionFromEvent({event:n}){return this._getScreenPosition({position:[n.clientX,n.clientY]})}_getScreenPosition({position:n}){let a=this.dom_element.getBoundingClientRect(),r=(n[0]-a.left)/a.width,l=(n[1]-a.top)/a.height;return[r,l]}},Gf=new WeakSet,Eb=function(){this.TO_REMOVE__ready=!0,p(this,ze).TO_REMOVE__startIfReady()},ze=new WeakMap,mc=new WeakMap,ma=new WeakMap,Jo=new WeakMap,Ai=new WeakMap,Wo=new WeakMap,Oi=new WeakMap,tl=new WeakMap,nr=new WeakMap,ir=new WeakMap,_c=new WeakMap,pc=new WeakMap,t2),Bu=class wb{constructor(t=0,n=0){wb.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let n=this.x,a=this.y,r=t.elements;return this.x=r[0]*n+r[3]*a+r[6],this.y=r[1]*n+r[4]*a+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){let a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(t,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,a=this.y-t.y;return n*n+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,a){return this.x=t.x+(n.x-t.x)*a,this.y=t.y+(n.y-t.y)*a,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}rotateAround(t,n){let a=Math.cos(n),r=Math.sin(n),l=this.x-t.x,c=this.y-t.y;return this.x=l*a-c*r+t.x,this.y=l*r+c*a+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};function O0(e,t,n){return Math.max(t,Math.min(n,e))}var Ml=class{constructor(t=0,n=0,a=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=a,this._w=r}static slerpFlat(t,n,a,r,l,c,h){let f=a[r+0],d=a[r+1],_=a[r+2],g=a[r+3],v=l[c+0],b=l[c+1],x=l[c+2],w=l[c+3];if(h===0){t[n+0]=f,t[n+1]=d,t[n+2]=_,t[n+3]=g;return}if(h===1){t[n+0]=v,t[n+1]=b,t[n+2]=x,t[n+3]=w;return}if(g!==w||f!==v||d!==b||_!==x){let E=1-h,A=f*v+d*b+_*x+g*w,U=A>=0?1:-1,B=1-A*A;if(B>Number.EPSILON){let z=Math.sqrt(B),C=Math.atan2(z,A*U);E=Math.sin(E*C)/z,h=Math.sin(h*C)/z}let k=h*U;if(f=f*E+v*k,d=d*E+b*k,_=_*E+x*k,g=g*E+w*k,E===1-h){let z=1/Math.sqrt(f*f+d*d+_*_+g*g);f*=z,d*=z,_*=z,g*=z}}t[n]=f,t[n+1]=d,t[n+2]=_,t[n+3]=g}static multiplyQuaternionsFlat(t,n,a,r,l,c){let h=a[r],f=a[r+1],d=a[r+2],_=a[r+3],g=l[c],v=l[c+1],b=l[c+2],x=l[c+3];return t[n]=h*x+_*g+f*b-d*v,t[n+1]=f*x+_*v+d*g-h*b,t[n+2]=d*x+_*b+h*v-f*g,t[n+3]=_*x-h*g-f*v-d*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,a,r){return this._x=t,this._y=n,this._z=a,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){let a=t._x,r=t._y,l=t._z,c=t._order,h=Math.cos,f=Math.sin,d=h(a/2),_=h(r/2),g=h(l/2),v=f(a/2),b=f(r/2),x=f(l/2);switch(c){case"XYZ":this._x=v*_*g+d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g-v*b*x;break;case"YXZ":this._x=v*_*g+d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g+v*b*x;break;case"ZXY":this._x=v*_*g-d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g-v*b*x;break;case"ZYX":this._x=v*_*g-d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g+v*b*x;break;case"YZX":this._x=v*_*g+d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g-v*b*x;break;case"XZY":this._x=v*_*g-d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){let a=n/2,r=Math.sin(a);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(t){let n=t.elements,a=n[0],r=n[4],l=n[8],c=n[1],h=n[5],f=n[9],d=n[2],_=n[6],g=n[10],v=a+h+g;if(v>0){let b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(_-f)*b,this._y=(l-d)*b,this._z=(c-r)*b}else if(a>h&&a>g){let b=2*Math.sqrt(1+a-h-g);this._w=(_-f)/b,this._x=.25*b,this._y=(r+c)/b,this._z=(l+d)/b}else if(h>g){let b=2*Math.sqrt(1+h-a-g);this._w=(l-d)/b,this._x=(r+c)/b,this._y=.25*b,this._z=(f+_)/b}else{let b=2*Math.sqrt(1+g-a-h);this._w=(c-r)/b,this._x=(l+d)/b,this._y=(f+_)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let a=t.dot(n)+1;return a<Number.EPSILON?(a=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=a):(this._x=0,this._y=-t.z,this._z=t.y,this._w=a)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=a),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(O0(this.dot(t),-1,1)))}rotateTowards(t,n){let a=this.angleTo(t);if(a===0)return this;let r=Math.min(1,n/a);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){let a=t._x,r=t._y,l=t._z,c=t._w,h=n._x,f=n._y,d=n._z,_=n._w;return this._x=a*_+c*h+r*d-l*f,this._y=r*_+c*f+l*h-a*d,this._z=l*_+c*d+a*f-r*h,this._w=c*_-a*h-r*f-l*d,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);let a=this._x,r=this._y,l=this._z,c=this._w,h=c*t._w+a*t._x+r*t._y+l*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=c,this._x=a,this._y=r,this._z=l,this;let f=1-h*h;if(f<=Number.EPSILON){let b=1-n;return this._w=b*c+n*this._w,this._x=b*a+n*this._x,this._y=b*r+n*this._y,this._z=b*l+n*this._z,this.normalize(),this._onChangeCallback(),this}let d=Math.sqrt(f),_=Math.atan2(d,h),g=Math.sin((1-n)*_)/d,v=Math.sin(n*_)/d;return this._w=c*g+this._w*v,this._x=a*g+this._x*v,this._y=r*g+this._y*v,this._z=l*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,n,a){return this.copy(t).slerp(n,a)}random(){let t=Math.random(),n=Math.sqrt(1-t),a=Math.sqrt(t),r=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(n*Math.cos(r),a*Math.sin(l),a*Math.cos(l),n*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},gt=class Tb{constructor(t=0,n=0,a=0){Tb.prototype.isVector3=!0,this.x=t,this.y=n,this.z=a}set(t,n,a){return a===void 0&&(a=this.z),this.x=t,this.y=n,this.z=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(Hg.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(Hg.setFromAxisAngle(t,n))}applyMatrix3(t){let n=this.x,a=this.y,r=this.z,l=t.elements;return this.x=l[0]*n+l[3]*a+l[6]*r,this.y=l[1]*n+l[4]*a+l[7]*r,this.z=l[2]*n+l[5]*a+l[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let n=this.x,a=this.y,r=this.z,l=t.elements,c=1/(l[3]*n+l[7]*a+l[11]*r+l[15]);return this.x=(l[0]*n+l[4]*a+l[8]*r+l[12])*c,this.y=(l[1]*n+l[5]*a+l[9]*r+l[13])*c,this.z=(l[2]*n+l[6]*a+l[10]*r+l[14])*c,this}applyQuaternion(t){let n=this.x,a=this.y,r=this.z,l=t.x,c=t.y,h=t.z,f=t.w,d=f*n+c*r-h*a,_=f*a+h*n-l*r,g=f*r+l*a-c*n,v=-l*n-c*a-h*r;return this.x=d*f+v*-l+_*-h-g*-c,this.y=_*f+v*-c+g*-l-d*-h,this.z=g*f+v*-h+d*-c-_*-l,this}transformDirection(t){let n=this.x,a=this.y,r=this.z,l=t.elements;return this.x=l[0]*n+l[4]*a+l[8]*r,this.y=l[1]*n+l[5]*a+l[9]*r,this.z=l[2]*n+l[6]*a+l[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){let a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(t,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,a){return this.x=t.x+(n.x-t.x)*a,this.y=t.y+(n.y-t.y)*a,this.z=t.z+(n.z-t.z)*a,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){let a=t.x,r=t.y,l=t.z,c=n.x,h=n.y,f=n.z;return this.x=r*f-l*h,this.y=l*c-a*f,this.z=a*h-r*c,this}projectOnVector(t){let n=t.lengthSq();if(n===0)return this.set(0,0,0);let a=t.dot(this)/n;return this.copy(t).multiplyScalar(a)}projectOnPlane(t){return A_.copy(this).projectOnVector(t),this.sub(A_)}reflect(t){return this.sub(A_.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;let a=this.dot(t)/n;return Math.acos(O0(a,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,a=this.y-t.y,r=this.z-t.z;return n*n+a*a+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,a){let r=Math.sin(n)*t;return this.x=r*Math.sin(a),this.y=Math.cos(n)*t,this.z=r*Math.cos(a),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,a){return this.x=t*Math.sin(n),this.y=a,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){let n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){let n=this.setFromMatrixColumn(t,0).length(),a=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=a,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,a=Math.sqrt(1-t**2);return this.x=a*Math.cos(n),this.y=a*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},A_=new gt,Hg=new Ml,Mb=class{constructor(t=new gt(1/0,1/0,1/0),n=new gt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,a=1/0,r=1/0,l=-1/0,c=-1/0,h=-1/0;for(let f=0,d=t.length;f<d;f+=3){let _=t[f],g=t[f+1],v=t[f+2];_<n&&(n=_),g<a&&(a=g),v<r&&(r=v),_>l&&(l=_),g>c&&(c=g),v>h&&(h=v)}return this.min.set(n,a,r),this.max.set(l,c,h),this}setFromPoints(t){this.makeEmpty();for(let n=0,a=t.length;n<a;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){let a=Ou.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(a),this.max.copy(t).add(a),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t=new gt){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t=new gt){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ou),Ou.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,a;return t.normal.x>0?(n=t.normal.x*this.min.x,a=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,a=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,a+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,a+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,a+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,a+=t.normal.z*this.min.z),n<=-t.constant&&a>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(zu),Wh.subVectors(this.max,zu),Wr.subVectors(t.a,zu),to.subVectors(t.b,zu),eo.subVectors(t.c,zu),Ka.subVectors(to,Wr),Ia.subVectors(eo,to),Ps.subVectors(Wr,eo);let n=[0,-Ka.z,Ka.y,0,-Ia.z,Ia.y,0,-Ps.z,Ps.y,Ka.z,0,-Ka.x,Ia.z,0,-Ia.x,Ps.z,0,-Ps.x,-Ka.y,Ka.x,0,-Ia.y,Ia.x,0,-Ps.y,Ps.x,0];return!O_(n,Wr,to,eo,Wh)||(n=[1,0,0,0,1,0,0,0,1],!O_(n,Wr,to,eo,Wh))?!1:(tf.crossVectors(Ka,Ia),n=[tf.x,tf.y,tf.z],O_(n,Wr,to,eo,Wh))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ou.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(Ou).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(sa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),sa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),sa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),sa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),sa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),sa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),sa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),sa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(sa),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},sa=[new gt,new gt,new gt,new gt,new gt,new gt,new gt,new gt],Ou=new gt,Wr=new gt,to=new gt,eo=new gt,Ka=new gt,Ia=new gt,Ps=new gt,zu=new gt,Wh=new gt,tf=new gt,Ys=new gt;function O_(e,t,n,a,r){for(let l=0,c=e.length-3;l<=c;l+=3){Ys.fromArray(e,l);let h=r.x*Math.abs(Ys.x)+r.y*Math.abs(Ys.y)+r.z*Math.abs(Ys.z),f=t.dot(Ys),d=n.dot(Ys),_=a.dot(Ys);if(Math.max(-Math.max(f,d,_),Math.min(f,d,_))>h)return!1}return!0}var es=class a0{constructor(){a0.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,a,r,l,c,h,f,d,_,g,v,b,x,w,E){let A=this.elements;return A[0]=t,A[4]=n,A[8]=a,A[12]=r,A[1]=l,A[5]=c,A[9]=h,A[13]=f,A[2]=d,A[6]=_,A[10]=g,A[14]=v,A[3]=b,A[7]=x,A[11]=w,A[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new a0().fromArray(this.elements)}copy(t){let n=this.elements,a=t.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this}copyPosition(t){let n=this.elements,a=t.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this}setFromMatrix3(t){let n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,a){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(t,n,a){return this.set(t.x,n.x,a.x,0,t.y,n.y,a.y,0,t.z,n.z,a.z,0,0,0,0,1),this}extractRotation(t){let n=this.elements,a=t.elements,r=1/no.setFromMatrixColumn(t,0).length(),l=1/no.setFromMatrixColumn(t,1).length(),c=1/no.setFromMatrixColumn(t,2).length();return n[0]=a[0]*r,n[1]=a[1]*r,n[2]=a[2]*r,n[3]=0,n[4]=a[4]*l,n[5]=a[5]*l,n[6]=a[6]*l,n[7]=0,n[8]=a[8]*c,n[9]=a[9]*c,n[10]=a[10]*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){let n=this.elements,a=t.x,r=t.y,l=t.z,c=Math.cos(a),h=Math.sin(a),f=Math.cos(r),d=Math.sin(r),_=Math.cos(l),g=Math.sin(l);if(t.order==="XYZ"){let v=c*_,b=c*g,x=h*_,w=h*g;n[0]=f*_,n[4]=-f*g,n[8]=d,n[1]=b+x*d,n[5]=v-w*d,n[9]=-h*f,n[2]=w-v*d,n[6]=x+b*d,n[10]=c*f}else if(t.order==="YXZ"){let v=f*_,b=f*g,x=d*_,w=d*g;n[0]=v+w*h,n[4]=x*h-b,n[8]=c*d,n[1]=c*g,n[5]=c*_,n[9]=-h,n[2]=b*h-x,n[6]=w+v*h,n[10]=c*f}else if(t.order==="ZXY"){let v=f*_,b=f*g,x=d*_,w=d*g;n[0]=v-w*h,n[4]=-c*g,n[8]=x+b*h,n[1]=b+x*h,n[5]=c*_,n[9]=w-v*h,n[2]=-c*d,n[6]=h,n[10]=c*f}else if(t.order==="ZYX"){let v=c*_,b=c*g,x=h*_,w=h*g;n[0]=f*_,n[4]=x*d-b,n[8]=v*d+w,n[1]=f*g,n[5]=w*d+v,n[9]=b*d-x,n[2]=-d,n[6]=h*f,n[10]=c*f}else if(t.order==="YZX"){let v=c*f,b=c*d,x=h*f,w=h*d;n[0]=f*_,n[4]=w-v*g,n[8]=x*g+b,n[1]=g,n[5]=c*_,n[9]=-h*_,n[2]=-d*_,n[6]=b*g+x,n[10]=v-w*g}else if(t.order==="XZY"){let v=c*f,b=c*d,x=h*f,w=h*d;n[0]=f*_,n[4]=-g,n[8]=d*_,n[1]=v*g+w,n[5]=c*_,n[9]=b*g-x,n[2]=x*g-b,n[6]=h*_,n[10]=w*g+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(C4,t,D4)}lookAt(t,n,a){let r=this.elements;return An.subVectors(t,n),An.lengthSq()===0&&(An.z=1),An.normalize(),Ja.crossVectors(a,An),Ja.lengthSq()===0&&(Math.abs(a.z)===1?An.x+=1e-4:An.z+=1e-4,An.normalize(),Ja.crossVectors(a,An)),Ja.normalize(),ef.crossVectors(An,Ja),r[0]=Ja.x,r[4]=ef.x,r[8]=An.x,r[1]=Ja.y,r[5]=ef.y,r[9]=An.y,r[2]=Ja.z,r[6]=ef.z,r[10]=An.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){let a=t.elements,r=n.elements,l=this.elements,c=a[0],h=a[4],f=a[8],d=a[12],_=a[1],g=a[5],v=a[9],b=a[13],x=a[2],w=a[6],E=a[10],A=a[14],U=a[3],B=a[7],k=a[11],z=a[15],C=r[0],L=r[4],Q=r[8],Z=r[12],K=r[1],at=r[5],st=r[9],nt=r[13],rt=r[2],_t=r[6],Y=r[10],S=r[14],R=r[3],j=r[7],O=r[11],N=r[15];return l[0]=c*C+h*K+f*rt+d*R,l[4]=c*L+h*at+f*_t+d*j,l[8]=c*Q+h*st+f*Y+d*O,l[12]=c*Z+h*nt+f*S+d*N,l[1]=_*C+g*K+v*rt+b*R,l[5]=_*L+g*at+v*_t+b*j,l[9]=_*Q+g*st+v*Y+b*O,l[13]=_*Z+g*nt+v*S+b*N,l[2]=x*C+w*K+E*rt+A*R,l[6]=x*L+w*at+E*_t+A*j,l[10]=x*Q+w*st+E*Y+A*O,l[14]=x*Z+w*nt+E*S+A*N,l[3]=U*C+B*K+k*rt+z*R,l[7]=U*L+B*at+k*_t+z*j,l[11]=U*Q+B*st+k*Y+z*O,l[15]=U*Z+B*nt+k*S+z*N,this}multiplyScalar(t){let n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){let t=this.elements,n=t[0],a=t[4],r=t[8],l=t[12],c=t[1],h=t[5],f=t[9],d=t[13],_=t[2],g=t[6],v=t[10],b=t[14],x=t[3],w=t[7],E=t[11],A=t[15];return x*(+l*f*g-r*d*g-l*h*v+a*d*v+r*h*b-a*f*b)+w*(+n*f*b-n*d*v+l*c*v-r*c*b+r*d*_-l*f*_)+E*(+n*d*g-n*h*b-l*c*g+a*c*b+l*h*_-a*d*_)+A*(-r*h*_-n*f*g+n*h*v+r*c*g-a*c*v+a*f*_)}transpose(){let t=this.elements,n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,a){let r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=a),this}invert(){let t=this.elements,n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15],U=g*E*d-w*v*d+w*f*b-h*E*b-g*f*A+h*v*A,B=x*v*d-_*E*d-x*f*b+c*E*b+_*f*A-c*v*A,k=_*w*d-x*g*d+x*h*b-c*w*b-_*h*A+c*g*A,z=x*g*f-_*w*f-x*h*v+c*w*v+_*h*E-c*g*E,C=n*U+a*B+r*k+l*z;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let L=1/C;return t[0]=U*L,t[1]=(w*v*l-g*E*l-w*r*b+a*E*b+g*r*A-a*v*A)*L,t[2]=(h*E*l-w*f*l+w*r*d-a*E*d-h*r*A+a*f*A)*L,t[3]=(g*f*l-h*v*l-g*r*d+a*v*d+h*r*b-a*f*b)*L,t[4]=B*L,t[5]=(_*E*l-x*v*l+x*r*b-n*E*b-_*r*A+n*v*A)*L,t[6]=(x*f*l-c*E*l-x*r*d+n*E*d+c*r*A-n*f*A)*L,t[7]=(c*v*l-_*f*l+_*r*d-n*v*d-c*r*b+n*f*b)*L,t[8]=k*L,t[9]=(x*g*l-_*w*l-x*a*b+n*w*b+_*a*A-n*g*A)*L,t[10]=(c*w*l-x*h*l+x*a*d-n*w*d-c*a*A+n*h*A)*L,t[11]=(_*h*l-c*g*l-_*a*d+n*g*d+c*a*b-n*h*b)*L,t[12]=z*L,t[13]=(_*w*r-x*g*r+x*a*v-n*w*v-_*a*E+n*g*E)*L,t[14]=(x*h*r-c*w*r-x*a*f+n*w*f+c*a*E-n*h*E)*L,t[15]=(c*g*r-_*h*r+_*a*f-n*g*f-c*a*v+n*h*v)*L,this}scale(t){let n=this.elements,a=t.x,r=t.y,l=t.z;return n[0]*=a,n[4]*=r,n[8]*=l,n[1]*=a,n[5]*=r,n[9]*=l,n[2]*=a,n[6]*=r,n[10]*=l,n[3]*=a,n[7]*=r,n[11]*=l,this}getMaxScaleOnAxis(){let t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,a,r))}makeTranslation(t,n,a){return this.set(1,0,0,t,0,1,0,n,0,0,1,a,0,0,0,1),this}makeRotationX(t){let n=Math.cos(t),a=Math.sin(t);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this}makeRotationY(t){let n=Math.cos(t),a=Math.sin(t);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this}makeRotationZ(t){let n=Math.cos(t),a=Math.sin(t);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){let a=Math.cos(n),r=Math.sin(n),l=1-a,c=t.x,h=t.y,f=t.z,d=l*c,_=l*h;return this.set(d*c+a,d*h-r*f,d*f+r*h,0,d*h+r*f,_*h+a,_*f-r*c,0,d*f-r*h,_*f+r*c,l*f*f+a,0,0,0,0,1),this}makeScale(t,n,a){return this.set(t,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this}makeShear(t,n,a,r,l,c){return this.set(1,a,l,0,t,1,c,0,n,r,1,0,0,0,0,1),this}compose(t,n,a){let r=this.elements,l=n._x,c=n._y,h=n._z,f=n._w,d=l+l,_=c+c,g=h+h,v=l*d,b=l*_,x=l*g,w=c*_,E=c*g,A=h*g,U=f*d,B=f*_,k=f*g,z=a.x,C=a.y,L=a.z;return r[0]=(1-(w+A))*z,r[1]=(b+k)*z,r[2]=(x-B)*z,r[3]=0,r[4]=(b-k)*C,r[5]=(1-(v+A))*C,r[6]=(E+U)*C,r[7]=0,r[8]=(x+B)*L,r[9]=(E-U)*L,r[10]=(1-(v+w))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,a){let r=this.elements,l=no.set(r[0],r[1],r[2]).length(),c=no.set(r[4],r[5],r[6]).length(),h=no.set(r[8],r[9],r[10]).length();this.determinant()<0&&(l=-l),t.x=r[12],t.y=r[13],t.z=r[14],ri.copy(this);let f=1/l,d=1/c,_=1/h;return ri.elements[0]*=f,ri.elements[1]*=f,ri.elements[2]*=f,ri.elements[4]*=d,ri.elements[5]*=d,ri.elements[6]*=d,ri.elements[8]*=_,ri.elements[9]*=_,ri.elements[10]*=_,n.setFromRotationMatrix(ri),a.x=l,a.y=c,a.z=h,this}makePerspective(t,n,a,r,l,c){let h=this.elements,f=2*l/(n-t),d=2*l/(a-r),_=(n+t)/(n-t),g=(a+r)/(a-r),v=-(c+l)/(c-l),b=-2*c*l/(c-l);return h[0]=f,h[4]=0,h[8]=_,h[12]=0,h[1]=0,h[5]=d,h[9]=g,h[13]=0,h[2]=0,h[6]=0,h[10]=v,h[14]=b,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,n,a,r,l,c){let h=this.elements,f=1/(n-t),d=1/(a-r),_=1/(c-l),g=(n+t)*f,v=(a+r)*d,b=(c+l)*_;return h[0]=2*f,h[4]=0,h[8]=0,h[12]=-g,h[1]=0,h[5]=2*d,h[9]=0,h[13]=-v,h[2]=0,h[6]=0,h[10]=-2*_,h[14]=-b,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){let n=this.elements,a=t.elements;for(let r=0;r<16;r++)if(n[r]!==a[r])return!1;return!0}fromArray(t,n=0){for(let a=0;a<16;a++)this.elements[a]=t[a+n];return this}toArray(t=[],n=0){let a=this.elements;return t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7],t[n+8]=a[8],t[n+9]=a[9],t[n+10]=a[10],t[n+11]=a[11],t[n+12]=a[12],t[n+13]=a[13],t[n+14]=a[14],t[n+15]=a[15],t}},no=new gt,ri=new es,C4=new gt(0,0,0),D4=new gt(1,1,1),Ja=new gt,ef=new gt,An=new gt;new es;var zf=class{constructor(t=1,n=0,a=0){return this.radius=t,this.phi=n,this.theta=a,this}set(t,n,a){return this.radius=t,this.phi=n,this.theta=a,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,a){return this.radius=Math.sqrt(t*t+n*n+a*a),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,a),this.phi=Math.acos(O0(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},U4=class Sb{constructor(t=0,n=0,a=0,r=1){Sb.prototype.isVector4=!0,this.x=t,this.y=n,this.z=a,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,a,r){return this.x=t,this.y=n,this.z=a,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let n=this.x,a=this.y,r=this.z,l=this.w,c=t.elements;return this.x=c[0]*n+c[4]*a+c[8]*r+c[12]*l,this.y=c[1]*n+c[5]*a+c[9]*r+c[13]*l,this.z=c[2]*n+c[6]*a+c[10]*r+c[14]*l,this.w=c[3]*n+c[7]*a+c[11]*r+c[15]*l,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,a,r,l,c=t.elements,h=c[0],f=c[4],d=c[8],_=c[1],g=c[5],v=c[9],b=c[2],x=c[6],w=c[10];if(Math.abs(f-_)<.01&&Math.abs(d-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+_)<.1&&Math.abs(d+b)<.1&&Math.abs(v+x)<.1&&Math.abs(h+g+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;let A=(h+1)/2,U=(g+1)/2,B=(w+1)/2,k=(f+_)/4,z=(d+b)/4,C=(v+x)/4;return A>U&&A>B?A<.01?(a=0,r=.707106781,l=.707106781):(a=Math.sqrt(A),r=k/a,l=z/a):U>B?U<.01?(a=.707106781,r=0,l=.707106781):(r=Math.sqrt(U),a=k/r,l=C/r):B<.01?(a=.707106781,r=.707106781,l=0):(l=Math.sqrt(B),a=z/l,r=C/l),this.set(a,r,l,n),this}let E=Math.sqrt((x-v)*(x-v)+(d-b)*(d-b)+(_-f)*(_-f));return Math.abs(E)<.001&&(E=1),this.x=(x-v)/E,this.y=(d-b)/E,this.z=(_-f)/E,this.w=Math.acos((h+g+w-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){let a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(t,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,a){return this.x=t.x+(n.x-t.x)*a,this.y=t.y+(n.y-t.y)*a,this.z=t.z+(n.z-t.z)*a,this.w=t.w+(n.w-t.w)*a,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},ue={LEFT:1,RIGHT:2,MIDDLE:4},P=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),io={NONE:0,IN:1,OUT:-1},ao=Math.PI*2,Vg=Math.PI/2,Ab=1e-5,uo=Math.PI/180;function ui(e,t,n){return Math.max(t,Math.min(n,e))}function ae(e,t=Ab){return Math.abs(e)<t}function Qt(e,t,n=Ab){return ae(e-t,n)}function jg(e,t){return Math.round(e/t)*t}function Ru(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Cu(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function L4(e,t){return e.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}function nf(e,t,n,a,r=1/0,l){a=Math.max(1e-4,a);let c=2/a,h=c*l,f=1/(1+h+.48*h*h+.235*h*h*h),d=e-t,_=t,g=r*a;d=ui(d,-g,g),t=e-d;let v=(n.value+c*d)*l;n.value=(n.value-c*v)*f;let b=t+(d+v)*f;return _-e>0==b>_&&(b=_,n.value=(b-_)/l),b}function Fg(e,t,n,a,r=1/0,l,c){a=Math.max(1e-4,a);let h=2/a,f=h*l,d=1/(1+f+.48*f*f+.235*f*f*f),_=t.x,g=t.y,v=t.z,b=e.x-_,x=e.y-g,w=e.z-v,E=_,A=g,U=v,B=r*a,k=B*B,z=b*b+x*x+w*w;if(z>k){let _t=Math.sqrt(z);b=b/_t*B,x=x/_t*B,w=w/_t*B}_=e.x-b,g=e.y-x,v=e.z-w;let C=(n.x+h*b)*l,L=(n.y+h*x)*l,Q=(n.z+h*w)*l;n.x=(n.x-h*C)*d,n.y=(n.y-h*L)*d,n.z=(n.z-h*Q)*d,c.x=_+(b+C)*d,c.y=g+(x+L)*d,c.z=v+(w+Q)*d;let Z=E-e.x,K=A-e.y,at=U-e.z,st=c.x-E,nt=c.y-A,rt=c.z-U;return Z*st+K*nt+at*rt>0&&(c.x=E,c.y=A,c.z=U,n.x=(c.x-E)/l,n.y=(c.y-A)/l,n.z=(c.z-U)/l),c}function z_(e,t){t.set(0,0),e.forEach(n=>{t.x+=n.clientX,t.y+=n.clientY}),t.x/=e.length,t.y/=e.length}var Pg=new es,Yg=new gt,Ob=class{constructor(e){H(this,"position");H(this,"quaternion");H(this,"up");H(this,"scale",new gt(1,1,1));H(this,"matrix",new es);H(this,"matrixWorld",new es);H(this,"matrixWorldInverse",new es);H(this,"projectionMatrix",new es);H(this,"projectionMatrixInverse",new es);H(this,"zoom",1);H(this,"matrixWorldNeedsUpdate",!0);H(this,"matrixAutoUpdate",!0);H(this,"matrixWorldAutoUpdate",!0);this.position=new gt().fromArray(e.position),this.quaternion=new Ml().fromArray(e.orientation),this.up=new gt(0,1,0)}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e=!1){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1),this.matrixWorldInverse.copy(this.matrixWorld).invert()}lookAt(e){this.updateMatrixWorld(),Yg.setFromMatrixPosition(this.matrixWorld),Pg.lookAt(Yg,e,this.up),this.quaternion.setFromRotationMatrix(Pg)}},zb=class extends Ob{constructor(t,n,a){super(t);H(this,"lens");this.lens=n,this.updateProjectionMatrix(a)}updateProjectionMatrix(t){let n=this.lens.nearPlane,a=n*Math.tan(uo*.5*this.lens.fovy)/this.zoom,r=2*a,l=t*r,c=-.5*l;this.projectionMatrix.makePerspective(c,c+l,a,a-r,n,this.lens.farPlane),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},Rb=class extends Ob{constructor(t,n,a){super(t);H(this,"lens");H(this,"left",0);H(this,"right",0);H(this,"top",0);H(this,"bottom",0);this.lens=n,this.updateProjectionMatrix(a)}updateProjectionMatrix(t){this.left=-t*this.lens.zoomFactor[0],this.right=t*this.lens.zoomFactor[0],this.top=this.lens.zoomFactor[1],this.bottom=-this.lens.zoomFactor[1];let n=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,l=(this.top+this.bottom)/2,c=r-n,h=r+n,f=l+a,d=l-a;this.projectionMatrix.makeOrthographic(c,h,f,d,this.lens.zNear,this.lens.zFar),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}};function Xs(e){return e instanceof zb}function ca(e){return e instanceof Rb}function Xg(e,t){return ca(e)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}var N4=class{constructor(){H(this,"_listeners",{})}addEventListener(e,t){let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){let n=this._listeners[e];if(n!==void 0){let a=n.indexOf(t);a!==-1&&n.splice(a,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){let t=this._listeners[e.type];if(t!==void 0){e.target=this;let n=t.slice(0);for(let a=0,r=n.length;a<r;a++)n[a].call(this,e)}}},q4="0.4.8",af=1/8,e2,k4=/Mac/.test((e2=globalThis==null?void 0:globalThis.navigator)==null?void 0:e2.platform),R_=Object.freeze(new gt(0,1,0)),Gg=Object.freeze(new gt(0,0,1)),On=new Bu,Ut=new gt,Yt=new gt,sf=new gt,C_=new gt,ra=new gt,oa=new gt,so=new gt,B4=new gt,H4=new gt,oi=new zf,rf=new zf,V4=new Mb,j4=new Ml,Zg=new Ml,F4=class Cb extends N4{constructor(n,a,r,l){super();H(this,"minPolarAngle",0);H(this,"maxPolarAngle",Math.PI);H(this,"minAzimuthAngle",-1/0);H(this,"maxAzimuthAngle",1/0);H(this,"minDistance",Number.EPSILON);H(this,"maxDistance",1/0);H(this,"infinityDolly",!1);H(this,"minZoom",.01);H(this,"maxZoom",1/0);H(this,"smoothTime",.25);H(this,"draggingSmoothTime",.125);H(this,"maxSpeed",1/0);H(this,"azimuthRotateSpeed",1);H(this,"polarRotateSpeed",1);H(this,"dollySpeed",1);H(this,"dollyDragInverted",!1);H(this,"truckSpeed",2);H(this,"scaleTruckSpeed",!0);H(this,"dollyToCursor",!1);H(this,"dragToOffset",!1);H(this,"boundaryFriction",0);H(this,"restThreshold",.01);H(this,"mouseButtons");H(this,"touches");H(this,"cancel",()=>{});H(this,"lockPointer");H(this,"unlockPointer");H(this,"_enabled",!0);H(this,"_camera");H(this,"_yAxisUpSpace");H(this,"_yAxisUpSpaceInverse");H(this,"_state",P.NONE);H(this,"_aspectRatio");H(this,"_domElement");H(this,"_viewport",null);H(this,"_target");H(this,"_targetEnd");H(this,"_focalOffset");H(this,"_focalOffsetEnd");H(this,"_spherical");H(this,"_sphericalEnd");H(this,"_lastDistance");H(this,"_zoom");H(this,"_zoomEnd");H(this,"_lastZoom");H(this,"_cameraUp0");H(this,"_target0");H(this,"_position0");H(this,"_zoom0");H(this,"_focalOffset0");H(this,"_dollyControlCoord");H(this,"_changedDolly",0);H(this,"_changedZoom",0);H(this,"_nearPlaneCorners");H(this,"_hasRested",!0);H(this,"_boundary");H(this,"_boundaryEnclosesCamera",!1);H(this,"_needsUpdate",!0);H(this,"_updatedLastTime",!1);H(this,"_elementRect",new DOMRect);H(this,"_isDragging",!1);H(this,"_dragNeedsUpdate",!0);H(this,"_activePointers",[]);H(this,"_lockedPointer",null);H(this,"_interactiveArea",new DOMRect(0,0,1,1));H(this,"_isUserControllingRotate",!1);H(this,"_isUserControllingDolly",!1);H(this,"_isUserControllingTruck",!1);H(this,"_isUserControllingOffset",!1);H(this,"_isUserControllingZoom",!1);H(this,"_lastDollyDirection",io.NONE);H(this,"_thetaVelocity",{value:0});H(this,"_phiVelocity",{value:0});H(this,"_radiusVelocity",{value:0});H(this,"_targetVelocity",new gt);H(this,"_focalOffsetVelocity",new gt);H(this,"_zoomVelocity",{value:0});H(this,"getTargetDistance",()=>{if(!this.scaleTruckSpeed||ca(this._camera))return 1;let n=Ut.copy(this._camera.position).sub(this._target),a=this._camera.lens.fovy*uo;return n.length()*Math.tan(a*.5)});H(this,"_truckInternal",(n,a,r,l)=>{let c,h;if(Xs(this._camera)){let f=this.getTargetDistance();c=this.truckSpeed*n*f/this._elementRect.height,h=this.truckSpeed*a*f/this._elementRect.height}else if(ca(this._camera)){let f=this._camera;c=n*(f.right-f.left)/f.zoom/this._elementRect.width,h=a*(f.top-f.bottom)/f.zoom/this._elementRect.height}else return;l?(r?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(c,0,!0),this.forward(-h,!0)):r?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y+h,this._focalOffsetEnd.z,!0):this.truck(c,h,!0)});H(this,"_rotateInternal",(n,a)=>{let r=ao*this.azimuthRotateSpeed*n/this._elementRect.height,l=ao*this.polarRotateSpeed*a/this._elementRect.height;this.rotate(r,l,!0)});H(this,"_dollyInternal",(n,a,r)=>{let l=Math.pow(.95,-n*this.dollySpeed),c=this._sphericalEnd.radius,h=this._sphericalEnd.radius*l,f=ui(h,this.minDistance,this.maxDistance),d=f-h;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(h,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(d,!0),this._dollyToNoClamp(f,!0)):this._dollyToNoClamp(f,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?h:f)-c,this._dollyControlCoord.set(a,r)),this._lastDollyDirection=Math.sign(-n)});H(this,"_zoomInternal",(n,a,r)=>{let l=Math.pow(.95,n*this.dollySpeed),c=this._zoom,h=this._zoom*l;this.zoomTo(h,!0),this.dollyToCursor&&(this._changedZoom+=h-c,this._dollyControlCoord.set(a,r))});let c="fovy"in a;this._aspectRatio=r,this._camera=c?new zb(n,a,r):new Rb(n,a,r),this._yAxisUpSpace=new Ml().setFromUnitVectors(this._camera.up,R_),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=P.NONE,this._target=new gt,this._targetEnd=this._target.clone(),this._focalOffset=new gt,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new zf().setFromVector3(Ut.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new gt,new gt,new gt,new gt],this._updateNearPlaneCorners(),this._boundary=new Mb(new gt(-1/0,-1/0,-1/0),new gt(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Bu,this.mouseButtons={left:P.ROTATE,middle:P.DOLLY,right:P.TRUCK,wheel:Xs(this._camera)?P.DOLLY:ca(this._camera)?P.ZOOM:P.NONE},this.touches={one:P.TOUCH_ROTATE,two:Xs(this._camera)?P.TOUCH_DOLLY_TRUCK:ca(this._camera)?P.TOUCH_ZOOM_TRUCK:P.NONE,three:P.TOUCH_TRUCK};let h=new Bu,f=new Bu,d=new Bu,_=z=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let Q=this._domElement.getBoundingClientRect(),Z=z.clientX/Q.width,K=z.clientY/Q.height;if(Z<this._interactiveArea.left||Z>this._interactiveArea.right||K<this._interactiveArea.top||K>this._interactiveArea.bottom)return}let C=z.pointerType!=="mouse"?null:(z.buttons&ue.LEFT)===ue.LEFT?ue.LEFT:(z.buttons&ue.MIDDLE)===ue.MIDDLE?ue.MIDDLE:(z.buttons&ue.RIGHT)===ue.RIGHT?ue.RIGHT:null;if(C!==null){let Q=this._findPointerByMouseButton(C);Q&&this._disposePointer(Q)}if((z.buttons&ue.LEFT)===ue.LEFT&&this._lockedPointer)return;let L={pointerId:z.pointerId,clientX:z.clientX,clientY:z.clientY,deltaX:0,deltaY:0,mouseButton:C};this._activePointers.push(L),z.stopPropagation(),this._domElement.ownerDocument.removeEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",v),this._domElement.ownerDocument.addEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",v),this._isDragging=!0,E(z)},g=z=>{z.cancelable&&z.preventDefault();let C=z.pointerId,L=this._lockedPointer||this._findPointerById(C);if(L){if(L.clientX=z.clientX,L.clientY=z.clientY,L.deltaX=z.movementX,L.deltaY=z.movementY,this._state=0,z.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(z.buttons&ue.LEFT)===ue.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(z.buttons&ue.MIDDLE)===ue.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(z.buttons&ue.RIGHT)===ue.RIGHT&&(this._state=this._state|this.mouseButtons.right);A()}},v=z=>{let C=this._findPointerById(z.pointerId);if(!(C&&C===this._lockedPointer)){if(C&&this._disposePointer(C),z.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=P.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=P.NONE;U()}},b=-1,x=z=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===P.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let K=this._domElement.getBoundingClientRect(),at=z.clientX/K.width,st=z.clientY/K.height;if(at<this._interactiveArea.left||at>this._interactiveArea.right||st<this._interactiveArea.top||st>this._interactiveArea.bottom)return}if(z.preventDefault(),z.stopPropagation(),this.dollyToCursor||this.mouseButtons.wheel===P.ROTATE||this.mouseButtons.wheel===P.TRUCK){let K=performance.now();b-K<1e3&&this._getClientRect(this._elementRect),b=K}let C=k4?-1:-3,L=z.deltaMode===1?z.deltaY/C:z.deltaY/(C*10),Q=this.dollyToCursor?(z.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,Z=this.dollyToCursor?(z.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case P.ROTATE:{this._rotateInternal(z.deltaX,z.deltaY),this._isUserControllingRotate=!0;break}case P.TRUCK:{this._truckInternal(z.deltaX,-z.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case P.SCREEN_PAN:{this._truckInternal(z.deltaX,-z.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case P.OFFSET:{this._truckInternal(z.deltaX,z.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case P.DOLLY:{this._dollyInternal(-L,Q,Z),this._isUserControllingDolly=!0;break}case P.ZOOM:{this._zoomInternal(-L,Q,Z),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},w=z=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Cb.ACTION.NONE){let C=z instanceof PointerEvent?z.pointerId:0,L=this._findPointerById(C);L&&this._disposePointer(L),this._domElement.ownerDocument.removeEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",v);return}z.preventDefault(),z.stopPropagation()}},E=z=>{if(this._enabled){if(z_(this._activePointers,On),this._getClientRect(this._elementRect),h.copy(On),f.copy(On),this._activePointers.length>=2){let C=On.x-this._activePointers[1].clientX,L=On.y-this._activePointers[1].clientY,Q=Math.sqrt(C*C+L*L);d.set(0,Q);let Z=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,K=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;f.set(Z,K)}if(this._state=0,!z)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in z&&z.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(z.buttons&ue.LEFT)===ue.LEFT&&(this._state=this._state|this.mouseButtons.left),(z.buttons&ue.MIDDLE)===ue.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(z.buttons&ue.RIGHT)===ue.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&P.ROTATE)===P.ROTATE||(this._state&P.TOUCH_ROTATE)===P.TOUCH_ROTATE||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&P.TRUCK)===P.TRUCK||(this._state&P.SCREEN_PAN)===P.SCREEN_PAN||(this._state&P.TOUCH_TRUCK)===P.TOUCH_TRUCK||(this._state&P.TOUCH_SCREEN_PAN)===P.TOUCH_SCREEN_PAN||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_DOLLY_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK||(this._state&P.TOUCH_ZOOM_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&P.DOLLY)===P.DOLLY||(this._state&P.TOUCH_DOLLY)===P.TOUCH_DOLLY||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_DOLLY_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&P.ZOOM)===P.ZOOM||(this._state&P.TOUCH_ZOOM)===P.TOUCH_ZOOM||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK||(this._state&P.TOUCH_ZOOM_SCREEN_PAN)===P.TOUCH_ZOOM_SCREEN_PAN||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&P.OFFSET)===P.OFFSET||(this._state&P.TOUCH_OFFSET)===P.TOUCH_OFFSET||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},A=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,z_(this._activePointers,On);let z=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=z?-z.deltaX:f.x-On.x,L=z?-z.deltaY:f.y-On.y;if(f.copy(On),((this._state&P.ROTATE)===P.ROTATE||(this._state&P.TOUCH_ROTATE)===P.TOUCH_ROTATE||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,L),this._isUserControllingRotate=!0),(this._state&P.DOLLY)===P.DOLLY||(this._state&P.ZOOM)===P.ZOOM){let Q=this.dollyToCursor?(h.x-this._elementRect.x)/this._elementRect.width*2-1:0,Z=this.dollyToCursor?(h.y-this._elementRect.y)/this._elementRect.height*-2+1:0,K=this.dollyDragInverted?-1:1;(this._state&P.DOLLY)===P.DOLLY?(this._dollyInternal(K*L*af,Q,Z),this._isUserControllingDolly=!0):(this._zoomInternal(K*L*af,Q,Z),this._isUserControllingZoom=!0)}if((this._state&P.TOUCH_DOLLY)===P.TOUCH_DOLLY||(this._state&P.TOUCH_ZOOM)===P.TOUCH_ZOOM||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK||(this._state&P.TOUCH_DOLLY_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN||(this._state&P.TOUCH_ZOOM_SCREEN_PAN)===P.TOUCH_ZOOM_SCREEN_PAN||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_ZOOM_ROTATE)===P.TOUCH_ZOOM_ROTATE){let Q=On.x-this._activePointers[1].clientX,Z=On.y-this._activePointers[1].clientY,K=Math.sqrt(Q*Q+Z*Z),at=d.y-K;d.set(0,K);let st=this.dollyToCursor?(f.x-this._elementRect.x)/this._elementRect.width*2-1:0,nt=this.dollyToCursor?(f.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&P.TOUCH_DOLLY)===P.TOUCH_DOLLY||(this._state&P.TOUCH_DOLLY_ROTATE)===P.TOUCH_DOLLY_ROTATE||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_DOLLY_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET?(this._dollyInternal(at*af,st,nt),this._isUserControllingDolly=!0):(this._zoomInternal(at*af,st,nt),this._isUserControllingZoom=!0)}((this._state&P.TRUCK)===P.TRUCK||(this._state&P.TOUCH_TRUCK)===P.TOUCH_TRUCK||(this._state&P.TOUCH_DOLLY_TRUCK)===P.TOUCH_DOLLY_TRUCK||(this._state&P.TOUCH_ZOOM_TRUCK)===P.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,L,!1,!1),this._isUserControllingTruck=!0),((this._state&P.SCREEN_PAN)===P.SCREEN_PAN||(this._state&P.TOUCH_SCREEN_PAN)===P.TOUCH_SCREEN_PAN||(this._state&P.TOUCH_DOLLY_SCREEN_PAN)===P.TOUCH_DOLLY_SCREEN_PAN||(this._state&P.TOUCH_ZOOM_SCREEN_PAN)===P.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(C,L,!1,!0),this._isUserControllingTruck=!0),((this._state&P.OFFSET)===P.OFFSET||(this._state&P.TOUCH_OFFSET)===P.TOUCH_OFFSET||(this._state&P.TOUCH_DOLLY_OFFSET)===P.TOUCH_DOLLY_OFFSET||(this._state&P.TOUCH_ZOOM_OFFSET)===P.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,L,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},U=()=>{z_(this._activePointers,On),f.copy(On),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",v),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",v),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",B),this._domElement.ownerDocument.addEventListener("pointerlockerror",k),this._domElement.ownerDocument.addEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",v),E())},this.unlockPointer=()=>{var z,C,L;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(z=this._domElement)==null||z.ownerDocument.exitPointerLock(),(C=this._domElement)==null||C.ownerDocument.removeEventListener("pointerlockchange",B),(L=this._domElement)==null||L.ownerDocument.removeEventListener("pointerlockerror",k),this.cancel()};let B=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},k=()=>{this.unlockPointer()};this._addAllEventListeners=z=>{this._domElement=z,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",_),this._domElement.addEventListener("pointercancel",v),this._domElement.addEventListener("wheel",x,{passive:!1}),this._domElement.addEventListener("contextmenu",w)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",_),this._domElement.removeEventListener("pointercancel",v),this._domElement.removeEventListener("wheel",x,{passive:!1}),this._domElement.removeEventListener("contextmenu",w),this._domElement.ownerDocument.removeEventListener("pointermove",g,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",v),this._domElement.ownerDocument.removeEventListener("pointerlockchange",B),this._domElement.ownerDocument.removeEventListener("pointerlockerror",k))},this.cancel=()=>{this._state!==P.NONE&&(this._state=P.NONE,this._activePointers.length=0,U())},l&&this.connect(l),this.update(0)}static get ACTION(){return P}get position(){return this._camera.position}get orientation(){return this._camera.quaternion}get direction(){return this._getCameraDirection(new gt).normalize()}updateTransform(n,a){this._camera.position.fromArray(n),this._camera.quaternion.fromArray(a),this.applyCameraUp(),this._needsUpdate=!0}set aspectRatio(n){this._aspectRatio=n,this._camera.updateProjectionMatrix(this._aspectRatio),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._domElement&&(n?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(n){this._spherical.radius===n&&this._sphericalEnd.radius===n||(this._spherical.radius=n,this._sphericalEnd.radius=n,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(n){this._spherical.theta===n&&this._sphericalEnd.theta===n||(this._spherical.theta=n,this._sphericalEnd.theta=n,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(n){this._spherical.phi===n&&this._sphericalEnd.phi===n||(this._spherical.phi=n,this._sphericalEnd.phi=n,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(n){this._boundaryEnclosesCamera=n,this._needsUpdate=!0}set interactiveArea(n){this._interactiveArea.width=ui(n.width,0,1),this._interactiveArea.height=ui(n.height,0,1),this._interactiveArea.x=ui(n.x,0,1-this._interactiveArea.width),this._interactiveArea.y=ui(n.y,0,1-this._interactiveArea.height)}addEventListener(n,a){super.addEventListener(n,a)}removeEventListener(n,a){super.removeEventListener(n,a)}rotate(n,a,r=!1){return this.rotateTo(this._sphericalEnd.theta+n,this._sphericalEnd.phi+a,r)}rotateAzimuthTo(n,a=!1){return this.rotateTo(n,this._sphericalEnd.phi,a)}rotatePolarTo(n,a=!1){return this.rotateTo(this._sphericalEnd.theta,n,a)}rotateTo(n,a,r=!1){this._isUserControllingRotate=!1;let l=ui(n,this.minAzimuthAngle,this.maxAzimuthAngle),c=ui(a,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=l,this._sphericalEnd.phi=c,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let h=!r||Qt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Qt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(h)}dolly(n,a=!1){return this.dollyTo(this._sphericalEnd.radius-n,a)}dollyTo(n,a=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=io.NONE,this._changedDolly=0,this._dollyToNoClamp(ui(n,this.minDistance,this.maxDistance),a)}_dollyToNoClamp(n,a=!1){this._sphericalEnd.radius=n,this._needsUpdate=!0,a||(this._spherical.radius=this._sphericalEnd.radius);let r=!a||Qt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(n,a=!1){this._targetEnd.add(this._getCameraDirection(C_).multiplyScalar(n)),a||this._target.copy(this._targetEnd);let r=!a||Qt(this._target.x,this._targetEnd.x,this.restThreshold)&&Qt(this._target.y,this._targetEnd.y,this.restThreshold)&&Qt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(n,a=!1){return this.zoomTo(this._zoomEnd+n,a)}zoomTo(n,a=!1){this._isUserControllingZoom=!1,this._zoomEnd=ui(n,this.minZoom,this.maxZoom),this._needsUpdate=!0,a||(this._zoom=this._zoomEnd);let r=!a||Qt(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(n,a,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(n,a,r)}truck(n,a,r=!1){this._camera.updateMatrix(),ra.setFromMatrixColumn(this._camera.matrix,0),oa.setFromMatrixColumn(this._camera.matrix,1),ra.multiplyScalar(n),oa.multiplyScalar(-a);let l=Ut.copy(ra).add(oa),c=Yt.copy(this._targetEnd).add(l);return this.moveTo(c.x,c.y,c.z,r)}forward(n,a=!1){Ut.setFromMatrixColumn(this._camera.matrix,0),Ut.crossVectors(this._camera.up,Ut),Ut.multiplyScalar(n);let r=Yt.copy(this._targetEnd).add(Ut);return this.moveTo(r.x,r.y,r.z,a)}elevate(n,a=!1){return Ut.copy(this._camera.up).multiplyScalar(n),this.moveTo(this._targetEnd.x+Ut.x,this._targetEnd.y+Ut.y,this._targetEnd.z+Ut.z,a)}moveTo(n,a,r,l=!1){this._isUserControllingTruck=!1;let c=Ut.set(n,a,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,c,this.boundaryFriction),this._needsUpdate=!0,l||this._target.copy(this._targetEnd);let h=!l||Qt(this._target.x,this._targetEnd.x,this.restThreshold)&&Qt(this._target.y,this._targetEnd.y,this.restThreshold)&&Qt(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(h)}lookInDirectionOf(n,a,r,l=!1){let c=Ut.set(n,a,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(c.x,c.y,c.z,l)}fitToBox(n,a,{cover:r=!1,paddingLeft:l=0,paddingRight:c=0,paddingBottom:h=0,paddingTop:f=0}={}){let d=[];n.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let _=jg(this._sphericalEnd.theta,Vg),g=jg(this._sphericalEnd.phi,Vg);d.push(this.rotateTo(_,g,a));let v=Ut.setFromSpherical(this._sphericalEnd).normalize(),b=j4.setFromUnitVectors(v,Gg),x=Qt(Math.abs(v.y),1);x&&b.multiply(Zg.setFromAxisAngle(R_,_)),b.multiply(this._yAxisUpSpaceInverse);let w=V4.makeEmpty();Yt.copy(n.min).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.min).setX(n.max.x).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.min).setY(n.max.y).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.max).setZ(n.min.z).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.min).setZ(n.max.z).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.max).setY(n.min.y).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.max).setX(n.min.x).applyQuaternion(b),w.expandByPoint(Yt),Yt.copy(n.max).applyQuaternion(b),w.expandByPoint(Yt),w.min.x-=l,w.min.y-=h,w.max.x+=c,w.max.y+=f,b.setFromUnitVectors(Gg,v),x&&b.premultiply(Zg.invert()),b.premultiply(this._yAxisUpSpace);let E=w.getSize(Ut),A=w.getCenter(Yt).applyQuaternion(b);if(Xs(this._camera)){let U=this.getDistanceToFitBox(E.x,E.y,E.z,r);d.push(this.moveTo(A.x,A.y,A.z,a)),d.push(this.dollyTo(U,a)),d.push(this.setFocalOffset(0,0,0,a))}else if(ca(this._camera)){let U=this._camera,B=U.right-U.left,k=U.top-U.bottom,z=r?Math.max(B/E.x,k/E.y):Math.min(B/E.x,k/E.y);d.push(this.moveTo(A.x,A.y,A.z,a)),d.push(this.zoomTo(z,a)),d.push(this.setFocalOffset(0,0,0,a))}return Promise.all(d)}fitToSphere(n,a){let r=[];if(r.push(this.moveTo(n.center.x,n.center.y,n.center.z,a)),Xs(this._camera)){let l=this.getDistanceToFitSphere(n.radius);r.push(this.dollyTo(l,a))}else if(ca(this._camera)){let l=this._camera.right-this._camera.left,c=this._camera.top-this._camera.bottom,h=2*n.radius,f=Math.min(l/h,c/h);r.push(this.zoomTo(f,a))}return r.push(this.setFocalOffset(0,0,0,a)),Promise.all(r)}setLookAt(n,a,r,l,c,h,f=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=io.NONE,this._changedDolly=0;let d=Yt.set(l,c,h),_=Ut.set(n,a,r);this._targetEnd.copy(d),this._sphericalEnd.setFromVector3(_.sub(d).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,f||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let g=!f||Qt(this._target.x,this._targetEnd.x,this.restThreshold)&&Qt(this._target.y,this._targetEnd.y,this.restThreshold)&&Qt(this._target.z,this._targetEnd.z,this.restThreshold)&&Qt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Qt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Qt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(g)}lerpLookAt(n,a,r,l,c,h,f,d,_,g,v,b,x,w=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=io.NONE,this._changedDolly=0;let E=Ut.set(l,c,h),A=Yt.set(n,a,r);oi.setFromVector3(A.sub(E).applyQuaternion(this._yAxisUpSpace));let U=sf.set(g,v,b),B=Yt.set(f,d,_);rf.setFromVector3(B.sub(U).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(E.lerp(U,x));let k=rf.theta-oi.theta,z=rf.phi-oi.phi,C=rf.radius-oi.radius;this._sphericalEnd.set(oi.radius+C*x,oi.phi+z*x,oi.theta+k*x),this.normalizeRotations(),this._needsUpdate=!0,w||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let L=!w||Qt(this._target.x,this._targetEnd.x,this.restThreshold)&&Qt(this._target.y,this._targetEnd.y,this.restThreshold)&&Qt(this._target.z,this._targetEnd.z,this.restThreshold)&&Qt(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Qt(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Qt(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(L)}setPosition(n,a,r,l=!1){return this.setLookAt(n,a,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,l)}setTarget(n,a,r,l=!1){let c=this.getPosition(Ut),h=this.setLookAt(c.x,c.y,c.z,n,a,r,l);return this._sphericalEnd.phi=ui(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),h}setFocalOffset(n,a,r,l=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(n,a,r),this._needsUpdate=!0,l||this._focalOffset.copy(this._focalOffsetEnd);let c=!l||Qt(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Qt(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Qt(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(c)}setOrbitPoint(n,a,r){this._camera.updateMatrixWorld(),ra.setFromMatrixColumn(this._camera.matrixWorldInverse,0),oa.setFromMatrixColumn(this._camera.matrixWorldInverse,1),so.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let l=Ut.set(n,a,r),c=l.distanceTo(this._camera.position),h=l.sub(this._camera.position);ra.multiplyScalar(h.x),oa.multiplyScalar(h.y),so.multiplyScalar(h.z),Ut.copy(ra).add(oa).add(so),Ut.z=Ut.z+c,this.dollyTo(c,!1),this.setFocalOffset(-Ut.x,Ut.y,-Ut.z,!1),this.moveTo(n,a,r,!1)}setBoundary(n){if(!n){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(n),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(n,a,r,l){if(n===null){this._viewport=null;return}this._viewport=this._viewport||new U4,typeof n=="number"?this._viewport.set(n,a,r,l):this._viewport.copy(n)}getDistanceToFitBox(n,a,r,l=!1){if(Xg(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let c=n/a,h=this._camera.lens.fovy*uo,f=this._aspectRatio;return((l?c>f:c<f)?a:n/f)*.5/Math.tan(h*.5)+r*.5}getDistanceToFitSphere(n){if(Xg(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let a=this._camera.lens.fovy*uo,r=Math.atan(Math.tan(a*.5)*this._aspectRatio)*2,l=1<this._aspectRatio?a:r;return n/Math.sin(l*.5)}getTarget(n,a=!0){return(n&&n.isVector3?n:new gt).copy(a?this._targetEnd:this._target)}getPosition(n,a=!0){return(n&&n.isVector3?n:new gt).setFromSpherical(a?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(a?this._targetEnd:this._target)}getSpherical(n,a=!0){return(n||new zf).copy(a?this._sphericalEnd:this._spherical)}getFocalOffset(n,a=!0){return(n&&n.isVector3?n:new gt).copy(a?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%ao,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=ao),this._spherical.theta+=ao*Math.round((this._sphericalEnd.theta-this._spherical.theta)/ao)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(n=!1){if(!Qt(this._camera.up.x,this._cameraUp0.x)||!Qt(this._camera.up.y,this._cameraUp0.y)||!Qt(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let r=this.getPosition(Ut);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}let a=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,n),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,n),this.zoomTo(this._zoom0,n)];return Promise.all(a)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,R_),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let n=Ut.subVectors(this._target,this._camera.position).normalize(),a=Yt.crossVectors(n,this._camera.up);this._camera.up.crossVectors(a,n).normalize(),this._camera.updateMatrixWorld();let r=this.getPosition(Ut);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(n){let a=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,l=this._sphericalEnd.radius-this._spherical.radius,c=B4.subVectors(this._targetEnd,this._target),h=H4.subVectors(this._focalOffsetEnd,this._focalOffset),f=this._zoomEnd-this._zoom;if(ae(a))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let _=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=nf(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,_,1/0,n),this._needsUpdate=!0}if(ae(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let _=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=nf(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,_,1/0,n),this._needsUpdate=!0}if(ae(l))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let _=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=nf(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,_,this.maxSpeed,n),this._needsUpdate=!0}if(ae(c.x)&&ae(c.y)&&ae(c.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let _=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;Fg(this._target,this._targetEnd,this._targetVelocity,_,this.maxSpeed,n,this._target),this._needsUpdate=!0}if(ae(h.x)&&ae(h.y)&&ae(h.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let _=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;Fg(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,_,this.maxSpeed,n,this._focalOffset),this._needsUpdate=!0}if(ae(f))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let _=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=nf(this._zoom,this._zoomEnd,this._zoomVelocity,_,1/0,n)}if(this.dollyToCursor){if(Xs(this._camera)&&this._changedDolly!==0){let _=this._spherical.radius-this._lastDistance,g=this._camera,v=this._getCameraDirection(C_),b=Ut.copy(v).cross(g.up).normalize();b.lengthSq()===0&&(b.x=1);let x=Yt.crossVectors(b,v),w=this._sphericalEnd.radius*Math.tan(g.lens.fovy*uo*.5),E=(this._sphericalEnd.radius-_-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=sf.copy(this._targetEnd).add(b.multiplyScalar(this._dollyControlCoord.x*w*this._aspectRatio)).add(x.multiplyScalar(this._dollyControlCoord.y*w)),U=Ut.copy(this._targetEnd).lerp(A,E),B=this._lastDollyDirection===io.IN&&this._spherical.radius<=this.minDistance,k=this._lastDollyDirection===io.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(B||k)){this._sphericalEnd.radius-=_,this._spherical.radius-=_;let C=Yt.copy(v).multiplyScalar(-_);U.add(C)}this._boundary.clampPoint(U,U);let z=Yt.subVectors(U,this._targetEnd);this._targetEnd.copy(U),this._target.add(z),this._changedDolly-=_,ae(this._changedDolly)&&(this._changedDolly=0)}else if(ca(this._camera)&&this._changedZoom!==0){let _=this._zoom-this._lastZoom,g=this._camera,v=L4(Ut.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(g.lens.zNear+g.lens.zFar)/(g.lens.zNear-g.lens.zFar)),g),b=Yt.set(0,0,-1).applyQuaternion(g.quaternion),x=sf.copy(v).add(b.multiplyScalar(-v.dot(g.up))),w=-(this._zoom-_-this._zoom)/this._zoom,E=this._getCameraDirection(C_),A=this._targetEnd.dot(E),U=Ut.copy(this._targetEnd).lerp(x,w),B=U.dot(E),k=E.multiplyScalar(B-A);U.sub(k),this._boundary.clampPoint(U,U);let z=Yt.subVectors(U,this._targetEnd);this._targetEnd.copy(U),this._target.add(z),this._changedZoom-=_,ae(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(this._aspectRatio),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0,this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!ae(this._focalOffset.x)||!ae(this._focalOffset.y)||!ae(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),ra.setFromMatrixColumn(this._camera.matrix,0),oa.setFromMatrixColumn(this._camera.matrix,1),so.setFromMatrixColumn(this._camera.matrix,2),ra.multiplyScalar(this._focalOffset.x),oa.multiplyScalar(-this._focalOffset.y),so.multiplyScalar(this._focalOffset.z),Ut.copy(ra).add(oa).add(so),this._camera.position.add(Ut)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Ut.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),ae(a,this.restThreshold)&&ae(r,this.restThreshold)&&ae(l,this.restThreshold)&&ae(c.x,this.restThreshold)&&ae(c.y,this.restThreshold)&&ae(c.z,this.restThreshold)&&ae(h.x,this.restThreshold)&&ae(h.y,this.restThreshold)&&ae(h.z,this.restThreshold)&&ae(f,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Ru(this.maxDistance),minZoom:this.minZoom,maxZoom:Ru(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Ru(this.maxPolarAngle),minAzimuthAngle:Ru(this.minAzimuthAngle),maxAzimuthAngle:Ru(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,scaleTruckSpeed:this.scaleTruckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Ut.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(n,a=!1){let r=JSON.parse(n);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Cu(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Cu(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Cu(r.maxPolarAngle),this.minAzimuthAngle=Cu(r.minAzimuthAngle),this.maxAzimuthAngle=Cu(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.scaleTruckSpeed=r.scaleTruckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],a),oi.setFromVector3(Ut.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(oi.theta,oi.phi,a),this.dollyTo(oi.radius,a),this.zoomTo(r.zoom,a),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],a),this._needsUpdate=!0}connect(n){if(this._domElement){console.warn("camera-controls is already connected.");return}n.setAttribute("data-camera-controls-version",q4),this._addAllEventListeners(n),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(n){return n.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(n){return this._getTargetDirection(n).negate()}_findPointerById(n){return this._activePointers.find(a=>a.pointerId===n)}_findPointerByMouseButton(n){return this._activePointers.find(a=>a.mouseButton===n)}_disposePointer(n){this._activePointers.splice(this._activePointers.indexOf(n),1)}_encloseToBoundary(n,a,r){let l=a.lengthSq();if(l===0)return n;let c=Yt.copy(a).add(n),h=this._boundary.clampPoint(c,sf).sub(c),f=h.lengthSq();if(f===0)return n.add(a);if(f===l)return n;if(r===0)return n.add(a).add(h);{let d=1+r*f/a.dot(h);return n.add(Yt.copy(a).multiplyScalar(d)).add(h.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(Xs(this._camera)){let n=this._camera,a=n.lens.nearPlane,r=n.lens.fovy*uo,l=Math.tan(r*.5)*a,c=l*this._aspectRatio;this._nearPlaneCorners[0].set(-c,-l,0),this._nearPlaneCorners[1].set(c,-l,0),this._nearPlaneCorners[2].set(c,l,0),this._nearPlaneCorners[3].set(-c,l,0)}else if(ca(this._camera)){let n=this._camera,a=1/n.zoom,r=n.left*a,l=n.right*a,c=n.top*a,h=n.bottom*a;this._nearPlaneCorners[0].set(r,c,0),this._nearPlaneCorners[1].set(l,c,0),this._nearPlaneCorners[2].set(l,h,0),this._nearPlaneCorners[3].set(r,h,0)}}_getClientRect(n){if(!this._domElement)return;let a=this._domElement.getBoundingClientRect();return n.x=a.left,n.y=a.top,this._viewport?(n.x+=this._viewport.x,n.y+=a.height-this._viewport.w-this._viewport.y,n.width=this._viewport.z,n.height=this._viewport.w):(n.width=a.width,n.height=a.height),n}_createOnRestPromise(n){return n?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(a=>{let r=()=>{this.removeEventListener("rest",r),a()};this.addEventListener("rest",r)}))}_addAllEventListeners(n){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(n){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(n){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}},Fu;(function(e){e.HOLD_START="holdStart",e.HOLD_END="holdEnd",e.HOLDING="holding"})(Fu||(Fu={}));var P4=class{constructor(){H(this,"_listeners",{})}addEventListener(t,n){let a=this._listeners;a[t]===void 0&&(a[t]=[]),a[t].indexOf(n)===-1&&a[t].push(n)}removeEventListener(t,n){let a=this._listeners[t];if(a!==void 0){let r=a.indexOf(n);r!==-1&&a.splice(r,1)}}dispatchEvent(t){let n=this._listeners[t.type];if(n!==void 0){t.target=this;let a=n.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,t)}}},Y4=class extends P4{constructor(n){super();H(this,"holdIntervalDelay");H(this,"_enabled",!0);H(this,"_holding",!1);H(this,"_intervalId",-1);H(this,"_deltaTime",0);H(this,"_elapsedTime",0);H(this,"_lastTime",0);H(this,"_holdStart",n=>{if(!this._enabled||this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:Fu.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!0;let a=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(a,this.holdIntervalDelay):window.requestAnimationFrame(a);let r=performance.now();this._deltaTime=r-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:Fu.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n})};this._intervalId=this.holdIntervalDelay?window.setTimeout(a,this.holdIntervalDelay):window.requestAnimationFrame(a)});H(this,"_holdEnd",n=>{if(this._holding){let a=performance.now();this._deltaTime=a-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:Fu.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!1}window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId)});this.holdIntervalDelay=n}get enabled(){return this._enabled}set enabled(n){this._enabled!==n&&(this._enabled=n,this._enabled||this._holdEnd())}get holding(){return this._holding}},Qn=class extends Y4{constructor(t,n){if(typeof t!="string"){console.error("KeyboardKeyHold: the first argument has to be a KeyboardEvent.code string.");return}super(n),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this);let a=l=>{X4(l)||l.code===t&&this._holdStart(l)},r=l=>{l.code===t&&this._holdEnd(l)};document.addEventListener("keydown",a),document.addEventListener("keyup",r),window.addEventListener("blur",this._holdEnd)}};function X4(e){let t=e.target;return t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable}var $n={W:"KeyW",A:"KeyA",S:"KeyS",D:"KeyD",E:"KeyE",Q:"KeyQ",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",SHIFT_RIGHT:"ShiftRight",CONTROL_RIGHT:"ControlRight"},Kn=16.666,fn,G4=(fn=class{constructor(t,n){H(this,"_cameraControls");H(this,"_clock");H(this,"speedMultiplier",2e-5);H(this,"_truckLeft",t=>{t&&(this._cameraControls.truck(-this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,0,!1),this._updateClock())});H(this,"_truckRight",t=>{t&&(this._cameraControls.truck(this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,0,!1),this._updateClock())});H(this,"_moveUp",t=>{t&&(this._cameraControls.elevate(this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,!1),this._updateClock())});H(this,"_moveDown",t=>{t&&(this._cameraControls.elevate(-this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,!1),this._updateClock())});H(this,"_moveFront",t=>{if(!t)return;let n=this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,a=this._cameraControls.direction.multiplyScalar(n);a.add(this._cameraControls.getPosition(new gt)),this._cameraControls.moveTo(...a.toArray(),!1),this._updateClock()});H(this,"_moveBack",t=>{if(!t)return;let n=this.speedMultiplier*this._cameraControls.truckSpeed*t.deltaTime,a=this._cameraControls.direction.multiplyScalar(n);a.add(this._cameraControls.getPosition(new gt)),this._cameraControls.moveTo(...a.toArray(),!1),this._updateClock()});this._cameraControls=t,this._clock=n,Object.keys(fn._keys).length===0&&(fn._keys={q:new Qn($n.Q,Kn),w:new Qn($n.W,Kn),s:new Qn($n.S,Kn),a:new Qn($n.A,Kn),d:new Qn($n.D,Kn),e:new Qn($n.E,Kn),up:new Qn($n.ARROW_UP,Kn),right:new Qn($n.ARROW_RIGHT,Kn),down:new Qn($n.ARROW_DOWN,Kn),left:new Qn($n.ARROW_LEFT,Kn),shift:new Qn($n.SHIFT_RIGHT,Kn),ctrl:new Qn($n.CONTROL_RIGHT,Kn)});let{w:a,a:r,s:l,d:c,e:h,q:f,up:d,right:_,down:g,left:v,shift:b,ctrl:x}=fn._keys;r.addEventListener("holding",this._truckLeft),c.addEventListener("holding",this._truckRight),a.addEventListener("holding",this._moveFront),l.addEventListener("holding",this._moveBack),f.addEventListener("holding",this._moveDown),h.addEventListener("holding",this._moveUp),v.addEventListener("holding",this._truckLeft),_.addEventListener("holding",this._truckRight),d.addEventListener("holding",this._moveFront),g.addEventListener("holding",this._moveBack),x.addEventListener("holding",this._moveDown),b.addEventListener("holding",this._moveUp)}dispose(){let{w:t,a:n,s:a,d:r,e:l,q:c,up:h,right:f,down:d,left:_,ctrl:g,shift:v}=fn._keys;n.removeEventListener("holding",this._truckLeft),r.removeEventListener("holding",this._truckRight),t.removeEventListener("holding",this._moveFront),a.removeEventListener("holding",this._moveBack),c.removeEventListener("holding",this._moveDown),l.removeEventListener("holding",this._moveUp),_.removeEventListener("holding",this._truckLeft),f.removeEventListener("holding",this._truckRight),h.removeEventListener("holding",this._moveFront),d.removeEventListener("holding",this._moveBack),g.removeEventListener("holding",this._moveDown),v.removeEventListener("holding",this._moveUp)}enable(){Object.keys(fn._keys).forEach(t=>{fn._keys[t].enabled=!0})}disable(){Object.keys(fn._keys).forEach(t=>{fn._keys[t].enabled=!1})}_updateClock(){let t=this._clock.getDelta();return this._cameraControls.update(t)}},H(fn,"_keys",{}),fn),Z4=class{constructor(e=!0){H(this,"autoStart");H(this,"startTime");H(this,"oldTime");H(this,"elapsedTime");H(this,"running");this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Qg(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=Qg();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function Qg(){return performance.now()}typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-camera-controls")?console.warn(" WARNING  Multiple instances of Livelink Camera Controls being imported."):window.__LIVELINK__["@3dverse/livelink-camera-controls"]="0.4.8");var Db={};Tl(Db,{fly:()=>$4,orbital:()=>Ub,pointer_locked_orbital:()=>Q4});var Ub=Object.freeze({init_options:{target:[0,0,0]}}),Q4=Object.freeze({mouseButtons:{left:P.ROTATE,middle:P.DOLLY,wheel:P.DOLLY,right:P.TRUCK},touches:{one:P.TOUCH_ROTATE,two:P.TOUCH_DOLLY_TRUCK,three:P.TOUCH_TRUCK},truckSpeed:-2,dollyToCursor:!0,infinityDolly:!0,minDistance:.5,maxDistance:1/0,invert_middle_button_dolly:!0,orbit_on_cursor:{enabled:!0,cancel_target_offset:!0},lock_pointer:{aim:"on-drag",on_drag_threshold_in_pixels:10}}),$4=Object.freeze({mouseButtons:{left:P.SCREEN_PAN,middle:P.TRUCK,wheel:P.SCREEN_PAN,right:P.ROTATE},touches:{one:P.TOUCH_ROTATE,two:P.TOUCH_DOLLY_TRUCK,three:P.TOUCH_SCREEN_PAN},truckSpeed:-3/.001,infinityDolly:!0,minDistance:.5,maxDistance:1/0,lock_pointer:{aim:"on-drag",on_drag_threshold_in_pixels:10},init_options:{forward_target_distance:.001,keyboard_fly_controls:{enabled:!0,speed_multiplier:2e-6}}}),fs,zi,el,ds,Ri,Ci,ee,Hu,s0,Lb,Zf,Nb,Vu,yc,gc,vc,bc,ar,qb,kb,xc,Ec,nl,Bb,Hb,n2,K4=(n2=class extends F4{constructor({camera_entity:t,viewport:n,activate:a=!0,preset:r=Ub}){super(t.local_transform,I4(t),n.aspect_ratio,n.dom_element);q(this,ee);q(this,fs);q(this,zi);q(this,el,new Z4);q(this,ds,null);H(this,"invert_middle_button_dolly",!1);H(this,"orbit_on_cursor",{enabled:!1,cancel_target_offset:!1});q(this,Ri,{orbit_point:[0,0,0],wheel_timer:0});H(this,"lock_pointer",{aim:"off",on_drag_threshold_in_pixels:0});q(this,Ci,{count:0,down_position:null});H(this,"init_options",{});H(this,"keyboard_fly_controls",null);H(this,"onViewportResize",()=>{this.aspectRatio=p(this,zi).aspect_ratio});q(this,Zf,()=>{this.position.toArray(p(this,fs).global_transform.position),this.orientation.toArray(p(this,fs).global_transform.orientation)});q(this,yc,()=>{p(this,ee,Hu)||dt(this,ee,Vu).call(this)});q(this,gc,()=>{dt(this,ee,Vu).call(this)});q(this,vc,t=>{var n;this.lock_pointer.aim!=="always"&&p(this,Ci).count++,!(p(this,ee,Hu)||this.lock_pointer.aim==="off")&&(p(this,Ci).down_position=[t.clientX,t.clientY],(n=this._domElement)==null||n.addEventListener("mousemove",p(this,ar)))});q(this,bc,t=>{p(this,Ci).count>0&&p(this,Ci).count--,!(p(this,Ci).count>0||!p(this,ee,Hu)||!this._domElement)&&p(this,Ci).count===0&&dt(this,ee,Vu).call(this)});q(this,ar,t=>{var r;let{on_drag_threshold_in_pixels:n}=this.lock_pointer,{down_position:a}=p(this,Ci);if(!a||!this._domElement||p(this,ee,Hu)){(r=this._domElement)==null||r.removeEventListener("mousemove",p(this,ar));return}if(n>0){let{clientX:l,clientY:c}=t;if(Math.sqrt(Math.pow(l-a[0],2)+Math.pow(c-a[1],2))<n)return}this._domElement.removeEventListener("mousemove",p(this,ar)),this.lock_pointer.aim!=="always"&&this._domElement.addEventListener("mouseup",p(this,bc)),dt(this,ee,Vu).call(this),dt(this,ee,Nb).call(this)});q(this,xc,t=>{this.invert_middle_button_dolly&&t.button===1&&this.mouseButtons.middle===P.DOLLY&&(this.dollySpeed=-Math.abs(this.dollySpeed)),this.orbit_on_cursor.enabled&&dt(this,ee,kb).call(this,t)&&dt(this,ee,Hb).call(this,t)});q(this,Ec,t=>{this.invert_middle_button_dolly&&t.button===1&&this.mouseButtons.middle===P.DOLLY&&(this.dollySpeed=Math.abs(this.dollySpeed))});q(this,nl,t=>{t.stopPropagation()});W(this,fs,t),W(this,zi,n),p(this,zi).is_camera_controlled_by_current_client=!0,dt(this,ee,s0).call(this,this,r),dt(this,ee,Lb).call(this),a&&this.activate(),p(this,zi).rendering_surface.addEventListener("on-rendering-surface-resized",this.onViewportResize)}release(){var t;p(this,zi).is_camera_controlled_by_current_client=!1,p(this,zi).rendering_surface.removeEventListener("on-rendering-surface-resized",this.onViewportResize),this.deactivate(),this.dispose(),(t=this.keyboard_fly_controls)==null||t.dispose()}activate(){var t,n,a,r;p(this,ds)||(W(this,ds,setInterval(()=>{this.update(p(this,el).getDelta())},1e3/60)),(t=this._domElement)==null||t.addEventListener("pointerdown",p(this,xc)),(n=this._domElement)==null||n.addEventListener("pointerup",p(this,Ec)),(a=this._domElement)==null||a.addEventListener("mousedown",p(this,vc)),(r=this.keyboard_fly_controls)==null||r.enable())}deactivate(){var t,n,a,r,l,c;(t=this._domElement)==null||t.removeEventListener("pointerdown",p(this,xc)),(n=this._domElement)==null||n.removeEventListener("pointerup",p(this,Ec)),(a=this._domElement)==null||a.removeEventListener("mousedown",p(this,vc)),(r=this._domElement)==null||r.removeEventListener("mouseup",p(this,bc)),(l=this._domElement)==null||l.removeEventListener("mousemove",p(this,ar)),(c=this.keyboard_fly_controls)==null||c.disable(),p(this,ds)&&(clearInterval(p(this,ds)),W(this,ds,null))}},fs=new WeakMap,zi=new WeakMap,el=new WeakMap,ds=new WeakMap,Ri=new WeakMap,Ci=new WeakMap,ee=new WeakSet,Hu=function(){var t;return((t=this._domElement)==null?void 0:t.ownerDocument.pointerLockElement)===this._domElement},s0=function(t,...n){let a=r=>typeof r=="object"&&r!==null&&!Array.isArray(r);return n.forEach(r=>{a(r)&&Reflect.ownKeys(r).forEach(l=>{let c=t[l],h=r[l],f;a(c)&&a(h)?f=dt(this,ee,s0).call(this,Object.create(Object.getPrototypeOf(c)),c,h):f=window.structuredClone(h),t[l]=f})}),t},Lb=function(){let{target:t}=this.init_options;t&&this.setLookAt(...p(this,fs).local_transform.position,...t);let{forward_target_distance:n}=this.init_options;if(n!==void 0){let r=new Ml(...p(this,fs).local_transform.orientation),l=new gt(0,0,-1).applyQuaternion(r);l.multiplyScalar(n);let c=this.getPosition(new gt).add(l);this.setTarget(...c.toArray())}let{keyboard_fly_controls:a}=this.init_options;if(a!=null&&a.enabled){let{speed_multiplier:r}=a;this.keyboard_fly_controls=new G4(this,p(this,el)),r!==void 0&&(this.keyboard_fly_controls.speedMultiplier=r)}this.saveState(),this.addEventListener("update",p(this,Zf))},Zf=new WeakMap,Nb=function(){if(!this._domElement)return;let{ownerDocument:t}=this._domElement;this._domElement.requestPointerLock(),t.addEventListener("pointerlockchange",p(this,yc)),t.addEventListener("pointerlockerror",p(this,gc))},Vu=function(){if(!this._domElement)return;let{ownerDocument:t}=this._domElement;t.exitPointerLock(),t.removeEventListener("pointerlockchange",p(this,yc)),t.removeEventListener("pointerlockerror",p(this,gc))},yc=new WeakMap,gc=new WeakMap,vc=new WeakMap,bc=new WeakMap,ar=new WeakMap,qb=function({event:t,touch_actions:n,mouse_actions:a}){if(n&&n.length>0&&t.pointerType==="touch"){let l=n.reduce((c,h)=>c|h,0);switch(this._activePointers.length){case 1:return(this.touches.one|l)>0;case 2:return(this.touches.two|l)>0;case 3:return(this.touches.three|l)>0;default:return!1}}if(!a||a.length===0)return!1;let r=P.NONE;switch(t.button){case 0:r=this.mouseButtons.left;break;case 2:r=this.mouseButtons.right;break;case 1:r=this.mouseButtons.middle;break;default:return!1}return a.includes(r)},kb=function(t){let{ROTATE:n,TOUCH_ROTATE:a,TOUCH_ZOOM_ROTATE:r,TOUCH_DOLLY_ROTATE:l}=P;return dt(this,ee,qb).call(this,{event:t,touch_actions:[a,r,l],mouse_actions:[n]})},xc=new WeakMap,Ec=new WeakMap,nl=new WeakMap,Bb=async function(t){var f;if(!this._domElement)return;let{clientX:n,clientY:a}=t,{left:r,top:l}=this._domElement.getBoundingClientRect(),c=[(n-r)/this._domElement.clientWidth,(a-l)/this._domElement.clientHeight],h=(f=await p(this,zi).castScreenSpaceRay({screen_position:c,mode:"None"}))==null?void 0:f.world_position;h?(p(this,Ri).orbit_point=h,this.setOrbitPoint(...h)):this.orbit_on_cursor.cancel_target_offset&&this.setOrbitPoint(...p(this,Ri).orbit_point),this.update(p(this,el).getDelta())},Hb=async function(t){p(this,Ri).rotate_speed||(p(this,Ri).rotate_speed={azimuth:this.azimuthRotateSpeed,polar:this.polarRotateSpeed}),this.polarRotateSpeed=0,this.azimuthRotateSpeed=0,document.removeEventListener("pointermove",p(this,nl),!0),document.addEventListener("pointermove",p(this,nl),{capture:!0,once:!0});try{await dt(this,ee,Bb).call(this,t)}finally{if(document.removeEventListener("pointermove",p(this,nl),!0),p(this,Ri).rotate_speed){let{azimuth:n,polar:a}=p(this,Ri).rotate_speed;p(this,Ri).rotate_speed=void 0,this.azimuthRotateSpeed=n,this.polarRotateSpeed=a}}},n2);function I4(e){let t=e.perspective_lens||e.orthographic_lens;if(!t)throw new Error("Camera entity must have a perspective or orthographic lens");return t}var J4=1e5,il,al,ms,wc,_a,Tc,Qf,_n,jb,Fb,Pb,Yb,Xb,Gb,i2,Vb=(i2=class{constructor({camera_entity:e,viewport:t}){q(this,_n);H(this,"camera_entity");H(this,"viewport");q(this,il,[0,0,0]);q(this,al,[0,0,0,1]);q(this,ms,Ve.create());q(this,wc,Ve.create());q(this,_a,Ve.create());q(this,Tc,Ve.create());q(this,Qf,e=>{e.isAnyComponentDirty({components:["perspective_lens","orthographic_lens"]})&&this.updateProjectionMatrix()});dt(this,_n,jb).call(this,{camera_entity:e}),this.camera_entity=e,this.viewport=t,this.updateProjectionMatrix(),e.addEventListener("on-entity-updated",p(this,Qf))}get clip_from_view_matrix(){return p(this,ms)}get view_from_clip_matrix(){return p(this,wc)}get clip_from_world_matrix(){return p(this,_a)}get world_from_clip_matrix(){return Ve.invert(Ve.create(),p(this,_a))}get world_from_view_matrix(){return p(this,Tc)}get world_position(){return p(this,il)}get world_orientation(){return p(this,al)}get world_euler_orientation(){return ju(p(this,al))}projectWorldToClip({world_position:e,out_clip_position:t=Tt.create()}){return Tt.transformMat4(t,e,p(this,_a)),t}projectClipToWorld({clip_position:e,out_world_position:t=Tt.create()}){return Tt.transformMat4(t,e,this.world_from_clip_matrix),t}computeRayFromScreenPosition({screen_position:e}){let t=dt(this,_n,Yb).call(this,{screen_position:e});return this.computeRayFromClipPosition({clip_position:t})}computeRayFromClipPosition({clip_position:e}){if(this.camera_entity.perspective_lens)return dt(this,_n,Fb).call(this,{clip_position:e});if(this.camera_entity.orthographic_lens)return dt(this,_n,Pb).call(this,{lens:this.camera_entity.orthographic_lens,clip_position:e});throw new Error("Camera entity must have a perspective or orthographic lens component")}updateProjectionMatrix(){this.camera_entity.perspective_lens?dt(this,_n,Xb).call(this,{lens:this.camera_entity.perspective_lens}):this.camera_entity.orthographic_lens&&dt(this,_n,Gb).call(this,{lens:this.camera_entity.orthographic_lens}),Ve.invert(p(this,wc),p(this,ms))}updateFromFrameCameraTransform({frame_camera_transform:e}){W(this,il,e.world_position),W(this,al,e.world_orientation),W(this,Tc,Array.from(e.world_from_view_matrix));let t=p(this,_a),n=Ve.invert(t,e.world_from_view_matrix);n||(console.warn("Failed to invert world_from_view_matrix from frame_camera_transform, using identity matrix instead",e),n=Ve.identity(t)),W(this,_a,Ve.multiply(p(this,_a),p(this,ms),n))}},il=new WeakMap,al=new WeakMap,ms=new WeakMap,wc=new WeakMap,_a=new WeakMap,Tc=new WeakMap,Qf=new WeakMap,_n=new WeakSet,jb=function({camera_entity:e}){if(!e.camera)throw new Error("Camera entity must have a camera component");if(!e.perspective_lens&&!e.orthographic_lens)throw new Error("Camera entity must have a perspective or orthographic lens component")},Fb=function({clip_position:e}){let t={origin:Tt.fromValues(...p(this,il)),direction:Tt.create()};return this.projectClipToWorld({clip_position:e,out_world_position:t.direction}),Tt.sub(t.direction,t.direction,t.origin),Tt.normalize(t.direction,t.direction),t},Pb=function({lens:e,clip_position:t}){let{zNear:n,zFar:a}=e,r={origin:Tt.fromValues(t[0],t[1],(n+a)/(n-a)),direction:Tt.fromValues(0,0,-1)};this.projectClipToWorld({clip_position:t,out_world_position:r.origin});let l=K_.fromMat4(K_.create(),this.world_from_view_matrix);return Tt.transformMat3(r.direction,r.direction,l),r},Yb=function({screen_position:e}){return Tt.fromValues(e[0]*2-1,1-e[1]*2,.5)},Xb=function({lens:e}){Ve.perspective(p(this,ms),E2.toRadian(e.fovy),this.viewport.aspect_ratio,e.nearPlane,e.farPlane||J4)},Gb=function({lens:e}){Ve.ortho(p(this,ms),-this.viewport.aspect_ratio*e.zoomFactor[0],this.viewport.aspect_ratio*e.zoomFactor[0],-e.zoomFactor[1],e.zoomFactor[1],e.zNear,e.zFar)},i2),gs;function W4(){gs=this,gs||(typeof window<"u"?gs=window:typeof self<"u"&&(gs=self))}W4();var Wa="https://cdn.3dverse.com/legacy/sdk/avc.wasm",tA=function(e,t){var n=typeof n<"u"?n:{},a={},r;for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);n.arguments=[],n.thisProgram="./this.program",n.quit=function(lt,ft){throw ft},n.preRun=[],n.postRun=[];var l=!1,c=!1,h=!1,f=!1;if(n.ENVIRONMENT)if(n.ENVIRONMENT==="WEB")l=!0;else if(n.ENVIRONMENT==="WORKER")c=!0;else if(n.ENVIRONMENT==="NODE")h=!0;else if(n.ENVIRONMENT==="SHELL")f=!0;else throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");else l=typeof window=="object",c=typeof importScripts=="function",h=typeof process=="object"&&!1,f=!l&&!h&&!c;if(f)typeof read<"u"&&(n.read=function(lt){return read(lt)}),n.readBinary=function(lt){var ft;return typeof readbuffer=="function"?new Uint8Array(readbuffer(lt)):(ft=read(lt,"binary"),w(typeof ft=="object"),ft)},typeof scriptArgs<"u"?n.arguments=scriptArgs:typeof arguments<"u"&&(n.arguments=arguments),typeof quit=="function"&&(n.quit=function(lt,ft){quit(lt)});else if(l||c)n.read=function(lt){var ft=new XMLHttpRequest;return ft.open("GET",lt,!1),ft.send(null),ft.responseText},c&&(n.readBinary=function(lt){var ft=new XMLHttpRequest;return ft.open("GET",lt,!1),ft.responseType="arraybuffer",ft.send(null),new Uint8Array(ft.response)}),n.readAsync=function(lt,ft,Ct){var vt=new XMLHttpRequest;vt.open("GET",lt,!0),vt.responseType="arraybuffer",vt.onload=function(){if(vt.status==200||vt.status==0&&vt.response){ft(vt.response);return}Ct()},vt.onerror=Ct,vt.send(null)},n.setWindowTitle=function(lt){document.title=lt};else throw new Error("not compiled for this environment");n.print=typeof console<"u"?console.log.bind(console):typeof print<"u"?print:null,n.printErr=typeof printErr<"u"?printErr:typeof console<"u"&&console.warn.bind(console)||n.print,n.print=n.print,n.printErr=n.printErr;for(r in a)a.hasOwnProperty(r)&&(n[r]=a[r]);a=void 0;var d=16;function _(lt){w(!_t);var ft=rt;return rt=rt+lt+15&-16,ft}function g(lt,ft){ft||(ft=d);var Ct=lt=Math.ceil(lt/ft)*ft;return Ct}var v={"f64-rem":function(lt,ft){return lt%ft},debugger:function(){debugger}};new Array(0);var b=1024,x=0;function w(lt,ft){lt||Fe("Assertion failed: "+ft)}function E(lt,ft){if(ft===0||!lt)return"";for(var Ct=0,vt,Nt=0;vt=Q[lt+Nt>>0],Ct|=vt,!(vt==0&&!ft||(Nt++,ft&&Nt==ft)););ft||(ft=Nt);var Ht="";if(Ct<128){for(var ne=1024,De;ft>0;)De=String.fromCharCode.apply(String,Q.subarray(lt,lt+Math.min(ft,ne))),Ht=Ht?Ht+De:De,lt+=ne,ft-=ne;return Ht}return B(lt)}var A=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function U(lt,ft){for(var Ct=ft;lt[Ct];)++Ct;if(Ct-ft>16&&lt.subarray&&A)return A.decode(lt.subarray(ft,Ct));for(var vt,Nt,Ht,ne,De,yn,gn="";;){if(vt=lt[ft++],!vt)return gn;if(!(vt&128)){gn+=String.fromCharCode(vt);continue}if(Nt=lt[ft++]&63,(vt&224)==192){gn+=String.fromCharCode((vt&31)<<6|Nt);continue}if(Ht=lt[ft++]&63,(vt&240)==224?vt=(vt&15)<<12|Nt<<6|Ht:(ne=lt[ft++]&63,(vt&248)==240?vt=(vt&7)<<18|Nt<<12|Ht<<6|ne:(De=lt[ft++]&63,(vt&252)==248?vt=(vt&3)<<24|Nt<<18|Ht<<12|ne<<6|De:(yn=lt[ft++]&63,vt=(vt&1)<<30|Nt<<24|Ht<<18|ne<<12|De<<6|yn))),vt<65536)gn+=String.fromCharCode(vt);else{var sn=vt-65536;gn+=String.fromCharCode(55296|sn>>10,56320|sn&1023)}}}function B(lt){return U(Q,lt)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var k=65536,z=16777216;function C(lt,ft){return lt%ft>0&&(lt+=ft-lt%ft),lt}var L,Q,Z,K;function at(lt){n.buffer=L=lt}function st(){n.HEAP8=new Int8Array(L),n.HEAP16=Z=new Int16Array(L),n.HEAP32=K=new Int32Array(L),n.HEAPU8=Q=new Uint8Array(L),n.HEAPU16=new Uint16Array(L),n.HEAPU32=new Uint32Array(L),n.HEAPF32=new Float32Array(L),n.HEAPF64=new Float64Array(L)}var nt,rt,_t,Y,S,R,j,O;nt=rt=Y=S=R=j=O=0,_t=!1;function N(){Fe("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+ut+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function et(){N()}var ht=n.TOTAL_STACK||5242880,ut=n.TOTAL_MEMORY||52428800;ut<ht&&n.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+ut+"! (TOTAL_STACK="+ht+")"),n.buffer?L=n.buffer:(typeof WebAssembly=="object"&&typeof WebAssembly.Memory=="function"?(n.wasmMemory=new WebAssembly.Memory({initial:ut/k,maximum:ut/k}),L=n.wasmMemory.buffer):L=new ArrayBuffer(ut),n.buffer=L),st();function xt(){return ut}if(K[0]=1668509029,Z[1]=25459,Q[2]!==115||Q[3]!==99)throw"Runtime error: expected the system to be little-endian!";function pt(lt){for(;lt.length>0;){var ft=lt.shift();if(typeof ft=="function"){ft();continue}var Ct=ft.func;typeof Ct=="number"?ft.arg===void 0?n.dynCall_v(Ct):n.dynCall_vi(Ct,ft.arg):Ct(ft.arg===void 0?null:ft.arg)}}var Se=[],Pt=[],Ze=[],Ln=[],ti=[],gi=!1;function vi(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ol(n.preRun.shift());pt(Se)}function bi(){gi||(gi=!0,pt(Pt))}function ei(){pt(Ze)}function Vi(){pt(Ln)}function an(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)dr(n.postRun.shift());pt(ti)}function Ol(lt){Se.unshift(lt)}function dr(lt){ti.unshift(lt)}var Nn=0,qn=null;function ws(lt){Nn++,n.monitorRunDependencies&&n.monitorRunDependencies(Nn)}function Ta(lt){if(Nn--,n.monitorRunDependencies&&n.monitorRunDependencies(Nn),Nn==0&&qn){var ft=qn;qn=null,ft()}}n.preloadedImages={},n.preloadedAudios={};var ji="data:application/octet-stream;base64,";function pn(lt){return String.prototype.startsWith?lt.startsWith(ji):lt.indexOf(ji)===0}function kn(){var lt="avc.wast",ft="avc.temp.asm.js";typeof n.locateFile=="function"&&(pn(lt)||(lt=n.locateFile(lt)),pn(Wa)||(Wa=n.locateFile(Wa)),pn(ft)||(ft=n.locateFile(ft)));var Ct=64*1024,vt={global:null,env:null,asm2wasm:v,parent:n},Nt=null;function Ht(Xt){var Kt=n.buffer;Xt.byteLength<Kt.byteLength&&n.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var Bn=new Int8Array(Kt),Ue=new Int8Array(Xt);Ue.set(Bn),at(Xt),st()}function ne(){try{if(n.wasmBinary)return new Uint8Array(n.wasmBinary);if(n.readBinary)return n.readBinary(Wa);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(Xt){Fe(Xt)}}function De(){return!n.wasmBinary&&(l||c)&&typeof fetch=="function"?fetch(Wa,{}).then(function(Xt){if(!Xt.ok)throw"failed to load wasm binary file at '"+Wa+"'";return Xt.arrayBuffer()}).catch(function(){return ne()}):new Promise(function(Xt,Kt){Xt(ne())})}function yn(Xt,Kt,Bn){if(typeof WebAssembly!="object")return n.printErr("no native wasm support detected"),!1;if(!(n.wasmMemory instanceof WebAssembly.Memory))return n.printErr("no native wasm Memory in use"),!1;Kt.memory=n.wasmMemory,vt.global={NaN:NaN,Infinity:1/0},vt["global.Math"]=Math,vt.env=Kt;function Ue(vn,Aa){Nt=vn.exports,Nt.memory&&Ht(Nt.memory),n.asm=Nt,n.usingWasm=!0,Ta()}if(ws(),n.instantiateWasm)try{return n.instantiateWasm(vt,Ue)}catch(vn){return n.printErr("Module.instantiateWasm callback failed with error: "+vn),!1}function $e(vn){Ue(vn.instance,vn.module)}function re(vn){De().then(function(Aa){return WebAssembly.instantiate(Aa,vt)}).then(vn).catch(function(Aa){n.printErr("failed to asynchronously prepare wasm: "+Aa),Fe(Aa)})}return!n.wasmBinary&&typeof WebAssembly.instantiateStreaming=="function"&&!pn(Wa)&&typeof fetch=="function"?WebAssembly.instantiateStreaming(fetch(Wa,{}),vt).then($e).catch(function(vn){n.printErr("wasm streaming compile failed: "+vn),n.printErr("falling back to ArrayBuffer instantiation"),re($e)}):re($e),{}}n.asmPreload=n.asm;var gn=n.reallocBuffer,sn=function(Xt){var Kt=n.usingWasm?k:z;Xt=C(Xt,Kt);var Bn=n.buffer,Ue=Bn.byteLength;if(n.usingWasm)try{var $e=n.wasmMemory.grow((Xt-Ue)/Ct);return $e!==-1?n.buffer=n.wasmMemory.buffer:null}catch{return null}};n.reallocBuffer=function(Xt){return ni==="asmjs"?gn(Xt):sn(Xt)};var ni="";n.asm=function(Xt,Kt,Bn){if(Kt=Kt,!Kt.table){var Ue=n.wasmTableSize;Ue===void 0&&(Ue=1024);var $e=n.wasmMaxTableSize;typeof WebAssembly=="object"&&typeof WebAssembly.Table=="function"?$e!==void 0?Kt.table=new WebAssembly.Table({initial:Ue,maximum:$e,element:"anyfunc"}):Kt.table=new WebAssembly.Table({initial:Ue,element:"anyfunc"}):Kt.table=new Array(Ue),n.wasmTable=Kt.table}Kt.memoryBase||(Kt.memoryBase=n.STATIC_BASE),Kt.tableBase||(Kt.tableBase=0);var re;return re=yn(Xt,Kt),w(re,"no binaryen method succeeded."),re}}kn(),nt=b,rt=nt+9888,Pt.push();var Ee=9888;n.STATIC_BASE=nt,n.STATIC_BUMP=Ee,rt+=16;var $t={varargs:0,get:function(lt){$t.varargs+=4;var ft=K[$t.varargs-4>>2];return ft},getStr:function(){var lt=E($t.get());return lt},get64:function(){var lt=$t.get(),ft=$t.get();return lt>=0?w(ft===0):w(ft===-1),lt},getZero:function(){w($t.get()===0)}};function Qe(lt,ft){$t.varargs=ft;try{var Ct=$t.getStreamFromFD(),vt=$t.get(),Nt=$t.get(),Ht=$t.get(),ne=$t.get(),De=Nt;return FS.llseek(Ct,De,ne),K[Ht>>2]=Ct.position,Ct.getdents&&De===0&&ne===0&&(Ct.getdents=null),0}catch(yn){return(typeof FS>"u"||!(yn instanceof FS.ErrnoError))&&Fe(yn),-yn.errno}}function Ma(lt,ft){$t.varargs=ft;try{var Ct=$t.get(),vt=$t.get(),Nt=$t.get(),Ht=0;Ma.buffers||(Ma.buffers=[null,[],[]],Ma.printChar=function(sn,ni){var Xt=Ma.buffers[sn];w(Xt),ni===0||ni===10?((sn===1?n.print:n.printErr)(U(Xt,0)),Xt.length=0):Xt.push(ni)});for(var ne=0;ne<Nt;ne++){for(var De=K[vt+ne*8>>2],yn=K[vt+(ne*8+4)>>2],gn=0;gn<yn;gn++)Ma.printChar(Ct,Q[De+gn]);Ht+=yn}return Ht}catch(sn){return(typeof FS>"u"||!(sn instanceof FS.ErrnoError))&&Fe(sn),-sn.errno}}function fd(lt,ft){$t.varargs=ft;try{return 0}catch(Ct){return(typeof FS>"u"||!(Ct instanceof FS.ErrnoError))&&Fe(Ct),-Ct.errno}}function dd(lt,ft){$t.varargs=ft;try{var Ct=$t.getStreamFromFD();return FS.close(Ct),0}catch(vt){return(typeof FS>"u"||!(vt instanceof FS.ErrnoError))&&Fe(vt),-vt.errno}}function Ts(){e()}n._broadwayOnHeadersDecoded=Ts;function Ms(lt,ft,Ct){t(lt,ft,Ct)}n._broadwayOnPictureDecoded=Ms;function Fi(lt,ft,Ct){return Q.set(Q.subarray(ft,ft+Ct),lt),lt}function mr(lt){return n.___errno_location&&(K[n.___errno_location()>>2]=lt),lt}O=_(4),Y=S=g(rt),R=Y+ht,j=g(R),K[O>>2]=j,_t=!0,n.wasmTableSize=10,n.wasmMaxTableSize=10,n.asmGlobalArg={},n.asmLibraryArg={abort:Fe,enlargeMemory:et,getTotalMemory:xt,abortOnCannotGrowMemory:N,___setErrNo:mr,___syscall140:Qe,___syscall146:Ma,___syscall54:fd,___syscall6:dd,_broadwayOnHeadersDecoded:Ts,_broadwayOnPictureDecoded:Ms,_emscripten_memcpy_big:Fi,DYNAMICTOP_PTR:O,STACKTOP:S};var Sa=n.asm(n.asmGlobalArg,n.asmLibraryArg,L);n.asm=Sa,n._broadwayCreateStream=function(){return n.asm._broadwayCreateStream.apply(null,arguments)},n._broadwayExit=function(){return n.asm._broadwayExit.apply(null,arguments)},n._broadwayGetMajorVersion=function(){return n.asm._broadwayGetMajorVersion.apply(null,arguments)},n._broadwayGetMinorVersion=function(){return n.asm._broadwayGetMinorVersion.apply(null,arguments)},n._broadwayInit=function(){return n.asm._broadwayInit.apply(null,arguments)},n._broadwayPlayStream=function(){return n.asm._broadwayPlayStream.apply(null,arguments)},n.asm=Sa;function _r(lt){this.name="ExitStatus",this.message="Program terminated with exit("+lt+")",this.status=lt}_r.prototype=new Error,_r.prototype.constructor=_r;var Vc;qn=function lt(){n.calledRun||pr(),n.calledRun||(qn=lt)};function pr(lt){if(lt=lt||n.arguments,Nn>0||(vi(),Nn>0)||n.calledRun)return;function ft(){n.calledRun||(n.calledRun=!0,!x&&(bi(),ei(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),an()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),ft()},1)):ft()}n.run=pr;function zl(lt,ft){ft&&n.noExitRuntime&&lt===0||(n.noExitRuntime||(x=!0,S=Vc,Vi(),n.onExit&&n.onExit(lt)),h&&process.exit(lt),n.quit(lt,new _r(lt)))}n.exit=zl;function Fe(lt){throw n.onAbort&&n.onAbort(lt),lt!==void 0?(n.print(lt),n.printErr(lt),lt=JSON.stringify(lt)):lt="",x=!0,"abort("+lt+"). Build with -s ASSERTIONS=1 for more info."}if(n.abort=Fe,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();n.noExitRuntime=!0,pr();var Pi;typeof gs<"u"&&gs.Module&&(Pi=gs.Module),typeof n<"u"&&(Pi=n),Pi._broadwayOnHeadersDecoded=e,Pi._broadwayOnPictureDecoded=t;var Rl=!1,yr,Cl=function(){Rl=!0,yr&&yr(Pi)};return Pi.onRuntimeInitialized=function(){Cl()},function(lt){Rl?lt(Pi):yr=lt}},Ni=function(){return new Date().getTime()};typeof performance<"u"&&performance.now&&(Ni=function(){return performance.now()});var id=function(e){this.options=e||{},this.now=Ni;var t,n={},a,r,l=(function(_,g,v){var b=this.pictureBuffers[_];b||(b=this.pictureBuffers[_]=a(_,g*v*3/2));var x,w=!1;if(this.infoAr.length&&(w=!0,x=this.infoAr),this.infoAr=[],this.options.rgb){t||(t=eA(g,v)),t.inp.set(b),t.doit();var E=new Uint8Array(t.outSize);E.set(t.out),w&&(x[0].finishDecoding=Ni()),this.onPictureDecoded(E,g,v,x);return}w&&(x[0].finishDecoding=Ni()),this.onPictureDecoded(b,g,v,x)}).bind(this);this.options.sliceMode&&(l=(function(_,g,v,b){{var x=this.pictureBuffers[_];x||(x=this.pictureBuffers[_]=a(_,g*v*3/2));var w=this.pictureBuffers[b];w||(w=this.pictureBuffers[b]=r(b,18));var E;this.infoAr.length&&(E=this.infoAr),this.infoAr=[],E[0].finishDecoding=Ni();for(var A=[],U=0;U<20;++U)A.push(w[U]);E[0].sliceInfoAr=A,this.onPictureDecoded(x,g,v,E)}}).bind(this));var c=tA.apply(n,[function(){},l]),h=1024*1024,f=this;this.onPictureDecoded=function(_,g,v,b){},this.onDecoderReady=function(){};var d=[];this.decode=function(_,g,v){d.push([_,g,v])},c(function(_){_.HEAP8;var g=_.HEAPU8;_.HEAP16,_.HEAP32,_._broadwayInit(),a=function(x,w){return g.subarray(x,x+w)},r=function(x,w){return new Uint32Array(g.buffer,x,w)},f.streamBuffer=a(_._broadwayCreateStream(h),h),f.pictureBuffers={},f.infoAr=[];var v=0;if(f.options.sliceMode?(v=f.options.sliceNum,f.decode=function(x,w,E){f.infoAr.push(w),w.startDecoding=Ni();var A=w.nals,U;if(!A){A=[],w.nals=A;var B=x.length,k=!1,z=0,C=0;for(U=0;U<B;++U)if(x[U]===1&&x[U-1]===0&&x[U-2]===0){var L=U-2;x[U-3]===0&&(L=U-3),k&&A.push({offset:z,end:L,type:x[C]&31}),z=L,C=L+3,x[U-3]===0&&(C=L+4),k=!0}k&&A.push({offset:z,end:U,type:x[C]&31})}var Q=0,Z,K=0;for(U=0;U<A.length;++U)A[U].type===1||A[U].type===5?(Q===v&&(Z=x.subarray(A[U].offset,A[U].end),f.streamBuffer[K]=0,K+=1,f.streamBuffer.set(Z,K),K+=Z.length),Q+=1):(Z=x.subarray(A[U].offset,A[U].end),f.streamBuffer[K]=0,K+=1,f.streamBuffer.set(Z,K),K+=Z.length,_._broadwayPlayStream(K),K=0);E(),_._broadwayPlayStream(K)}):f.decode=function(x,w){w&&(f.infoAr.push(w),w.startDecoding=Ni()),f.streamBuffer.set(x),_._broadwayPlayStream(x.length)},d.length){var b=0;for(b=0;b<d.length;++b)f.decode(d[b][0],d[b][1],d[b][2]);d=[]}f.onDecoderReady(f)})};id.prototype={};var D_={},eA=function(e,t){var n=""+e+"x"+t;if(D_[n])return D_[n];for(var a=e*t,r=(a|0)>>2,l=a+r+r,c=e*t*4,h=Math.pow(2,24)*4,f=l+c+h,d=Math.pow(2,24),_=d;_<f;)_+=d;var g=new ArrayBuffer(_),v=nA(gs,{},g);return v.init(e,t),D_[n]=v,v.heap=g,v.out=new Uint8Array(g,0,c),v.inp=new Uint8Array(g,c,l),v.outSize=c,v};function nA(e,t,n){var a=e.Math.imul,r=e.Math.min,l=e.Math.max,c=e.Math.pow;new e.Uint8Array(n),new e.Uint32Array(n);var h=new e.Uint8Array(n);new e.Uint8Array(n);var f=new e.Uint32Array(n),d=0,_=0,g=0,v=0,b=0,x=0,w=0,E=0,A=0,U=0;function B(C,L){C=C|0,L=L|0;var Q=0,Z=0;for(d=C,A=a(C,4)|0,_=L,g=a(d|0,_|0)|0,v=(g|0)>>2,x=a(a(d,_)|0,4)|0,b=g+v|0+v|0,E=0,w=E+x|0,U=w+b|0,Z=~~+c(2,24),Z=a(Z,4)|0,Q=0;(Q|0)<(Z|0)|0;Q=Q+4|0)f[(U+Q|0)>>2]=0}function k(){var C=0,L=0,Q=0,Z=0,K=0,at=0,st=0,nt=0,rt=0,_t=0,Y=0,S=0;for(Y=E|0,C=w|0,L=C+g|0|0,Q=L+v|0,rt=0;(rt|0)<(_|0);rt=rt+2|0){for(_t=0;(_t|0)<(d|0);_t=_t+2|0)Z=h[C>>0]|0,K=h[(C+d|0)>>0]|0,at=h[L>>0]|0,st=h[Q>>0]|0,S=((Z<<16|0)+(at<<8|0)|0)+st|0,nt=f[(U+S|0)>>2]|0,nt||(nt=z(Z,at,st)|0,f[(U+S|0)>>2]=nt|0),f[Y>>2]=nt,S=((K<<16|0)+(at<<8|0)|0)+st|0,nt=f[(U+S|0)>>2]|0,nt||(nt=z(K,at,st)|0,f[(U+S|0)>>2]=nt|0),f[(Y+A|0)>>2]=nt,Y=Y+4|0,C=C+1|0,Z=h[C>>0]|0,K=h[(C+d|0)>>0]|0,S=((Z<<16|0)+(at<<8|0)|0)+st|0,nt=f[(U+S|0)>>2]|0,nt||(nt=z(Z,at,st)|0,f[(U+S|0)>>2]=nt|0),f[Y>>2]=nt,S=((K<<16|0)+(at<<8|0)|0)+st|0,nt=f[(U+S|0)>>2]|0,nt||(nt=z(K,at,st)|0,f[(U+S|0)>>2]=nt|0),f[(Y+A|0)>>2]=nt,Y=Y+4|0,C=C+1|0,L=L+1|0,Q=Q+1|0;Y=Y+A|0,C=C+d|0}}function z(C,L,Q){C=C|0,L=L|0,Q=Q|0;var Z=0,K=0,at=0,st=0,nt=0,rt=0,_t=0,Y=0,S=0;return nt=a(1192,C-16|0)|0,rt=a(1634,Q-128|0)|0,_t=a(832,Q-128|0)|0,Y=a(400,L-128|0)|0,S=a(2066,L-128|0)|0,Z=(nt+rt|0)>>10|0,K=((nt-_t|0)-Y|0)>>10|0,at=(nt+S|0)>>10|0,(Z&255|0)!=(Z|0)|0&&(Z=r(255,l(0,Z|0)|0)|0),(K&255|0)!=(K|0)|0&&(K=r(255,l(0,K|0)|0)|0),(at&255|0)!=(at|0)|0&&(at=r(255,l(0,at|0)|0)|0),st=255,st=st<<8|0,st=st+at|0,st=st<<8|0,st=st+K|0,st=st<<8|0,st=st+Z|0,st|0}return{init:B,doit:k}}typeof self<"u"&&(U_=!1,of=!1,Du=!1,Uu=0,lf=0,uf=0,Lu=0,cf=[],Nu=[],N_=function(e){if(Nu.length){for(var t=Nu.shift();t&&t.byteLength!==e;)t=Nu.shift();if(t)return t}return new ArrayBuffer(e)},ff=function(e,t,n,a,r){var l=function(_,g){var v=0;for(v=0;v<16;++v){var b=_+a*v,x=g+a*v;t.set(e.subarray(b,x),b)}},c=function(_,g){var v=0;for(v=0;v<8;++v){var b=_+a/2*v,x=g+a/2*v;t.set(e.subarray(b,x),b)}},h=function(_,g){t.set(e.subarray(_,g),_)},f=n[0],d=n[1];d>0&&(l(f,d),c(n[2],n[3]),c(n[4],n[5])),f=n[6],d=n[7],d>0&&(l(f,d),c(n[8],n[9]),c(n[10],n[11])),f=n[12],d=n[15],d>0&&(h(f,d),h(n[13],n[16]),h(n[14],n[17]))},q_=function(e){lf=e,uf=lf-1},self.addEventListener("message",function(e){if(U_){if(of&&e.data.reuse&&Nu.push(e.data.reuse),e.data.buf){Du&&Lu!==0?cf.push(e.data):ro.decode(new Uint8Array(e.data.buf,e.data.offset||0,e.data.length),e.data.info,function(){Du&&Uu!==uf&&postMessage(e.data,[e.data.buf])});return}if(e.data.slice){var t=Ni();if(ff(new Uint8Array(e.data.slice),L_,e.data.infos[0].sliceInfoAr,e.data.width,e.data.height),e.data.theOne&&(ff(L_,new Uint8Array(e.data.slice),$g,e.data.width,e.data.height),hf>e.data.infos[0].timeDecoding&&(e.data.infos[0].timeDecoding=hf),e.data.infos[0].timeCopy+=Ni()-t),postMessage(e.data,[e.data.slice]),Lu-=1,Lu===0&&cf.length){var n=cf.shift();ro.decode(new Uint8Array(n.buf,n.offset||0,n.length),n.info,function(){Du&&Uu!==uf&&postMessage(n,[n.buf])})}return}if(e.data.setSliceCnt){q_(e.data.sliceCnt);return}}else e.data&&e.data.type==="Broadway.js - Worker init"&&(U_=!0,ro=new id(e.data.options),e.data.options.sliceMode?(of=!0,Du=!0,Uu=e.data.options.sliceNum,q_(e.data.options.sliceCnt),ro.onPictureDecoded=function(a,r,l,c){var h=new Uint8Array(N_(a.length));ff(a,h,c[0].sliceInfoAr,r,l),Kg=c[0].startDecoding,Ig=c[0].finishDecoding,hf=Ig-Kg,c[0].timeDecoding=hf,c[0].timeCopy=0,postMessage({slice:h.buffer,sliceNum:Uu,width:r,height:l,infos:c},[h.buffer]),Lu=lf-1,L_=a,$g=c[0].sliceInfoAr}):e.data.options.reuseMemory?(of=!0,ro.onPictureDecoded=function(a,r,l,c){var h=new Uint8Array(N_(a.length));h.set(a,0,a.length),postMessage({buf:h.buffer,length:a.length,width:r,height:l,infos:c},[h.buffer])}):ro.onPictureDecoded=function(a,r,l,c){a&&(a=new Uint8Array(a));var h=new Uint8Array(a.length);h.set(a,0,a.length),postMessage({buf:h.buffer,length:a.length,width:r,height:l,infos:c},[h.buffer])},postMessage({consoleLog:"broadway worker initialized"}))},!1));var U_,ro,of,Du,Uu,lf,uf,$g,L_,Lu,cf,Kg,Ig,hf,Nu,N_,ff,q_;id.nowValue=Ni;var iA=id,aA=lT(uT()),Mc,wl,Qb,$b,a2,Zb=(a2=class{constructor({decoded_frame_consumer:t}){q(this,wl);q(this,Mc,null);W(this,Mc,t)}_onFrameDecoded({decoded_frame:t}){var n;dt(this,wl,Qb).call(this,{meta_data:t.meta_data}),(n=p(this,Mc))==null||n.consumeDecodedFrame({decoded_frame:t})}},Mc=new WeakMap,wl=new WeakSet,Qb=function({meta_data:t}){var n;dt(this,wl,$b).call(this,{meta_data:t});for(let a of t.viewport_layout_camera_entities)(n=a.viewport.camera_projection)==null||n.updateFromFrameCameraTransform({frame_camera_transform:a})},$b=function({meta_data:t}){for(let{camera_entity:n,world_position:a,world_orientation:r}of t.other_clients_camera_entities)n._setGlobalTransform({global_transform:{position:a,orientation:r},change_source:"external"})},a2),Sc,pa,_s,$f,s2,sA=(s2=class extends Zb{constructor({decoded_frame_consumer:t}){super({decoded_frame_consumer:t});q(this,Sc,new iA);q(this,pa,null);q(this,_s,null);q(this,$f,(t,n,a,r)=>{let l=n,c=a,h=n/2,f=a/2,d=l*c,_=h*f;p(this,_s).drawNextOutputPicture({yData:t.subarray(0,d),uData:t.subarray(d,d+_),vData:t.subarray(d+_,d+_+_),yDataPerRow:l,yRowCnt:c,uDataPerRow:h,uRowCnt:f});let g=r[0];super._onFrameDecoded({decoded_frame:{pixels:p(this,pa),dimensions_in_pixels:[n,a],meta_data:g}})})}configure({codec:t,frame_dimensions:n}){if(t!=="h264")throw new Error("Software decoder supports only h264 encoding");return W(this,pa,new OffscreenCanvas(n[0],n[1])),W(this,_s,new aA.default({canvas:p(this,pa),width:n[0],height:n[1]})),p(this,Sc).onPictureDecoded=p(this,$f),Promise.resolve(this)}resize({frame_dimensions:t}){p(this,pa)&&(p(this,pa).width=t[0],p(this,pa).height=t[1]),p(this,_s)&&(p(this,_s).width=t[0],p(this,_s).height=t[1])}release(){}consumeEncodedFrame({encoded_frame:t}){let n=new Uint8Array(t.video_stream.buffer,t.video_stream.byteOffset,t.video_stream.byteLength);p(this,Sc).decode(n,t.meta_data)}},Sc=new WeakMap,pa=new WeakMap,_s=new WeakMap,$f=new WeakMap,s2),xa,qi,Ef,r0,ya,Di,sl,rl,sr,Kf,Jg=(qi=class extends Zb{constructor({decoded_frame_consumer:n}){super({decoded_frame_consumer:n});q(this,ya,null);q(this,Di,null);q(this,sl,!0);q(this,rl,new Map);q(this,sr,null);q(this,Kf,n=>{p(this,sr)&&p(this,sr).close();let a=p(this,rl).get(n.timestamp);if(!a){console.error("No meta data for frame",n.timestamp);return}super._onFrameDecoded({decoded_frame:{pixels:n,dimensions_in_pixels:[n.displayWidth,n.displayHeight],meta_data:a}}),p(this,rl).delete(n.timestamp),W(this,sr,n)})}static async findSupportedCodec(){var n;if(typeof VideoDecoder>"u")return null;for(let a of p(this,xa,Ef).keys()){let r=await dt(n=qi,xa,r0).call(n,{codec:a});if(r)return r.codec,a}return null}async configure({codec:n,frame_dimensions:a}){var l;this.release();let r=await dt(l=qi,xa,r0).call(l,{codec:n,frame_dimensions:a});if(!r)throw new Error("Codec not supported");return W(this,ya,new VideoDecoder({output:p(this,Kf),error:c=>console.error(c.message)})),W(this,Di,r),p(this,ya).configure(p(this,Di)),p(this,Di),this}resize({frame_dimensions:n}){p(this,ya)&&p(this,Di)&&(p(this,Di).codedWidth=n[0],p(this,Di).codedHeight=n[1],W(this,sl,!1),p(this,ya).configure(p(this,Di)))}release(){var n,a;(n=p(this,sr))==null||n.close(),(a=p(this,ya))==null||a.close()}consumeEncodedFrame({encoded_frame:n}){let a=new EncodedVideoChunk({timestamp:n.meta_data.frame_counter,type:p(this,sl)?"key":"delta",data:new Uint8Array(n.video_stream.buffer,n.video_stream.byteOffset,n.video_stream.byteLength)});W(this,sl,!1),p(this,rl).set(n.meta_data.frame_counter,n.meta_data),p(this,ya).decode(a)}},xa=new WeakSet,Ef=function(){return Object.freeze(new Map([["h265",["hvc1.1.6.L123.00"]],["h264",["avc1.42001E","avc1.42002A","avc1.42E01E","avc1.64001f","avc1.42002A"]]]))},r0=async function({codec:n,frame_dimensions:a}){if(typeof VideoDecoder>"u"||!p(qi,xa,Ef).has(n))return null;let r=p(qi,xa,Ef).get(n),l={codec:"",codedWidth:a==null?void 0:a[0],codedHeight:a==null?void 0:a[1],optimizeForLatency:!0},c=["prefer-hardware","prefer-software","no-preference"];for(let h of c)if(!(n==="h264"&&h==="prefer-hardware"))for(let f of r){l.codec=f;let d=await VideoDecoder.isConfigSupported({...l,hardwareAcceleration:h});if(d.supported&&d.config)return d.config}return null},ya=new WeakMap,Di=new WeakMap,sl=new WeakMap,rl=new WeakMap,sr=new WeakMap,Kf=new WeakMap,q(qi,xa),qi),z0=class{refreshSize(){}},rA=class extends z0{constructor(t,n){super();H(this,"_canvas");H(this,"_context2D");let a=t.getContext("2d",n);if(a===null)throw new Error(`Cannot create a 2d context from canvas ${t}`);this._canvas=t,this._context2D=a}drawFrameSection({frame_section:t,viewport:n}){let a=t.section.left*t.dimensions_in_pixels[0],r=t.section.top*t.dimensions_in_pixels[1],l=t.section.width*t.dimensions_in_pixels[0],c=t.section.height*t.dimensions_in_pixels[1],h=n.left*this._canvas.width,f=n.top*this._canvas.height,d=n.width*this._canvas.width,_=n.height*this._canvas.height;this._context2D.drawImage(t.pixels,a,r,l,c,h,f,d,_)}release(){this._context2D.reset()}},oA=class extends z0{constructor(t,n="webgl",a){super();H(this,"_canvas");H(this,"_context");H(this,"_texture_ref",null);H(this,"_shader_program",null);H(this,"_frame_buffer",null);let r=t.getContext(n,a);if(r===null)throw new Error(`Cannot create a ${n} context from canvas`);this._canvas=t,this._context=r,this._initShaderProgram(),this._initBuffers(),this._initTexture()}get native(){return this._context}set frame_buffer(t){this._frame_buffer=t}drawFrameSection({frame_section:t}){let n=this._context;this._frame_buffer!==null&&n.bindFramebuffer(n.FRAMEBUFFER,this._frame_buffer),n.clearColor(1,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);let a=n.getUniformLocation(this._shader_program,"size"),r=n.getUniformLocation(this._shader_program,"offset");n.uniform2fv(a,[t.section.width,t.section.height]),n.uniform2fv(r,[t.section.left,t.section.top]),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this._texture_ref),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t.pixels),n.drawArrays(n.TRIANGLE_STRIP,0,4)}refreshSize(){this._context.viewport(0,0,this._canvas.width,this._canvas.height)}release(){let t=this._context;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}_initShaderProgram(){let t=this._context,n=`
            attribute vec2 position;
            varying vec2 texCoord;
            uniform vec2 size;
            uniform vec2 offset;

            void main() {
                texCoord = (position + 1.0) * 0.5;
                texCoord.y = 1.0 - texCoord.y;
                texCoord = size * texCoord + offset;
                gl_Position = vec4(position, 0.0, 1.0);
            }`,a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,n),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+t.getShaderInfoLog(a));let r=`
            precision mediump float;
            varying vec2 texCoord;
            uniform sampler2D texture;

            void main() {
                gl_FragColor = texture2D(texture, texCoord);
            }`,l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,r),t.compileShader(l),t.getShaderParameter(l,t.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+t.getShaderInfoLog(l));let c=t.createProgram();t.attachShader(c,a),t.attachShader(c,l),t.linkProgram(c),t.useProgram(c),t.getProgramParameter(c,t.LINK_STATUS)||console.error("Program failed to compile: "+t.getProgramInfoLog(c)),t.useProgram(c),this._shader_program=c}_initBuffers(){let t=this._context,n=t.createBuffer(),a=new Float32Array([1,1,-1,1,1,-1,-1,-1]);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,a,t.STATIC_DRAW);let r=t.getAttribLocation(this._shader_program,"position");t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0)}_initTexture(){let t=this._context;this._texture_ref=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._texture_ref),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null);let n=t.getUniformLocation(this._shader_program,"texture");t.uniform1i(n,0)}},rr,r2,Kb=(r2=class extends vl{constructor(){super(...arguments);H(this,"viewports",[]);q(this,rr,null);H(this,"relative_rect",new Ea({left:0,top:0,width:1,height:1}))}get dimensions(){return[this.width,this.height]}addViewport({viewport:t}){this.viewports.push(t)}removeViewport({viewport:t}){let n=this.viewports.indexOf(t);n!==-1&&this.viewports.splice(n,1)}release(){W(this,rr,null);for(let t of this.viewports)t.release()}isValid(){return this.viewports.length>0&&this.viewports.every(t=>t.isValid())}drawFrame({decoded_frame:t}){W(this,rr,t),this._drawFrame({decoded_frame:t})}redrawLastFrame(){p(this,rr)!==null&&this._drawFrame({decoded_frame:p(this,rr)})}_getViewportConfigs({width:t,height:n}){if(!this.isValid())throw new Error("Invalid config");let a=[this.relative_rect.left*t,this.relative_rect.top*n];return this.viewports.map(r=>({camera_rtid:r.camera_projection.camera_entity.rtid,left:(a[0]+r.relative_rect.left*this.width)/t,top:(a[1]+r.relative_rect.top*this.height)/n,width:r.width/t,height:r.height/n,render_target_index:r.render_target_index,z_index:r.z_index}))}},rr=new WeakMap,r2),We,ol,ll,If,Ac,Jf,Wf,td,Ib,o2,lA=(o2=class{constructor({canvas:e,onResized:t}){q(this,td);q(this,We);q(this,ol);q(this,ll,null);q(this,If,500);q(this,Ac);q(this,Jf,()=>{p(this,ll)&&clearTimeout(p(this,ll)),W(this,ll,setTimeout(p(this,Wf),p(this,If)))});q(this,Wf,()=>{let e=[p(this,We).width,p(this,We).height];p(this,We).width=p(this,We).clientWidth,p(this,We).height=p(this,We).clientHeight;let t=[p(this,We).width,p(this,We).height];p(this,We).width===0||p(this,We).height===0||dt(this,td,Ib).call(this,e,t)&&p(this,Ac).call(this,{old_size:e,new_size:t})});W(this,We,e),W(this,ol,new ResizeObserver(p(this,Jf))),W(this,Ac,t),p(this,ol).observe(p(this,We))}release(){p(this,ol).disconnect()}},We=new WeakMap,ol=new WeakMap,ll=new WeakMap,If=new WeakMap,Ac=new WeakMap,Jf=new WeakMap,Wf=new WeakMap,td=new WeakSet,Ib=function(e,t){return e.some((n,a)=>n!==t[a])},o2),Jb=class extends Event{constructor(){super("on-rendering-surface-resized")}},ga,fi,Oc,ed,l2,uA=(l2=class extends Kb{constructor({canvas_element:t,context_type:n,context_attributes:a}){super();q(this,ga);q(this,fi);q(this,Oc);q(this,ed,t=>{p(this,fi).refreshSize(),this._dispatchEvent(new Jb);for(let n of this.viewports)n._onResize()});let r=typeof t=="string"?document.getElementById(t):t;if(r===null)throw new Error(`Cannot find canvas ${t}`);if(r.nodeName!=="CANVAS")throw new Error(`HTML element ${t} is a '${r.nodeName}', it MUST be CANVAS`);switch(W(this,ga,r),n){case"2d":W(this,fi,new rA(p(this,ga)));break;case"webgl":case"webgl2":W(this,fi,new oA(p(this,ga),n,a));break}this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,W(this,Oc,new lA({canvas:this.canvas,onResized:p(this,ed)})),p(this,fi).refreshSize()}get width(){return p(this,ga).clientWidth}get height(){return p(this,ga).clientHeight}get canvas(){return p(this,ga)}release(){super.release(),p(this,Oc).release(),p(this,fi).release()}getContext(){return p(this,fi)}getBoundingRect(){let t=this.canvas.getClientRects()[0];return t&&(t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height)),new T0(t??{width:this.canvas.width,height:this.canvas.height})}_drawFrame({decoded_frame:t}){p(this,fi).drawFrameSection({frame_section:{pixels:t.pixels,dimensions_in_pixels:t.dimensions_in_pixels,meta_data:t.meta_data,section:this.relative_rect},viewport:Ea.default});for(let n of this.viewports){let a=n._drawOverlays();a&&p(this,fi).drawFrameSection({frame_section:{pixels:a,dimensions_in_pixels:[a.width,a.height],meta_data:t.meta_data,section:Ea.default},viewport:n.relative_rect})}}},ga=new WeakMap,fi=new WeakMap,Oc=new WeakMap,ed=new WeakMap,l2),di,ps,va,u2,cA=(u2=class extends Kb{constructor({width:t,height:n,context_constructor:a,context_type:r,context_options:l,resolution_scale:c=1}){super();q(this,di);q(this,ps);q(this,va);W(this,di,document.createElement("canvas")),p(this,di).width=t,p(this,di).height=n,W(this,ps,new a(p(this,di),r,l)),W(this,va,c)}get width(){return Math.floor(p(this,di).width*p(this,va))}get height(){return Math.floor(p(this,di).height*p(this,va))}get context(){return p(this,ps)}get cameras(){return this.viewports.map(t=>{var n;return(n=t.camera_projection)!=null&&n.camera_entity?t.camera_projection.camera_entity:null}).filter(t=>t!==null)}release(){super.release(),p(this,ps).release()}_drawFrame({decoded_frame:t}){p(this,ps).drawFrameSection({frame_section:{pixels:t.pixels,section:this.relative_rect,dimensions_in_pixels:t.dimensions_in_pixels,meta_data:t.meta_data},viewport:Ea.default})}getBoundingRect(){return new T0({width:this.width,height:this.height})}resize(t,n){p(this,di).width=t,p(this,di).height=n,p(this,ps).refreshSize()}get resolution_scale(){return p(this,va)}set resolution_scale(t){p(this,va)!==t&&(W(this,va,t),this._dispatchEvent(new Jb))}},di=new WeakMap,ps=new WeakMap,va=new WeakMap,u2);typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink")?console.warn(" WARNING  Multiple instances of Livelink being imported."):window.__LIVELINK__["@3dverse/livelink"]="0.8.39");var hA=h2(),fA=Object.defineProperty,dA=(e,t)=>{for(var n in t)fA(e,n,{get:t[n],enumerable:!0})},Es=mt.createContext({instance:null,isConnecting:!1,isDisconnected:!1,disconnect:()=>{}});function mA({sceneId:e,sessionId:t,isTransient:n,token:a,LoadingPanel:r,InactivityWarningPanel:l,ConnectionErrorPanel:c,autoJoinExisting:h=!0,clientType:f,children:d}){let[_,g]=mt.useState(null),[v,b]=mt.useState(!0),[x,w]=mt.useState(!1),[E,A]=mt.useState(null),[U,B]=mt.useState("Unknown error"),k=mt.useRef(new Map),z=mt.useCallback(()=>_==null?void 0:_.disconnect(),[_]);return mt.useEffect(()=>{let C=async({autoJoinExisting:K,sceneId:at,sessionId:st,clientType:nt})=>{if(st){let rt=await Of.findById({session_id:st,token:a});if(!rt)throw new Error(`Session '${st}' not found on scene '${at}'`);return Wn.join({session:rt})}if(at)return K?Wn.join_or_start({scene_id:at,token:a,is_transient:n}):Wn.start({scene_id:at,token:a,is_transient:n});if(nt==="guest"){let rt=await Of.findByGuestToken({guest_token:a});if(!rt)throw new Error(`No session available for guest token '${a}'`);return Wn.join({session:rt})}throw new Error("What are we doing here?!")},L=K=>{let at=pA(K),st=k.current.get(at);return st||(st=C(K).then(nt=>(k.current.delete(at),nt)),k.current.set(at,st)),st},Q=new AbortController,Z=()=>{A(null)};return L({autoJoinExisting:h,sceneId:e,sessionId:t,token:a,clientType:f}).then(K=>{Q.signal.aborted||(_A(K),g(K),K.TO_REMOVE__setReadyCallback(async()=>{K.startStreaming(),b(!1)}),K.session.addEventListener("on-inactivity-warning",A),K.session.addEventListener("on-activity-detected",Z))}).catch(K=>{b(!1),w(!0),B(K)}),()=>{Q.abort(),_==null||_.session.removeEventListener("on-inactivity-warning",A),_==null||_.session.removeEventListener("on-activity-detected",Z),g(null),b(!0),w(!1),A(null)}},[a,h,e,t,n,f]),mt.useEffect(()=>{if(!_)return;let C=L=>{w(!0),A(null),B(L.reason)};return _.session.addEventListener("on-disconnected",C),()=>{_.session.removeEventListener("on-disconnected",C)}},[_]),mt.useEffect(()=>()=>{_==null||_.disconnect()},[_]),St.createElement(Es.Provider,{value:{instance:_,isConnecting:v,isDisconnected:x,disconnect:z}},v&&r&&St.createElement(r,{stage:""}),x&&c&&St.createElement(c,{error:U}),E&&l&&St.createElement(l,{warningDuration:E.seconds_remaining,onActivityDetected:()=>{E.resetTimer(),A(null)}}),d)}function _A(e){let t=async()=>{e.session.removeEventListener("TO_REMOVE__viewports-added",t);let n=await Jg.findSupportedCodec();await e.configureRemoteServer({codec:n||void 0}),await e.setEncodedFrameConsumer({encoded_frame_consumer:n!==null?new Jg({decoded_frame_consumer:e.default_decoded_frame_consumer}):new sA({decoded_frame_consumer:e.default_decoded_frame_consumer})}),e.TO_REMOVE__startIfReady()};e.session.addEventListener("TO_REMOVE__viewports-added",t)}function pA(e){return JSON.stringify(e)}function yA(e,t=[]){let{instance:n}=mt.useContext(Es),[a,r]=mt.useState(null),[l,c]=mt.useState(!0),[,h]=mt.useReducer(d=>d+1,0),f=e;return mt.useEffect(()=>n?((async()=>"components"in e?await n.scene.newEntity(e):"linkage"in f?await n.scene.findEntity({entity_uuid:f.euid,linkage:f.linkage}):"euid"in f?(await n.scene.findEntities({entity_uuid:f.euid}))[0]:"name"in f&&f.name?(await n.scene.findEntitiesByNames({entity_names:[f.name]}))[0]:"mandatory_components"in f?(await n.scene.findEntitiesWithComponents({mandatory_components:f.mandatory_components,forbidden_components:f.forbidden_components}))[0]:null)().then(d=>r(d)).finally(()=>c(!1)),()=>{r(null),c(!0)}):void 0,[n,JSON.stringify(f)]),mt.useEffect(()=>{let d=t==="any",_=t.length===0;if(!a||_)return;let g=d?h:v=>{v.isAnyComponentDirty({components:t})&&h()};return a.addEventListener("on-entity-updated",g),()=>{a.removeEventListener("on-entity-updated",g)}},[a,t]),{isPending:l,entity:a}}var o0=mt.createContext({canvas:null,renderingSurface:null});function gA({children:e,contextType:t="2d",contextAttributes:n,width:a,height:r,...l}){let{instance:c}=mt.useContext(Es),{canvas:h}=mt.useContext(o0),[f,d]=mt.useState(null),_=mt.useRef(null);return mt.useEffect(()=>{if(!c||!_.current)return;let g=_.current.getBoundingClientRect();if(!g.width||!g.height){console.error(`Canvas element has an invalid size : [${g.width} x ${g.height}] it will not be mounted as a rendering surface.`,_.current);return}let v=new uA({canvas_element:_.current,context_type:t,context_attributes:n});return d(v),()=>{v.release(),d(null)}},[c,t,n]),St.createElement(o0.Provider,{value:{canvas:_.current,renderingSurface:f}},St.createElement("div",{"data-role":"canvas-container",style:vA({parentCanvas:h,width:a,height:r}),...l},St.createElement("canvas",{ref:_,style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none"}}),e))}function vA({parentCanvas:e,width:t,height:n}){return{overflow:"clip",...e?{position:"absolute",width:t,height:n}:{position:"relative",width:t??"100%",height:n??"100%"}}}var Rf=mt.createContext({viewport:null,viewportDomElement:null,zIndex:0,camera:null}),bA=mt.forwardRef(function({setHoveredEntity:e,setPickedEntity:t,renderTargetIndex:n=-1,children:a,...r},l){let{cameraEntity:c,client:h,cameraIndex:f,...d}=r,{instance:_}=mt.useContext(Es),{renderingSurface:g,canvas:v}=mt.useContext(o0),{zIndex:b=0}=mt.useContext(Rf),[x,w]=mt.useState(null),[E,A]=mt.useState(null),[U,B]=mt.useState(null),k=mt.useRef(null);mt.useImperativeHandle(l,()=>x??void 0,[x]);let z=mt.useCallback(()=>{!k.current||!v||!x||(k.current,x.relative_rect=Ea.from_dom_elements({element:k.current,parent:v}))},[x,v,k.current]);mt.useEffect(()=>{if(!k.current)return;let L=new ResizeObserver(z);return L.observe(k.current),()=>{L.disconnect()}},[k.current,z]),mt.useEffect(()=>{if(g)return g.addEventListener("on-rendering-surface-resized",z),()=>{g.removeEventListener("on-rendering-surface-resized",z)}},[g,z]);let C=b+1;return mt.useEffect(()=>{if(!(!_||!g||!v||!k.current))try{let L=Ea.from_dom_elements({element:k.current,parent:v}),Q=new xb({core:_,rendering_surface:g,options:{rect:L,z_index:C,render_target_index:n,dom_element:k.current}});return Q.width,Q.height,_.addViewports({viewports:[Q]}),w(Q),()=>{_.removeViewport({viewport:Q}),Q.release(),w(null)}}catch(L){L instanceof p2?console.error("A viewport MUST be contained into its parent Canvas bounds",k.current,v):L instanceof _2?console.error(`Viewport element has an invalid size : [${L.rect.width} x ${L.rect.height}].`,v):console.error("Failed to mount viewport",k.current,L)}},[_,g,v,C]),mt.useEffect(()=>{h?h.getCameraEntities().then(L=>{A(L[f??0])}):A(c??null)},[c,h,f]),mt.useEffect(()=>{!x||!E||(x.camera_projection=new Vb({camera_entity:E,viewport:x}),B(x.camera_projection))},[x,E]),mt.useEffect(()=>{if(!x)return;let L=Z=>t==null?void 0:t(Z.picked_entity&&Z.ws_position&&Z.ws_normal?{entity:Z.picked_entity,ws_position:Z.ws_position,ws_normal:Z.ws_normal}:null);t&&(x.activatePicking(),x.addEventListener("on-entity-picked",L));let Q=Z=>e==null?void 0:e(Z.hovered_entity&&Z.ws_position&&Z.ws_normal?{entity:Z.hovered_entity,ws_position:Z.ws_position,ws_normal:Z.ws_normal}:null);return e&&(x.activateHovering(),x.addEventListener("on-entity-hovered",Q)),()=>{t&&(x.removeEventListener("on-entity-picked",L),x.deactivatePicking()),e&&(x.removeEventListener("on-entity-hovered",Q),x.deactivateHovering())}},[x,t,e]),St.createElement(Rf.Provider,{value:{viewport:x,viewportDomElement:k.current,zIndex:C,camera:U}},St.createElement("div",{ref:k,"data-role":"viewport",...d},a))}),xA=mt.createContext({cameraController:void 0});mt.forwardRef(function({preset:e=Db.orbital,children:t},n){let{viewport:a,camera:r}=mt.useContext(Rf),[l,c]=mt.useState(void 0);return mt.useImperativeHandle(n,()=>l,[l]),mt.useEffect(()=>{if(!a||!r)return;let h=new K4({camera_entity:r.camera_entity,viewport:a,preset:e});return c(h),()=>{h.release(),c(void 0)}},[a,r,e]),St.createElement(xA.Provider,{value:{cameraController:l}},t)});var k_=1e-6,Cf=typeof Float32Array<"u"?Float32Array:Array,Wg=Math.random;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Wb={};dA(Wb,{add:()=>SA,angle:()=>QA,bezier:()=>VA,ceil:()=>AA,clone:()=>EA,copy:()=>TA,create:()=>tx,cross:()=>kA,dist:()=>nO,distance:()=>sx,div:()=>eO,divide:()=>ax,dot:()=>lx,equals:()=>JA,exactEquals:()=>IA,floor:()=>OA,forEach:()=>rO,fromValues:()=>wA,hermite:()=>HA,inverse:()=>NA,len:()=>aO,length:()=>ex,lerp:()=>BA,max:()=>RA,min:()=>zA,mul:()=>tO,multiply:()=>ix,negate:()=>LA,normalize:()=>qA,random:()=>jA,rotateX:()=>XA,rotateY:()=>GA,rotateZ:()=>ZA,round:()=>CA,scale:()=>DA,scaleAndAdd:()=>UA,set:()=>MA,sqrDist:()=>iO,sqrLen:()=>sO,squaredDistance:()=>rx,squaredLength:()=>ox,str:()=>KA,sub:()=>WA,subtract:()=>nx,transformMat3:()=>PA,transformMat4:()=>FA,transformQuat:()=>YA,zero:()=>$A});function tx(){var e=new Cf(3);return Cf!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function EA(e){var t=new Cf(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ex(e){var t=e[0],n=e[1],a=e[2];return Math.hypot(t,n,a)}function wA(e,t,n){var a=new Cf(3);return a[0]=e,a[1]=t,a[2]=n,a}function TA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function MA(e,t,n,a){return e[0]=t,e[1]=n,e[2]=a,e}function SA(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function nx(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function ix(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function ax(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function AA(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function OA(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function zA(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function RA(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function CA(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function DA(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function UA(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e}function sx(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,a,r)}function rx(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return n*n+a*a+r*r}function ox(e){var t=e[0],n=e[1],a=e[2];return t*t+n*n+a*a}function LA(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function NA(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function qA(e,t){var n=t[0],a=t[1],r=t[2],l=n*n+a*a+r*r;return l>0&&(l=1/Math.sqrt(l)),e[0]=t[0]*l,e[1]=t[1]*l,e[2]=t[2]*l,e}function lx(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function kA(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[0],h=n[1],f=n[2];return e[0]=r*f-l*h,e[1]=l*c-a*f,e[2]=a*h-r*c,e}function BA(e,t,n,a){var r=t[0],l=t[1],c=t[2];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e[2]=c+a*(n[2]-c),e}function HA(e,t,n,a,r,l){var c=l*l,h=c*(2*l-3)+1,f=c*(l-2)+l,d=c*(l-1),_=c*(3-2*l);return e[0]=t[0]*h+n[0]*f+a[0]*d+r[0]*_,e[1]=t[1]*h+n[1]*f+a[1]*d+r[1]*_,e[2]=t[2]*h+n[2]*f+a[2]*d+r[2]*_,e}function VA(e,t,n,a,r,l){var c=1-l,h=c*c,f=l*l,d=h*c,_=3*l*h,g=3*f*c,v=f*l;return e[0]=t[0]*d+n[0]*_+a[0]*g+r[0]*v,e[1]=t[1]*d+n[1]*_+a[1]*g+r[1]*v,e[2]=t[2]*d+n[2]*_+a[2]*g+r[2]*v,e}function jA(e,t){t=t||1;var n=Wg()*2*Math.PI,a=Wg()*2-1,r=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=a*t,e}function FA(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[3]*a+n[7]*r+n[11]*l+n[15];return c=c||1,e[0]=(n[0]*a+n[4]*r+n[8]*l+n[12])/c,e[1]=(n[1]*a+n[5]*r+n[9]*l+n[13])/c,e[2]=(n[2]*a+n[6]*r+n[10]*l+n[14])/c,e}function PA(e,t,n){var a=t[0],r=t[1],l=t[2];return e[0]=a*n[0]+r*n[3]+l*n[6],e[1]=a*n[1]+r*n[4]+l*n[7],e[2]=a*n[2]+r*n[5]+l*n[8],e}function YA(e,t,n){var a=n[0],r=n[1],l=n[2],c=n[3],h=t[0],f=t[1],d=t[2],_=r*d-l*f,g=l*h-a*d,v=a*f-r*h,b=r*v-l*g,x=l*_-a*v,w=a*g-r*_,E=c*2;return _*=E,g*=E,v*=E,b*=2,x*=2,w*=2,e[0]=h+_+b,e[1]=f+g+x,e[2]=d+v+w,e}function XA(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0],l[1]=r[1]*Math.cos(a)-r[2]*Math.sin(a),l[2]=r[1]*Math.sin(a)+r[2]*Math.cos(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function GA(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[2]*Math.sin(a)+r[0]*Math.cos(a),l[1]=r[1],l[2]=r[2]*Math.cos(a)-r[0]*Math.sin(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function ZA(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0]*Math.cos(a)-r[1]*Math.sin(a),l[1]=r[0]*Math.sin(a)+r[1]*Math.cos(a),l[2]=r[2],e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function QA(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2],f=Math.sqrt(n*n+a*a+r*r),d=Math.sqrt(l*l+c*c+h*h),_=f*d,g=_&&lx(e,t)/_;return Math.acos(Math.min(Math.max(g,-1),1))}function $A(e){return e[0]=0,e[1]=0,e[2]=0,e}function KA(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function IA(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function JA(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2];return Math.abs(n-l)<=k_*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-c)<=k_*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(r-h)<=k_*Math.max(1,Math.abs(r),Math.abs(h))}var WA=nx,tO=ix,eO=ax,nO=sx,iO=rx,aO=ex,sO=ox,rO=function(){var e=tx();return function(t,n,a,r,l,c){var h,f;for(n||(n=3),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],l(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2];return t}}(),pi,zc,l0;pi=class extends St.Component{constructor(){super(...arguments);q(this,zc);H(this,"state",{screen_position:Wb.create(),z_index:0,scale:1,is_visible:!1,translation:[0,0]})}componentDidMount(){dt(this,zc,l0).call(this),this.props.overlay._registerElement(this)}componentDidUpdate(n){(n.worldPosition.some((a,r)=>a!==this.props.worldPosition[r])||n.anchor!==this.props.anchor||n.scaleFactor!==this.props.scaleFactor)&&(dt(this,zc,l0).call(this),this.props.overlay._updateElement())}componentWillUnmount(){this.props.overlay._unregisterElement(this)}get screen_position(){return this.state.screen_position}get world_position(){return this.props.worldPosition}get scale_factor(){return this.props.scaleFactor}setProjection(n){this.setState(n)}render(){if(!this.state.is_visible)return null;let n=`
            translate(${this.state.translation[0]}%, ${this.state.translation[1]}%)
            translate(${this.state.screen_position[0]}px, ${this.state.screen_position[1]}px)`;return hA.createPortal(St.createElement("div",{style:{position:"absolute",transform:n,zIndex:this.state.z_index,pointerEvents:"auto"}},this.scale_factor?St.createElement("div",{style:{transform:`scale(${this.state.scale})`}},this.props.children):this.props.children),this.props.overlay.container)}},zc=new WeakSet,l0=function(){if(this.props.anchor==="center"){this.setState({translation:[pi.HorizontalAnchorPositions.center,pi.VerticalAnchorPositions.center]});return}let[n,a]=this.props.anchor.split("-");this.setState({translation:[pi.HorizontalAnchorPositions[n],pi.VerticalAnchorPositions[a]]})},H(pi,"VerticalAnchorPositions",{top:0,center:-50,bottom:-100}),H(pi,"HorizontalAnchorPositions",{left:0,center:-50,right:-100});mt.createContext(null);typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-react")?console.warn(" WARNING  Multiple instances of Livelink React  being imported."):window.__LIVELINK__["@3dverse/livelink-react"]="0.2.47");var B_,tv;function oO(){if(tv)return B_;tv=1;const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return B_=t=>!e.has(t&&t.code),B_}var lO=oO();const uO=x0(lO);function ev(e,t,n,a,r,l,c){try{var h=e[l](c),f=h.value}catch(d){n(d);return}h.done?t(f):Promise.resolve(f).then(a,r)}function ux(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(f){ev(l,a,r,c,h,"next",f)}function h(f){ev(l,a,r,c,h,"throw",f)}c(void 0)})}}function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function H_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(n),!0).forEach(function(a){cO(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cx="axios-retry";function R0(e){var t=["ERR_CANCELED","ECONNABORTED"];return!e.response&&!!e.code&&!t.includes(e.code)&&uO(e)}var hx=["get","head","options"],hO=hx.concat(["put","delete"]);function C0(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status>=500&&e.response.status<=599)}function fO(e){return e.config?C0(e)&&hx.indexOf(e.config.method)!==-1:!1}function D0(e){return e.config?C0(e)&&hO.indexOf(e.config.method)!==-1:!1}function fx(e){return R0(e)||D0(e)}function dO(){return 0}function mO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,n=Math.pow(2,e)*t,a=n*.2*Math.random();return n+a}var _O={retries:3,retryCondition:fx,retryDelay:dO,shouldResetTimeout:!1,onRetry:()=>{}};function pO(e,t){return H_(H_(H_({},_O),t),e[cx])}function iv(e,t){var n=pO(e,t);return n.retryCount=n.retryCount||0,e[cx]=n,n}function yO(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}function gO(e,t){return u0.apply(this,arguments)}function u0(){return u0=ux(function*(e,t){var{retries:n,retryCondition:a}=e,r=e.retryCount<n&&a(t);if(typeof r=="object")try{var l=yield r;return l!==!1}catch{return!1}return r}),u0.apply(this,arguments)}function xs(e,t){var n=e.interceptors.request.use(r=>{var l=iv(r,t);return l.lastRequestTime=Date.now(),r}),a=e.interceptors.response.use(null,function(){var r=ux(function*(l){var{config:c}=l;if(!c)return Promise.reject(l);var h=iv(c,t);if(yield gO(h,l)){h.retryCount+=1;var{retryDelay:f,shouldResetTimeout:d,onRetry:_}=h,g=f(h.retryCount,l);if(yO(e,c),!d&&c.timeout&&h.lastRequestTime){var v=Date.now()-h.lastRequestTime,b=c.timeout-v-g;if(b<=0)return Promise.reject(l);c.timeout=b}return c.transformRequest=[x=>x],yield _(h.retryCount,l,c),new Promise(x=>setTimeout(()=>x(e(c)),g))}return Promise.reject(l)});return function(l){return r.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:a}}xs.isNetworkError=R0;xs.isSafeRequestError=fO;xs.isIdempotentRequestError=D0;xs.isNetworkOrIdempotentRequestError=fx;xs.exponentialDelay=mO;xs.isRetryableError=C0;function dx(e,t){return function(){return e.apply(t,arguments)}}const{toString:vO}=Object.prototype,{getPrototypeOf:U0}=Object,{iterator:ad,toStringTag:mx}=Symbol,sd=(e=>t=>{const n=vO.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yi=e=>(e=e.toLowerCase(),t=>sd(t)===e),rd=e=>t=>typeof t===e,{isArray:Sl}=Array,Pu=rd("undefined");function bO(e){return e!==null&&!Pu(e)&&e.constructor!==null&&!Pu(e.constructor)&&dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _x=yi("ArrayBuffer");function xO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_x(e.buffer),t}const EO=rd("string"),dn=rd("function"),px=rd("number"),od=e=>e!==null&&typeof e=="object",wO=e=>e===!0||e===!1,wf=e=>{if(sd(e)!=="object")return!1;const t=U0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mx in e)&&!(ad in e)},TO=yi("Date"),MO=yi("File"),SO=yi("Blob"),AO=yi("FileList"),OO=e=>od(e)&&dn(e.pipe),zO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dn(e.append)&&((t=sd(e))==="formdata"||t==="object"&&dn(e.toString)&&e.toString()==="[object FormData]"))},RO=yi("URLSearchParams"),[CO,DO,UO,LO]=["ReadableStream","Request","Response","Headers"].map(yi),NO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,r;if(typeof e!="object"&&(e=[e]),Sl(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let h;for(a=0;a<c;a++)h=l[a],t.call(null,e[h],h,e)}}function yx(e,t){t=t.toLowerCase();const n=Object.keys(e);let a=n.length,r;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gx=e=>!Pu(e)&&e!==Zs;function c0(){const{caseless:e}=gx(this)&&this||{},t={},n=(a,r)=>{const l=e&&yx(t,r)||r;wf(t[l])&&wf(a)?t[l]=c0(t[l],a):wf(a)?t[l]=c0({},a):Sl(a)?t[l]=a.slice():t[l]=a};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&Bc(arguments[a],n);return t}const qO=(e,t,n,{allOwnKeys:a}={})=>(Bc(t,(r,l)=>{n&&dn(r)?e[l]=dx(r,n):e[l]=r},{allOwnKeys:a}),e),kO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BO=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},HO=(e,t,n,a)=>{let r,l,c;const h={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)c=r[l],(!a||a(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&U0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},VO=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},jO=e=>{if(!e)return null;if(Sl(e))return e;let t=e.length;if(!px(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},FO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&U0(Uint8Array)),PO=(e,t)=>{const a=(e&&e[ad]).call(e);let r;for(;(r=a.next())&&!r.done;){const l=r.value;t.call(e,l[0],l[1])}},YO=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},XO=yi("HTMLFormElement"),GO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),av=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ZO=yi("RegExp"),vx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Bc(n,(r,l)=>{let c;(c=t(r,l,e))!==!1&&(a[l]=c||r)}),Object.defineProperties(e,a)},QO=e=>{vx(e,(t,n)=>{if(dn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(dn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$O=(e,t)=>{const n={},a=r=>{r.forEach(l=>{n[l]=!0})};return Sl(e)?a(e):a(String(e).split(t)),n},KO=()=>{},IO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function JO(e){return!!(e&&dn(e.append)&&e[mx]==="FormData"&&e[ad])}const WO=e=>{const t=new Array(10),n=(a,r)=>{if(od(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[r]=a;const l=Sl(a)?[]:{};return Bc(a,(c,h)=>{const f=n(c,r+1);!Pu(f)&&(l[h]=f)}),t[r]=void 0,l}}return a};return n(e,0)},tz=yi("AsyncFunction"),ez=e=>e&&(od(e)||dn(e))&&dn(e.then)&&dn(e.catch),bx=((e,t)=>e?setImmediate:t?((n,a)=>(Zs.addEventListener("message",({source:r,data:l})=>{r===Zs&&l===n&&a.length&&a.shift()()},!1),r=>{a.push(r),Zs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dn(Zs.postMessage)),nz=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||bx,iz=e=>e!=null&&dn(e[ad]),tt={isArray:Sl,isArrayBuffer:_x,isBuffer:bO,isFormData:zO,isArrayBufferView:xO,isString:EO,isNumber:px,isBoolean:wO,isObject:od,isPlainObject:wf,isReadableStream:CO,isRequest:DO,isResponse:UO,isHeaders:LO,isUndefined:Pu,isDate:TO,isFile:MO,isBlob:SO,isRegExp:ZO,isFunction:dn,isStream:OO,isURLSearchParams:RO,isTypedArray:FO,isFileList:AO,forEach:Bc,merge:c0,extend:qO,trim:NO,stripBOM:kO,inherits:BO,toFlatObject:HO,kindOf:sd,kindOfTest:yi,endsWith:VO,toArray:jO,forEachEntry:PO,matchAll:YO,isHTMLForm:XO,hasOwnProperty:av,hasOwnProp:av,reduceDescriptors:vx,freezeMethods:QO,toObjectSet:$O,toCamelCase:GO,noop:KO,toFiniteNumber:IO,findKey:yx,global:Zs,isContextDefined:gx,isSpecCompliantForm:JO,toJSONObject:WO,isAsyncFn:tz,isThenable:ez,setImmediate:bx,asap:nz,isIterable:iz};function At(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}tt.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const xx=At.prototype,Ex={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ex[e]={value:e}});Object.defineProperties(At,Ex);Object.defineProperty(xx,"isAxiosError",{value:!0});At.from=(e,t,n,a,r,l)=>{const c=Object.create(xx);return tt.toFlatObject(e,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),At.call(c,e.message,t,n,a,r),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const az=null;function h0(e){return tt.isPlainObject(e)||tt.isArray(e)}function wx(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function sv(e,t,n){return e?e.concat(t).map(function(r,l){return r=wx(r),!n&&l?"["+r+"]":r}).join(n?".":""):t}function sz(e){return tt.isArray(e)&&!e.some(h0)}const rz=tt.toFlatObject(tt,{},null,function(t){return/^is[A-Z]/.test(t)});function ld(e,t,n){if(!tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=tt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!tt.isUndefined(E[w])});const a=n.metaTokens,r=n.visitor||_,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(t);if(!tt.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(tt.isDate(x))return x.toISOString();if(!f&&tt.isBlob(x))throw new At("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(x)||tt.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function _(x,w,E){let A=x;if(x&&!E&&typeof x=="object"){if(tt.endsWith(w,"{}"))w=a?w:w.slice(0,-2),x=JSON.stringify(x);else if(tt.isArray(x)&&sz(x)||(tt.isFileList(x)||tt.endsWith(w,"[]"))&&(A=tt.toArray(x)))return w=wx(w),A.forEach(function(B,k){!(tt.isUndefined(B)||B===null)&&t.append(c===!0?sv([w],k,l):c===null?w:w+"[]",d(B))}),!1}return h0(x)?!0:(t.append(sv(E,w,l),d(x)),!1)}const g=[],v=Object.assign(rz,{defaultVisitor:_,convertValue:d,isVisitable:h0});function b(x,w){if(!tt.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(x),tt.forEach(x,function(A,U){(!(tt.isUndefined(A)||A===null)&&r.call(t,A,tt.isString(U)?U.trim():U,w,v))===!0&&b(A,w?w.concat(U):[U])}),g.pop()}}if(!tt.isObject(e))throw new TypeError("data must be an object");return b(e),t}function rv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function L0(e,t){this._pairs=[],e&&ld(e,this,t)}const Tx=L0.prototype;Tx.append=function(t,n){this._pairs.push([t,n])};Tx.toString=function(t){const n=t?function(a){return t.call(this,a,rv)}:rv;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function oz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mx(e,t,n){if(!t)return e;const a=n&&n.encode||oz;tt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let l;if(r?l=r(t,n):l=tt.isURLSearchParams(t)?t.toString():new L0(t,n).toString(a),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class ov{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tt.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Sx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lz=typeof URLSearchParams<"u"?URLSearchParams:L0,uz=typeof FormData<"u"?FormData:null,cz=typeof Blob<"u"?Blob:null,hz={isBrowser:!0,classes:{URLSearchParams:lz,FormData:uz,Blob:cz},protocols:["http","https","file","blob","url","data"]},N0=typeof window<"u"&&typeof document<"u",f0=typeof navigator=="object"&&navigator||void 0,fz=N0&&(!f0||["ReactNative","NativeScript","NS"].indexOf(f0.product)<0),dz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mz=N0&&window.location.href||"http://localhost",_z=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N0,hasStandardBrowserEnv:fz,hasStandardBrowserWebWorkerEnv:dz,navigator:f0,origin:mz},Symbol.toStringTag,{value:"Module"})),Ge={..._z,...hz};function pz(e,t){return ld(e,new Ge.classes.URLSearchParams,Object.assign({visitor:function(n,a,r,l){return Ge.isNode&&tt.isBuffer(n)?(this.append(a,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function yz(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gz(e){const t={},n=Object.keys(e);let a;const r=n.length;let l;for(a=0;a<r;a++)l=n[a],t[l]=e[l];return t}function Ax(e){function t(n,a,r,l){let c=n[l++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=l>=n.length;return c=!c&&tt.isArray(r)?r.length:c,f?(tt.hasOwnProp(r,c)?r[c]=[r[c],a]:r[c]=a,!h):((!r[c]||!tt.isObject(r[c]))&&(r[c]=[]),t(n,a,r[c],l)&&tt.isArray(r[c])&&(r[c]=gz(r[c])),!h)}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const n={};return tt.forEachEntry(e,(a,r)=>{t(yz(a),r,n,0)}),n}return null}function vz(e,t,n){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Hc={transitional:Sx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,l=tt.isObject(t);if(l&&tt.isHTMLForm(t)&&(t=new FormData(t)),tt.isFormData(t))return r?JSON.stringify(Ax(t)):t;if(tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)||tt.isReadableStream(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return pz(t,this.formSerializer).toString();if((h=tt.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ld(h?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||r?(n.setContentType("application/json",!1),vz(t)):t}],transformResponse:[function(t){const n=this.transitional||Hc.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(tt.isResponse(t)||tt.isReadableStream(t))return t;if(t&&tt.isString(t)&&(a&&!this.responseType||r)){const c=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?At.from(h,At.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{Hc.headers[e]={}});const bz=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xz=e=>{const t={};let n,a,r;return e&&e.split(`
`).forEach(function(c){r=c.indexOf(":"),n=c.substring(0,r).trim().toLowerCase(),a=c.substring(r+1).trim(),!(!n||t[n]&&bz[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},lv=Symbol("internals");function qu(e){return e&&String(e).trim().toLowerCase()}function Tf(e){return e===!1||e==null?e:tt.isArray(e)?e.map(Tf):String(e)}function Ez(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const wz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function V_(e,t,n,a,r){if(tt.isFunction(a))return a.call(this,t,n);if(r&&(t=n),!!tt.isString(t)){if(tt.isString(a))return t.indexOf(a)!==-1;if(tt.isRegExp(a))return a.test(t)}}function Tz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function Mz(e,t){const n=tt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(r,l,c){return this[a].call(this,t,r,l,c)},configurable:!0})})}let mn=class{constructor(t){t&&this.set(t)}set(t,n,a){const r=this;function l(h,f,d){const _=qu(f);if(!_)throw new Error("header name must be a non-empty string");const g=tt.findKey(r,_);(!g||r[g]===void 0||d===!0||d===void 0&&r[g]!==!1)&&(r[g||f]=Tf(h))}const c=(h,f)=>tt.forEach(h,(d,_)=>l(d,_,f));if(tt.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(tt.isString(t)&&(t=t.trim())&&!wz(t))c(xz(t),n);else if(tt.isObject(t)&&tt.isIterable(t)){let h={},f,d;for(const _ of t){if(!tt.isArray(_))throw TypeError("Object iterator must return a key-value pair");h[d=_[0]]=(f=h[d])?tt.isArray(f)?[...f,_[1]]:[f,_[1]]:_[1]}c(h,n)}else t!=null&&l(n,t,a);return this}get(t,n){if(t=qu(t),t){const a=tt.findKey(this,t);if(a){const r=this[a];if(!n)return r;if(n===!0)return Ez(r);if(tt.isFunction(n))return n.call(this,r,a);if(tt.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=qu(t),t){const a=tt.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||V_(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let r=!1;function l(c){if(c=qu(c),c){const h=tt.findKey(a,c);h&&(!n||V_(a,a[h],h,n))&&(delete a[h],r=!0)}}return tt.isArray(t)?t.forEach(l):l(t),r}clear(t){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const l=n[a];(!t||V_(this,this[l],l,t,!0))&&(delete this[l],r=!0)}return r}normalize(t){const n=this,a={};return tt.forEach(this,(r,l)=>{const c=tt.findKey(a,l);if(c){n[c]=Tf(r),delete n[l];return}const h=t?Tz(l):String(l).trim();h!==l&&delete n[l],n[h]=Tf(r),a[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return tt.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=t&&tt.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(r=>a.set(r)),a}static accessor(t){const a=(this[lv]=this[lv]={accessors:{}}).accessors,r=this.prototype;function l(c){const h=qu(c);a[h]||(Mz(r,c),a[h]=!0)}return tt.isArray(t)?t.forEach(l):l(t),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(mn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});tt.freezeMethods(mn);function j_(e,t){const n=this||Hc,a=t||n,r=mn.from(a.headers);let l=a.data;return tt.forEach(e,function(h){l=h.call(n,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function Ox(e){return!!(e&&e.__CANCEL__)}function Al(e,t,n){At.call(this,e??"canceled",At.ERR_CANCELED,t,n),this.name="CanceledError"}tt.inherits(Al,At,{__CANCEL__:!0});function zx(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new At("Request failed with status code "+n.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Sz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Az(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const d=Date.now(),_=a[l];c||(c=d),n[r]=f,a[r]=d;let g=l,v=0;for(;g!==r;)v+=n[g++],g=g%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),d-c<t)return;const b=_&&d-_;return b?Math.round(v*1e3/b):void 0}}function Oz(e,t){let n=0,a=1e3/t,r,l;const c=(d,_=Date.now())=>{n=_,r=null,l&&(clearTimeout(l),l=null),e.apply(null,d)};return[(...d)=>{const _=Date.now(),g=_-n;g>=a?c(d,_):(r=d,l||(l=setTimeout(()=>{l=null,c(r)},a-g)))},()=>r&&c(r)]}const Df=(e,t,n=3)=>{let a=0;const r=Az(50,250);return Oz(l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,f=c-a,d=r(f),_=c<=h;a=c;const g={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&_?(h-c)/d:void 0,event:l,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(g)},n)},uv=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},cv=e=>(...t)=>tt.asap(()=>e(...t)),zz=Ge.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ge.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Rz=Ge.hasStandardBrowserEnv?{write(e,t,n,a,r,l){const c=[e+"="+encodeURIComponent(t)];tt.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),tt.isString(a)&&c.push("path="+a),tt.isString(r)&&c.push("domain="+r),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Rx(e,t,n){let a=!Cz(t);return e&&(a||n==!1)?Dz(e,t):t}const hv=e=>e instanceof mn?{...e}:e;function hr(e,t){t=t||{};const n={};function a(d,_,g,v){return tt.isPlainObject(d)&&tt.isPlainObject(_)?tt.merge.call({caseless:v},d,_):tt.isPlainObject(_)?tt.merge({},_):tt.isArray(_)?_.slice():_}function r(d,_,g,v){if(tt.isUndefined(_)){if(!tt.isUndefined(d))return a(void 0,d,g,v)}else return a(d,_,g,v)}function l(d,_){if(!tt.isUndefined(_))return a(void 0,_)}function c(d,_){if(tt.isUndefined(_)){if(!tt.isUndefined(d))return a(void 0,d)}else return a(void 0,_)}function h(d,_,g){if(g in t)return a(d,_);if(g in e)return a(void 0,d)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(d,_,g)=>r(hv(d),hv(_),g,!0)};return tt.forEach(Object.keys(Object.assign({},e,t)),function(_){const g=f[_]||r,v=g(e[_],t[_],_);tt.isUndefined(v)&&g!==h||(n[_]=v)}),n}const Cx=e=>{const t=hr({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:l,headers:c,auth:h}=t;t.headers=c=mn.from(c),t.url=Mx(Rx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(tt.isFormData(n)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[d,..._]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];c.setContentType([d||"multipart/form-data",..._].join("; "))}}if(Ge.hasStandardBrowserEnv&&(a&&tt.isFunction(a)&&(a=a(t)),a||a!==!1&&zz(t.url))){const d=r&&l&&Rz.read(l);d&&c.set(r,d)}return t},Uz=typeof XMLHttpRequest<"u",Lz=Uz&&function(e){return new Promise(function(n,a){const r=Cx(e);let l=r.data;const c=mn.from(r.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=r,_,g,v,b,x;function w(){b&&b(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(_),r.signal&&r.signal.removeEventListener("abort",_)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function A(){if(!E)return;const B=mn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:B,config:e,request:E};zx(function(L){n(L),w()},function(L){a(L),w()},z),E=null}"onloadend"in E?E.onloadend=A:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(A)},E.onabort=function(){E&&(a(new At("Request aborted",At.ECONNABORTED,e,E)),E=null)},E.onerror=function(){a(new At("Network Error",At.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||Sx;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),a(new At(k,z.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,e,E)),E=null},l===void 0&&c.setContentType(null),"setRequestHeader"in E&&tt.forEach(c.toJSON(),function(k,z){E.setRequestHeader(z,k)}),tt.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),h&&h!=="json"&&(E.responseType=r.responseType),d&&([v,x]=Df(d,!0),E.addEventListener("progress",v)),f&&E.upload&&([g,b]=Df(f),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(_=B=>{E&&(a(!B||B.type?new Al(null,e,E):B),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(_),r.signal&&(r.signal.aborted?_():r.signal.addEventListener("abort",_)));const U=Sz(r.url);if(U&&Ge.protocols.indexOf(U)===-1){a(new At("Unsupported protocol "+U+":",At.ERR_BAD_REQUEST,e));return}E.send(l||null)})},Nz=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,r;const l=function(d){if(!r){r=!0,h();const _=d instanceof Error?d:this.reason;a.abort(_ instanceof At?_:new Al(_ instanceof Error?_.message:_))}};let c=t&&setTimeout(()=>{c=null,l(new At(`timeout ${t} of ms exceeded`,At.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:f}=a;return f.unsubscribe=()=>tt.asap(h),f}},qz=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,r;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},kz=async function*(e,t){for await(const n of Bz(e))yield*qz(n,t)},Bz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},fv=(e,t,n,a)=>{const r=kz(e,t);let l=0,c,h=f=>{c||(c=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:d,value:_}=await r.next();if(d){h(),f.close();return}let g=_.byteLength;if(n){let v=l+=g;n(v)}f.enqueue(new Uint8Array(_))}catch(d){throw h(d),d}},cancel(f){return h(f),r.return()}},{highWaterMark:2})},ud=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Dx=ud&&typeof ReadableStream=="function",Hz=ud&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ux=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Vz=Dx&&Ux(()=>{let e=!1;const t=new Request(Ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),dv=64*1024,d0=Dx&&Ux(()=>tt.isReadableStream(new Response("").body)),Uf={stream:d0&&(e=>e.body)};ud&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Uf[t]&&(Uf[t]=tt.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new At(`Response type '${t}' is not supported`,At.ERR_NOT_SUPPORT,a)})})})(new Response);const jz=async e=>{if(e==null)return 0;if(tt.isBlob(e))return e.size;if(tt.isSpecCompliantForm(e))return(await new Request(Ge.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(tt.isArrayBufferView(e)||tt.isArrayBuffer(e))return e.byteLength;if(tt.isURLSearchParams(e)&&(e=e+""),tt.isString(e))return(await Hz(e)).byteLength},Fz=async(e,t)=>{const n=tt.toFiniteNumber(e.getContentLength());return n??jz(t)},Pz=ud&&(async e=>{let{url:t,method:n,data:a,signal:r,cancelToken:l,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:_,withCredentials:g="same-origin",fetchOptions:v}=Cx(e);d=d?(d+"").toLowerCase():"text";let b=Nz([r,l&&l.toAbortSignal()],c),x;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let E;try{if(f&&Vz&&n!=="get"&&n!=="head"&&(E=await Fz(_,a))!==0){let z=new Request(t,{method:"POST",body:a,duplex:"half"}),C;if(tt.isFormData(a)&&(C=z.headers.get("content-type"))&&_.setContentType(C),z.body){const[L,Q]=uv(E,Df(cv(f)));a=fv(z.body,dv,L,Q)}}tt.isString(g)||(g=g?"include":"omit");const A="credentials"in Request.prototype;x=new Request(t,{...v,signal:b,method:n.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:A?g:void 0});let U=await fetch(x);const B=d0&&(d==="stream"||d==="response");if(d0&&(h||B&&w)){const z={};["status","statusText","headers"].forEach(Z=>{z[Z]=U[Z]});const C=tt.toFiniteNumber(U.headers.get("content-length")),[L,Q]=h&&uv(C,Df(cv(h),!0))||[];U=new Response(fv(U.body,dv,L,()=>{Q&&Q(),w&&w()}),z)}d=d||"text";let k=await Uf[tt.findKey(Uf,d)||"text"](U,e);return!B&&w&&w(),await new Promise((z,C)=>{zx(z,C,{data:k,headers:mn.from(U.headers),status:U.status,statusText:U.statusText,config:e,request:x})})}catch(A){throw w&&w(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,e,x),{cause:A.cause||A}):At.from(A,A&&A.code,e,x)}}),m0={http:az,xhr:Lz,fetch:Pz};tt.forEach(m0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mv=e=>`- ${e}`,Yz=e=>tt.isFunction(e)||e===null||e===!1,Lx={getAdapter:e=>{e=tt.isArray(e)?e:[e];const{length:t}=e;let n,a;const r={};for(let l=0;l<t;l++){n=e[l];let c;if(a=n,!Yz(n)&&(a=m0[(c=String(n)).toLowerCase()],a===void 0))throw new At(`Unknown adapter '${c}'`);if(a)break;r[c||"#"+l]=a}if(!a){const l=Object.entries(r).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(mv).join(`
`):" "+mv(l[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:m0};function F_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function _v(e){return F_(e),e.headers=mn.from(e.headers),e.data=j_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lx.getAdapter(e.adapter||Hc.adapter)(e).then(function(a){return F_(e),a.data=j_.call(e,e.transformResponse,a),a.headers=mn.from(a.headers),a},function(a){return Ox(a)||(F_(e),a&&a.response&&(a.response.data=j_.call(e,e.transformResponse,a.response),a.response.headers=mn.from(a.response.headers))),Promise.reject(a)})}const Nx="1.9.0",cd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cd[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const pv={};cd.transitional=function(t,n,a){function r(l,c){return"[Axios v"+Nx+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,h)=>{if(t===!1)throw new At(r(c," has been removed"+(n?" in "+n:"")),At.ERR_DEPRECATED);return n&&!pv[c]&&(pv[c]=!0,console.warn(r(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,c,h):!0}};cd.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Xz(e,t,n){if(typeof e!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const l=a[r],c=t[l];if(c){const h=e[l],f=h===void 0||c(h,l,e);if(f!==!0)throw new At("option "+l+" must be "+f,At.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new At("Unknown option "+l,At.ERR_BAD_OPTION)}}const Mf={assertOptions:Xz,validators:cd},Si=Mf.validators;let cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ov,response:new ov}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=hr(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:l}=n;a!==void 0&&Mf.assertOptions(a,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),r!=null&&(tt.isFunction(r)?n.paramsSerializer={serialize:r}:Mf.assertOptions(r,{encode:Si.function,serialize:Si.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mf.assertOptions(n,{baseUrl:Si.spelling("baseURL"),withXsrfToken:Si.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&tt.merge(l.common,l[n.method]);l&&tt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=mn.concat(c,l);const h=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(f=f&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let _,g=0,v;if(!f){const x=[_v.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,d),v=x.length,_=Promise.resolve(n);g<v;)_=_.then(x[g++],x[g++]);return _}v=h.length;let b=n;for(g=0;g<v;){const x=h[g++],w=h[g++];try{b=x(b)}catch(E){w.call(this,E);break}}try{_=_v.call(this,b)}catch(x){return Promise.reject(x)}for(g=0,v=d.length;g<v;)_=_.then(d[g++],d[g++]);return _}getUri(t){t=hr(this.defaults,t);const n=Rx(t.baseURL,t.url,t.allowAbsoluteUrls);return Mx(n,t.params,t.paramsSerializer)}};tt.forEach(["delete","get","head","options"],function(t){cr.prototype[t]=function(n,a){return this.request(hr(a||{},{method:t,url:n,data:(a||{}).data}))}});tt.forEach(["post","put","patch"],function(t){function n(a){return function(l,c,h){return this.request(hr(h||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}cr.prototype[t]=n(),cr.prototype[t+"Form"]=n(!0)});let Gz=class qx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const a=this;this.promise.then(r=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](r);a._listeners=null}),this.promise.then=r=>{let l;const c=new Promise(h=>{a.subscribe(h),l=h}).then(r);return c.cancel=function(){a.unsubscribe(l)},c},t(function(l,c,h){a.reason||(a.reason=new Al(l,c,h),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new qx(function(r){t=r}),cancel:t}}};function Zz(e){return function(n){return e.apply(null,n)}}function Qz(e){return tt.isObject(e)&&e.isAxiosError===!0}const _0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_0).forEach(([e,t])=>{_0[t]=e});function kx(e){const t=new cr(e),n=dx(cr.prototype.request,t);return tt.extend(n,cr.prototype,t,{allOwnKeys:!0}),tt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return kx(hr(e,r))},n}const xe=kx(Hc);xe.Axios=cr;xe.CanceledError=Al;xe.CancelToken=Gz;xe.isCancel=Ox;xe.VERSION=Nx;xe.toFormData=ld;xe.AxiosError=At;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=Zz;xe.isAxiosError=Qz;xe.mergeConfig=hr;xe.AxiosHeaders=mn;xe.formToJSON=e=>Ax(tt.isHTMLForm(e)?new FormData(e):e);xe.getAdapter=Lx.getAdapter;xe.HttpStatusCode=_0;xe.default=xe;const{Axios:LD,AxiosError:ND,CanceledError:qD,isCancel:kD,CancelToken:BD,VERSION:HD,all:VD,Cancel:jD,isAxiosError:FD,spread:PD,toFormData:YD,AxiosHeaders:XD,HttpStatusCode:GD,formToJSON:ZD,getAdapter:QD,mergeConfig:$D}=xe;var yv=xe.create({baseURL:"https://api.3dverse.com/app/v1"}),Bx=class extends Error{constructor(t,n,a){super();H(this,"errorCode");H(this,"httpCode");H(this,"message");this.errorCode=t,this.httpCode=n,this.message=a}},$z=class extends Bx{constructor(t,n,a,r){super(t,n,a);H(this,"serviceError");this.serviceError=r}},Kz=class extends Bx{constructor(t,n){super(0,t,"Unexpected service error error");H(this,"unexpectedError");this.unexpectedError=n}};function Iz(){xs(yv,{retries:5,retryDelay:xs.exponentialDelay,retryCondition:Jz}),yv.interceptors.response.use(n=>(n.config.responseType==="stream"&&n.data.pause(),n),n=>{var h,f;if(!n.response)return Promise.reject(n);const a=n,r=((h=a.response)==null?void 0:h.status)||500,l=(f=a.response)==null?void 0:f.data;if(!l&&a.request.method==="HEAD"&&r>=400&&r<500)return a.response;if(!l||typeof l!="object")return Promise.reject(new Kz(r,l));const c=l;return Promise.reject(new $z(c.errorCode,r,c.message,c))})}function Jz(e){var n;switch((n=e.response)==null?void 0:n.status){case 403:case 404:return!0;default:return R0(e)||D0(e)}}Iz();globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"]=`:root{--3dverse-color-bg-ground: hsl(227, 39%, 5%);--3dverse-color-bg-underground: hsl(240, 20%, 2%);--3dverse-color-bg-overground: hsl(224, 30.61%, 9.61%);--3dverse-color-bg-foreground: hsl(228, 15%, 13%);--3dverse-color-content-primary: hsl(227.44, 84.31%, 90%);--3dverse-color-content-primary-dark: hsl(229, 27%, 12%);--3dverse-color-content-secondary: hsl(231, 70%, 84%);--3dverse-color-content-tertiary: hsl(231, 40%, 70%);--3dverse-color-content-quaternary: hsl(230, 18%, 34%);--3dverse-color-border-primary-alpha: hsl(228, 21%, 40%, .5);--3dverse-color-border-secondary-alpha: hsl(228, 19%, 30%, .5);--3dverse-color-border-tertiary-alpha: hsl(228, 21%, 20%, .5);--3dverse-color-border-primary: hsl(228, 19%, 40%);--3dverse-color-border-secondary: hsl(228, 19%, 30%);--3dverse-color-border-tertiary: hsl(228, 21%, 23%);--3dverse-color-border-quaternary: hsl(227, 11%, 15%);--3dverse-color-accent: var(--3dverse-color-accent-500);--3dverse-color-accent-100: hsl(47, 85%, 78%);--3dverse-color-accent-400: hsl(47, 90%, 60%);--3dverse-color-accent-500: hsl(47, 100%, 50%);--3dverse-color-accent-600: hsl(47, 100%, 45%);--3dverse-color-accent-700: hsl(47, 90%, 16%);--3dverse-color-accent-800: hsl(57, 180%, 6%);--3dverse-color-feedback-informative: var(--3dverse-color-feedback-informative-500);--3dverse-color-feedback-informative-100: hsl(202, 100%, 84%);--3dverse-color-feedback-informative-500: hsl(202, 100%, 62%);--3dverse-color-feedback-informative-800: hsl(203, 94%, 21%);--3dverse-color-feedback-informative-900: hsl(202, 50%, 25%);--3dverse-color-feedback-positive: var(--3dverse-color-feedback-positive-500);--3dverse-color-feedback-positive-500: hsl(158, 64%, 52%);--3dverse-color-feedback-positive-800: hsl(157.2, 48%, 20.4%);--3dverse-color-feedback-positive-900: hsl(158, 62.5%, 9.41%);--3dverse-color-feedback-warning: var(--3dverse-color-feedback-warning-500);--3dverse-color-feedback-warning-500: hsl(14.4, 86%, 55.3%);--3dverse-color-feedback-warning-800: hsl(12, 29.4%, 13.3%);--3dverse-color-feedback-negative: var(--3dverse-color-feedback-negative-500);--3dverse-color-feedback-negative-400: hsl(0, 87.8%, 67.84%);--3dverse-color-feedback-negative-500: hsl(0, 95.7%, 63.53%);--3dverse-color-feedback-negative-600: hsl(0, 63%, 48%);--3dverse-color-feedback-negative-800: hsl(355.52, 46.21%, 28.43%);--3dverse-spacing-1: .25rem;--3dverse-spacing-2: .5rem;--3dverse-spacing-3: .75rem;--3dverse-spacing-4: 1rem;--3dverse-spacing-5: 1.25rem;--3dverse-spacing-6: 1.5rem;--3dverse-spacing-7: 1.75rem;--3dverse-spacing-8: 2rem;--3dverse-spacing-9: 2.25rem;--3dverse-spacing-10: 2.5rem;--3dverse-spacing-12: 3rem;--3dverse-spacing-14: 3.5rem;--3dverse-spacing-16: 4rem;--3dverse-spacing-20: 5rem;--3dverse-spacing-24: 6rem;--3dverse-spacing-28: 7rem;--3dverse-spacing-32: 8rem;--3dverse-spacing-36: 9rem;--3dverse-spacing-40: 10rem;--3dverse-spacing-44: 11rem;--3dverse-spacing-48: 12rem;--3dverse-spacing-52: 13rem;--3dverse-spacing-56: 14rem;--3dverse-spacing-60: 15rem;--3dverse-spacing-64: 16rem;--3dverse-spacing-72: 18rem;--3dverse-spacing-80: 20rem;--3dverse-spacing-96: 24rem;--3dverse-font-size-3xs: .7rem;--3dverse-font-size-2xs: .8rem;--3dverse-font-size-xs: .85rem;--3dverse-font-size-sm: .95rem;--3dverse-font-size-md: 1rem;--3dverse-font-size-lg: 1.125rem;--3dverse-font-size-xl: 1.25rem;--3dverse-font-size-2xl: 1.5rem;--3dverse-font-size-3xl: 1.875rem;--3dverse-font-size-4xl: 2.25rem;--3dverse-font-size-5xl: 3rem;--3dverse-font-size-6xl: 3.75rem;--3dverse-font-size-7xl: 4rem;--3dverse-font-size-8xl: 6rem;--3dverse-font-size-9xl: 8rem;--3dverse-leading-3: .75rem;--3dverse-leading-4: 1rem;--3dverse-leading-5: 1.25rem;--3dverse-leading-6: 1.5rem;--3dverse-leading-7: 1.75rem;--3dverse-leading-8: 2rem;--3dverse-leading-9: 2.25rem;--3dverse-leading-10: 2.5rem;--3dverse-leading-none: 1;--3dverse-leading-tight: 1.25;--3dverse-leading-snug: 1.375;--3dverse-leading-normal: 1.5;--3dverse-leading-relaxed: 1.625;--3dverse-leading-loose: 2;--3dverse-border-radius-sm: .125rem;--3dverse-border-radius-md: .3125rem;--3dverse-border-radius-lg: .5rem;--3dverse-border-radius-xl: .75rem;--3dverse-border-radius-2xl: 1rem;--3dverse-border-radius-3xl: 1.5rem;--3dverse-shadow-xs: 0px 1px 1px oklab(0 0 0 / .5);--3dverse-shadow-sm: 0 1px 2px 0 oklab(0 0 0 / .5);--3dverse-shadow-md: 0 4px 6px -1px oklab(0 0 0 / .5), 0 2px 4px -2px oklab(0 0 0 / .5);--3dverse-shadow-lg: 0 10px 15px -3px oklab(0 0 0 / .2), 0 4px 6px -4px oklab(0 0 0 / .5);--3dverse-shadow-xl: 0 20px 25px -5px oklab(0 0 0 / .2), 0 8px 10px -6px oklab(0 0 0 / .5);--3dverse-shadow-2xl: 0 25px 50px -12px oklab(0 0 0 / .5);--3dverse-shadow-3xl: 0 35px 60px -15px oklab(0 0 0 / .5)}.livelink-react-ui-component{font-family:ui-sans-serif,sans-serif;line-height:1.5;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;color:var(--3dverse-color-content-primary)}.livelink-react-ui-component :where(h1,h2,h3,h4,p,figure,blockquote,dl,dd){margin:0}.livelink-react-ui-component :where(input,button,textarea,select){font:inherit}.livelink-react-ui-component :where(input,textarea){caret-color:var(--3dverse-color-accent);&::selection{background-color:var(--3dverse-color-accent);color:var(--3dverse-color-content-primary-dark)}}.livelink-react-ui-component :where(*,*:before,*:after){box-sizing:border-box}[data-theme=light] .livelink-react-ui-component{color:var(--3dverse-color-content-primary)}.style-module__wrapper_8jv4Ha__032{background-color:color-mix(in srgb,var(--3dverse-color-bg-foreground) 85%,transparent);backdrop-filter:blur(34px);box-shadow:0 0 0 1px var(--3dverse-color-border-primary);border-radius:.5rem;display:flex}.style-module__container_nGfgUW__032{width:100%;height:100%;position:absolute;top:0;left:0}.style-module__overlay_nGfgUW__032{background-color:var(--3dverse-color-bg-underground);z-index:1;width:100%;height:100%;position:absolute;inset:0}.style-module__panelContainer_nGfgUW__032{z-index:2;display:flex;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.style-module__panel_nGfgUW__032{background-color:color-mix(in srgb,var(--3dverse-color-bg-ground) 20%,transparent);width:18rem;box-shadow:none;border-radius:9999px;flex-direction:column;padding:6px;animation:.3s ease-in-out style-module__appear-top_nGfgUW__032;display:flex}.style-module__inner_nGfgUW__032{text-align:center;padding:.85rem 0;position:relative}.style-module__startLine_nGfgUW__032{background-color:var(--3dverse-color-accent);border-radius:9999px;width:1px;height:.5rem;position:absolute;top:1px;left:50%;transform:translate(-50%,-50%)}.style-module__svgLine_nGfgUW__032{fill:none;width:100%;height:100%;position:absolute;top:50%;left:50%;overflow:visible;transform:translate(-50%,-50%)}.style-module__label_nGfgUW__032{color:var(--3dverse-color-content-primary);font-size:.875rem;font-weight:400;line-height:1.25rem}.style-module__timerLabel_nGfgUW__032{letter-spacing:.04em;color:var(--3dverse-color-content-secondary);margin-top:1px;font-size:.75rem;font-weight:400}.style-module__timer_nGfgUW__032{letter-spacing:.03em;font-variant-numeric:tabular-nums;color:var(--3dverse-color-accent)}@keyframes style-module__appear-top_nGfgUW__032{0%{translate:var(--translate-x, 0px) calc(calc(var(--translate-y, 0) * 1px) + var(--animation-appear-offset, 16px));opacity:0}to{translate:var(--translate-x, 0px) var(--translate-y, 0px);opacity:1}}.style-module__xs_8VcAhq__032{width:.65rem}.style-module__sm_8VcAhq__032{width:.85rem}.style-module__md_8VcAhq__032{width:1rem}.style-module__button_XePJ4q__032{cursor:pointer;border:1px solid #0000;border-radius:4px;justify-content:center;align-items:center;font-weight:500;transition:all .2s;display:inline-flex}.style-module__button_XePJ4q__032:disabled{opacity:.5;cursor:not-allowed}.style-module__ghost_XePJ4q__032{color:var(--3dverse-color-content-primary);background-color:#0000;border-color:#0000}.style-module__secondary_XePJ4q__032{color:var(--3dverse-color-content-primary);background-color:var(--3dverse-color-background-secondary);border-color:#0000}.style-module__outline_XePJ4q__032{color:var(--3dverse-color-content-primary);border-color:var(--3dverse-color-content-primary);background-color:#0000}.style-module__xs_XePJ4q__032{font-size:var(--3dverse-font-size-xs);padding:4px 8px}.style-module__sm_XePJ4q__032{font-size:var(--3dverse-font-size-sm);padding:6px 12px}.style-module__md_XePJ4q__032{font-size:var(--3dverse-font-size-md);padding:8px 16px}.style-module__iconButton_789LYW__032{padding:0}.style-module__xs_789LYW__032{padding:4px;font-size:12px}.style-module__sm_789LYW__032{padding:6px;font-size:14px}.style-module__md_789LYW__032{padding:8px;font-size:16px}.style-module__wrapper_49y43q__032{--tooltip-bg: var(--3dverse-color-content-primary);--tooltip-color: var(--3dverse-color-bg-underground);display:flex;position:relative}.style-module__tooltipContent_49y43q__032{padding:0 var(--3dverse-spacing-2);font-size:var(--3dverse-font-size-xs);white-space:nowrap;color:var(--tooltip-color);background-color:var(--tooltip-bg);box-shadow:var(--3dverse-shadow-lg);opacity:0;pointer-events:none;z-index:10;border-radius:4px;transition:opacity .2s,translate .2s;position:absolute;bottom:100%;left:50%;translate:-50% -.25rem}.style-module__wrapper_49y43q__032:hover .style-module__tooltipContent_49y43q__032,.style-module__wrapper_49y43q__032:focus-within .style-module__tooltipContent_49y43q__032{opacity:1;pointer-events:auto;translate:-50% -.5rem}.style-module__tooltipContent_49y43q__032:after{content:"";border-style:solid;border-width:4px;border-color:var(--tooltip-bg) transparent transparent transparent;position:absolute;top:100%;left:50%;translate:-50%}.style-module__spinner_NG8udW__032{width:var(--spinner-size, 1.25rem);height:var(--spinner-size, 1.25rem);border:1px solid #0000;border-top-color:var(--3dverse-color-accent);border-radius:9999px;animation:.8s linear infinite style-module__spin_NG8udW__032}@keyframes style-module__spin_NG8udW__032{to{transform:rotate(360deg)}}.style-module__wrapper_j6QF-q__032{cursor:pointer;user-select:none;align-items:center;gap:.5rem;display:inline-flex}.style-module__input_j6QF-q__032{opacity:0;pointer-events:none;position:absolute}.style-module__box_j6QF-q__032{width:var(--size);height:var(--size);border:1px solid var(--3dverse-color-border-primary);background-color:var(--3dverse-color-bg-overground);border-radius:3px;place-items:center;transition:all .2s;display:grid}.style-module__icon_j6QF-q__032{width:calc(var(--size) * .75);height:calc(var(--size) * .75);stroke:var(--3dverse-color-content-primary-dark);stroke-width:4px;stroke-linecap:round;stroke-linejoin:round;fill:none;transition:transform .2s;transform:scale(0)}.style-module__input_j6QF-q__032:checked+.style-module__box_j6QF-q__032 .style-module__icon_j6QF-q__032{transform:scale(1)}.style-module__input_j6QF-q__032:checked+.style-module__box_j6QF-q__032{border-color:var(--3dverse-color-accent);background:color-mix(in srgb,var(--3dverse-color-accent) 80%,transparent)}.style-module__labelText_j6QF-q__032{font-size:var(--3dverse-font-size-sm);color:var(--3dverse-color-content-secondary);transition:color .22s}.style-module__input_j6QF-q__032:checked+.style-module__labelText_j6QF-q__032{color:var(--3dverse-color-content-primary)}.style-module__xs_j6QF-q__032{--size: 12px}.style-module__xs_j6QF-q__032 .style-module__labelText_j6QF-q__032{font-size:var(--3dverse-font-size-2xs)}.style-module__sm_j6QF-q__032{--size: 16px}.style-module__md_j6QF-q__032{--size: 20px}.style-module__wrapper_zl_2Va__032{cursor:pointer;user-select:none;align-items:center;gap:.5rem;display:inline-flex}.style-module__switchInput_zl_2Va__032{opacity:0;pointer-events:none;position:absolute}.style-module__switchTrack_zl_2Va__032{--switch-padding: 2px;width:var(--switch-width);height:var(--switch-height);background-color:var(--3dverse-color-border-tertiary);border-radius:9999px;transition:background-color .25s;position:relative}.style-module__switchThumb_zl_2Va__032{top:var(--switch-padding);left:var(--switch-padding);width:calc(var(--switch-height) - var(--switch-padding) * 2);height:calc(var(--switch-height) - var(--switch-padding) * 2);background-color:var(--3dverse-color-content-primary);border-radius:50%;transition:transform .25s,background-color .25s;position:absolute}.style-module__switchInput_zl_2Va__032:checked+.style-module__switchTrack_zl_2Va__032{background-color:var(--3dverse-color-accent)}.style-module__switchInput_zl_2Va__032:checked+.style-module__switchTrack_zl_2Va__032 .style-module__switchThumb_zl_2Va__032{transform:translate(calc(var(--switch-width) - var(--switch-height)));background-color:var(--3dverse-color-bg-ground)}.style-module__switchInput_zl_2Va__032:disabled+.style-module__switchTrack_zl_2Va__032{mix-blend-mode:luminosity;opacity:.5;cursor:not-allowed}.style-module__xs_zl_2Va__032{--switch-height: 1rem;--switch-width: 1.75rem}.style-module__sm_zl_2Va__032{--switch-height: 1.25rem;--switch-width: 2.25rem}.style-module__md_zl_2Va__032{--switch-height: 1.5rem;--switch-width: 2.75rem}.style-module__input_tM-LSW__032{color:inherit;border:1px solid var(--3dverse-color-border-tertiary);border-radius:var(--3dverse-border-radius-md);background-color:#0000;transition:border-color .22s}.style-module__input_tM-LSW__032:hover{border-color:var(--3dverse-color-border-secondary);z-index:1}.style-module__input_tM-LSW__032:focus{border-color:var(--3dverse-color-accent);z-index:1}.style-module__input_tM-LSW__032:focus-visible{border-color:var(--3dverse-color-accent);z-index:1;outline:none}.style-module__input_tM-LSW__032:active{border-color:var(--3dverse-color-accent);z-index:1}.style-module__xs_tM-LSW__032{font-size:var(--3dverse-font-size-3xs);line-height:var(--3dverse-leading-tight);height:24px;padding:1px 2px}.style-module__sm_tM-LSW__032{font-size:var(--3dverse-font-size-xs);padding:6px 12px}.style-module__md_tM-LSW__032{font-size:var(--3dverse-font-size-md);padding:8px 16px}.style-module__inputs_5zQSDq__032{display:flex}.style-module__inputVector_5zQSDq__032{text-align:right;border-radius:0;flex-basis:33%;max-width:5rem;margin-left:-1px}.style-module__inputNumber_w_gnsq__032{text-align:right}.style-module__item_lJj5pq__032{border-top:1px solid var(--3dverse-color-border-tertiary-alpha)}.style-module__button_lJj5pq__032{display:flex}summary.style-module__button_lJj5pq__032{cursor:pointer}summary.style-module__button_lJj5pq__032::marker{display:none}.style-module__icon_lJj5pq__032{transition:transform .3s}.style-module__open_lJj5pq__032 .style-module__icon_lJj5pq__032{transform:rotate(90deg)}.style-module__panel_lJj5pq__032{animation:.25s style-module__fadeIn_lJj5pq__032}@keyframes style-module__fadeIn_lJj5pq__032{0%{opacity:0;translate:0 -4px}to{opacity:1;translate:0}}.style-module__container_OiyPSG__032{flex-direction:column;align-items:center;display:flex}.style-module__spinnerContainer_OiyPSG__032{padding-block:var(--3dverse-spacing-8);justify-content:center;align-items:center;display:flex}.style-module__innerContainer_OiyPSG__032{flex-direction:column;display:flex}.style-module__subCategory_OiyPSG__032{flex-grow:1;display:flex}.style-module__subCategoryHeader_OiyPSG__032{align-items:center;gap:var(--3dverse-spacing-2);flex-grow:1;display:flex}.style-module__subCategoryName_OiyPSG__032{font-size:var(--3dverse-font-size-xs);user-select:none;font-weight:500}.style-module__accordion_OiyPSG__032{border-top:1px solid var(--3dverse-color-border-tertiary-alpha)}.style-module__accordionButton_OiyPSG__032{width:100%;padding-inline:var(--3dverse-spacing-2);padding-block:var(--3dverse-spacing-1);color:var(--3dverse-color-content-tertiary)}.style-module__accordionPanel_OiyPSG__032{padding-bottom:var(--3dverse-spacing-2)}.style-module__formControl_OiyPSG__032{font-size:var(--3dverse-font-size-sm);border-radius:var(--3dverse-border-radius-sm);cursor:pointer;flex-direction:row;align-items:center;padding-right:3px;transition:background-color .22s;display:flex}.style-module__formControl_OiyPSG__032:hover,.style-module__formControl_OiyPSG__032:focus{background-color:var(--3dverse-color-bg-foreground)}.style-module__formLabel_OiyPSG__032{text-align:start;padding-inline:var(--3dverse-spacing-2);padding-block:var(--3dverse-spacing-1);font-size:var(--3dverse-font-size-xs);letter-spacing:.02em;text-transform:capitalize;text-overflow:ellipsis;-webkit-line-clamp:var(--line-clamp);--line-clamp: 1;cursor:pointer;user-select:none;-webkit-box-orient:vertical;flex-grow:1;display:-webkit-box;overflow:hidden}.style-module__formControlWrapper_OiyPSG__032{align-items:center;gap:var(--3dverse-spacing-2);flex-shrink:0;display:flex}.style-module__resetButton_OiyPSG__032{width:var(--3dverse-spacing-5);min-width:auto;color:var(--3dverse-color-content-tertiary)}.style-module__resetAllButton_OiyPSG__032{width:max-content;margin-inline:var(--3dverse-spacing-1);margin-right:var(--3dverse-spacing-2);align-self:end}.style-module__container_BHEzva__032{--size: 81px;flex-direction:column;align-items:center;display:flex}.style-module__circleShadow_BHEzva__032{width:var(--size);aspect-ratio:1;pointer-events:none;z-index:-10;border-radius:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:inset 0 0 10px #665ee160}.style-module__movingLightHint_BHEzva__032{width:var(--size);aspect-ratio:1;border:2px solid var(--3dverse-color-accent);filter:blur(2px);-webkit-mask-composite:destination-in;pointer-events:none;border-radius:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-mask-image:radial-gradient(circle,#000 20%,#0000 50%);mask-image:radial-gradient(circle,#000 20%,#0000 50%);-webkit-mask-position:-100px -100px;mask-position:-100px -100px;-webkit-mask-size:100%;mask-size:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-composite:source-in;mask-composite:intersect}.style-module__skeleton_BHEzva__032{aspect-ratio:1;background-color:var(--3dverse-color-bg-foreground);border-radius:50%;justify-content:center;align-items:center;margin:11px;animation:1.5s infinite style-module__pulseAnimation_BHEzva__032;display:flex}.style-module__skeleton_BHEzva__032 .style-module__icon_BHEzva__032{width:24px;height:24px;color:var(--3dverse-color-content-tertiary);stroke:var(--3dverse-color-bg-foreground);stroke-width:24px;opacity:.25}@keyframes style-module__pulseAnimation_BHEzva__032{0%,to{opacity:1}50%{opacity:.5}}.style-module__container_N2j2sa__032{justify-content:center;align-items:center;gap:var(--3dverse-spacing-3);background-color:var(--3dverse-color-bg-overground);flex-direction:column;width:100%;height:100%;display:flex;position:absolute}.style-module__glowEffectStyle_N2j2sa__032:before{content:"";aspect-ratio:1;mix-blend-mode:screen;background:radial-gradient(var(--3dverse-color-bg-overground),transparent);filter:blur(50px);pointer-events:none;z-index:0;border-radius:100%;width:150%;max-width:12rem;position:absolute;top:50%;left:50%;translate:-50% -50%}@media (width >= 80em){.style-module__glowEffectStyle_N2j2sa__032:before{max-width:18rem}}.style-module__logoContainer_N2j2sa__032{width:1.75rem;color:var(--3dverse-color-accent);filter:drop-shadow(0 18px 2px color-mix(in srgb,var(--3dverse-color-bg-ground) 50%,transparent))}@media (width >= 80em){.style-module__logoContainer_N2j2sa__032{width:2rem}}.style-module__loaderProgressBarIndeterminateContainer_N2j2sa__032{background-color:var(--3dverse-color-bg-foreground);border-radius:2rem;width:3rem;padding:7px 8px}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__032{background-color:var(--3dverse-color-bg-underground);border-radius:1rem;width:100%;height:1px;position:relative;overflow:hidden}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__032:before{content:"''";will-change:left;background-color:var(--3dverse-color-accent);border-radius:1px;min-width:50%;height:100%;animation:1s infinite style-module__loader-progress-bar-indeterminate_N2j2sa__032;position:absolute}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__032:after{content:"";will-change:left;background-color:var(--3dverse-color-accent);opacity:.4;border-radius:1px;min-width:75%;height:100%;animation:1.5s .25s infinite style-module__loader-progress-bar-indeterminate_N2j2sa__032;position:absolute}@keyframes style-module__loader-progress-bar-indeterminate_N2j2sa__032{0%{left:-40%}to{left:100%}}.style-module__label_N2j2sa__032{color:var(--3dverse-color-content-tertiary);font-size:var(--3dverse-font-size-xs);letter-spacing:.05em;user-select:none;font-weight:500}.style-module__gamepadCrossContainer_dqwhla__032{width:120px;height:120px;position:absolute;bottom:10%;right:0;transform:translate(-50%)}.style-module__gamepadButton_dqwhla__032{--btn-color: 170, 0, 0;background-color:rgba(var(--btn-color),.55);border-radius:25px;position:absolute}.style-module__gamepadButton_dqwhla__032:hover{background-color:rgba(var(--btn-color),.6)}.style-module__gamepadButton_dqwhla__032:active{background-color:rgba(var(--btn-color),1)}.style-module__redButtonColor_dqwhla__032{--btn-color: 170, 0, 0;top:50%;right:0;transform:translateY(-50%)}.style-module__blueButtonColor_dqwhla__032{--btn-color: 0, 0, 170;top:50%;left:0;transform:translateY(-50%)}.style-module__greenButtonColor_dqwhla__032{--btn-color: 0, 170, 0;bottom:0;left:50%;transform:translate(-50%)}.style-module__yellowButtonColor_dqwhla__032{--btn-color: 170, 170, 0;top:0;left:50%;transform:translate(-50%)}
`;globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"]="80c61df4974603c2d6b323713b64b99d";var Wz=Object.create,Hx=Object.defineProperty,tR=Object.getOwnPropertyDescriptor,eR=Object.getOwnPropertyNames,nR=Object.getPrototypeOf,iR=Object.prototype.hasOwnProperty,aR=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sR=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of eR(t))!iR.call(e,r)&&r!==n&&Hx(e,r,{get:()=>t[r],enumerable:!(a=tR(t,r))||a.enumerable});return e},rR=(e,t,n)=>(n=e!=null?Wz(nR(e)):{},sR(!e||!e.__esModule?Hx(n,"default",{value:e,enumerable:!0}):n,e)),oR=aR((e,t)=>{(function(n,a){typeof e=="object"&&typeof t=="object"?t.exports=a():typeof define=="function"&&define.amd?define("nipplejs",[],a):typeof e=="object"?e.nipplejs=a():n.nipplejs=a()})(window,function(){return function(n){var a={};function r(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return n[l].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=n,r.c=a,r.d=function(l,c,h){r.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:h})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,c){if(1&c&&(l=r(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var f in l)r.d(h,f,(function(d){return l[d]}).bind(null,f));return h},r.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(c,"a",c),c},r.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},r.p="",r(r.s=0)}([function(n,a,r){r.r(a);var l,c=function(S,R){var j=R.x-S.x,O=R.y-S.y;return Math.sqrt(j*j+O*O)},h=function(S){return S*(Math.PI/180)},f=function(S){return S*(180/Math.PI)},d=new Map,_=function(S){d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(S,100))},g=function(S,R,j){for(var O,N=R.split(/[ ,]+/g),et=0;et<N.length;et+=1)O=N[et],S.addEventListener?S.addEventListener(O,j,!1):S.attachEvent&&S.attachEvent(O,j)},v=function(S,R,j){for(var O,N=R.split(/[ ,]+/g),et=0;et<N.length;et+=1)O=N[et],S.removeEventListener?S.removeEventListener(O,j):S.detachEvent&&S.detachEvent(O,j)},b=function(S){return S.preventDefault(),S.type.match(/^touch/)?S.changedTouches:S},x=function(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},w=function(S,R){R.top||R.right||R.bottom||R.left?(S.style.top=R.top,S.style.right=R.right,S.style.bottom=R.bottom,S.style.left=R.left):(S.style.left=R.x+"px",S.style.top=R.y+"px")},E=function(S,R,j){var O=A(S);for(var N in O)if(O.hasOwnProperty(N))if(typeof R=="string")O[N]=R+" "+j;else{for(var et="",ht=0,ut=R.length;ht<ut;ht+=1)et+=R[ht]+" "+j+", ";O[N]=et.slice(0,-2)}return O},A=function(S){var R={};return R[S]="",["webkit","Moz","o"].forEach(function(j){R[j+S.charAt(0).toUpperCase()+S.slice(1)]=""}),R},U=function(S,R){for(var j in R)R.hasOwnProperty(j)&&(S[j]=R[j]);return S},B=function(S,R){if(S.length)for(var j=0,O=S.length;j<O;j+=1)R(S[j]);else R(S)},k="ontouchstart"in window,z=!!window.PointerEvent,C=!!window.MSPointerEvent,L={start:"mousedown",move:"mousemove",end:"mouseup"},Q={};function Z(){}z?l={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:C?l={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:k?(l={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},Q=L):l=L,Z.prototype.on=function(S,R){var j,O=S.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var N=0;N<O.length;N+=1)j=O[N],this._handlers_[j]=this._handlers_[j]||[],this._handlers_[j].push(R);return this},Z.prototype.off=function(S,R){return this._handlers_=this._handlers_||{},S===void 0?this._handlers_={}:R===void 0?this._handlers_[S]=null:this._handlers_[S]&&this._handlers_[S].indexOf(R)>=0&&this._handlers_[S].splice(this._handlers_[S].indexOf(R),1),this},Z.prototype.trigger=function(S,R){var j,O=this,N=S.split(/[ ,]+/g);O._handlers_=O._handlers_||{};for(var et=0;et<N.length;et+=1)j=N[et],O._handlers_[j]&&O._handlers_[j].length&&O._handlers_[j].forEach(function(ht){ht.call(O,{type:j,target:O},R)})},Z.prototype.config=function(S){this.options=this.defaults||{},S&&(this.options=function(R,j){var O={};for(var N in R)R.hasOwnProperty(N)&&j.hasOwnProperty(N)?O[N]=j[N]:R.hasOwnProperty(N)&&(O[N]=R[N]);return O}(this.options,S))},Z.prototype.bindEvt=function(S,R){var j=this;return j._domHandlers_=j._domHandlers_||{},j._domHandlers_[R]=function(){typeof j["on"+R]=="function"?j["on"+R].apply(j,arguments):console.warn('[WARNING] : Missing "on'+R+'" handler.')},g(S,l[R],j._domHandlers_[R]),Q[R]&&g(S,Q[R],j._domHandlers_[R]),j},Z.prototype.unbindEvt=function(S,R){return this._domHandlers_=this._domHandlers_||{},v(S,l[R],this._domHandlers_[R]),Q[R]&&v(S,Q[R],this._domHandlers_[R]),delete this._domHandlers_[R],this};var K=Z;function at(S,R){return this.identifier=R.identifier,this.position=R.position,this.frontPosition=R.frontPosition,this.collection=S,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(R),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=at.id,at.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}at.prototype=new K,at.constructor=at,at.id=0,at.prototype.buildEl=function(S){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},at.prototype.stylize=function(){if(this.options.dataOnly)return this;var S=this.options.fadeTime+"ms",R=function(N,et){var ht=A(N);for(var ut in ht)ht.hasOwnProperty(ut)&&(ht[ut]=et);return ht}("borderRadius","50%"),j=E("transition","opacity",S),O={};return O.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},O.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",left:0,marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},O.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",left:0,marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5",transform:"translate(0px, 0px)"},U(O.el,j),this.options.shape==="circle"&&U(O.back,R),U(O.front,R),this.applyStyles(O),this},at.prototype.applyStyles=function(S){for(var R in this.ui)if(this.ui.hasOwnProperty(R))for(var j in S[R])this.ui[R].style[j]=S[R][j];return this},at.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},at.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},at.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},at.prototype.show=function(S){var R=this;return R.options.dataOnly||(clearTimeout(R.removeTimeout),clearTimeout(R.showTimeout),clearTimeout(R.restTimeout),R.addToDom(),R.restCallback(),setTimeout(function(){R.ui.el.style.opacity=1},0),R.showTimeout=setTimeout(function(){R.trigger("shown",R.instance),typeof S=="function"&&S.call(this)},R.options.fadeTime)),R},at.prototype.hide=function(S){var R=this;if(R.options.dataOnly)return R;if(R.ui.el.style.opacity=R.options.restOpacity,clearTimeout(R.removeTimeout),clearTimeout(R.showTimeout),clearTimeout(R.restTimeout),R.removeTimeout=setTimeout(function(){var N=R.options.mode==="dynamic"?"none":"block";R.ui.el.style.display=N,typeof S=="function"&&S.call(R),R.trigger("hidden",R.instance)},R.options.fadeTime),R.options.restJoystick){var j=R.options.restJoystick,O={};O.x=j===!0||j.x!==!1?0:R.instance.frontPosition.x,O.y=j===!0||j.y!==!1?0:R.instance.frontPosition.y,R.setPosition(S,O)}return R},at.prototype.setPosition=function(S,R){var j=this;j.frontPosition={x:R.x,y:R.y};var O=j.options.fadeTime+"ms",N={};N.front=E("transition",["transform"],O);var et={front:{}};et.front={transform:"translate("+j.frontPosition.x+"px,"+j.frontPosition.y+"px)"},j.applyStyles(N),j.applyStyles(et),j.restTimeout=setTimeout(function(){typeof S=="function"&&S.call(j),j.restCallback()},j.options.fadeTime)},at.prototype.restCallback=function(){var S={};S.front=E("transition","none",""),this.applyStyles(S),this.trigger("rested",this.instance)},at.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},at.prototype.computeDirection=function(S){var R,j,O,N=S.angle.radian,et=Math.PI/4,ht=Math.PI/2;if(N>et&&N<3*et&&!S.lockX?R="up":N>-et&&N<=et&&!S.lockY?R="left":N>3*-et&&N<=-et&&!S.lockX?R="down":S.lockY||(R="right"),S.lockY||(j=N>-ht&&N<ht?"left":"right"),S.lockX||(O=N>0?"up":"down"),S.force>this.options.threshold){var ut,xt={};for(ut in this.direction)this.direction.hasOwnProperty(ut)&&(xt[ut]=this.direction[ut]);var pt={};for(ut in this.direction={x:j,y:O,angle:R},S.direction=this.direction,xt)xt[ut]===this.direction[ut]&&(pt[ut]=!0);if(pt.x&&pt.y&&pt.angle)return S;pt.x&&pt.y||this.trigger("plain",S),pt.x||this.trigger("plain:"+j,S),pt.y||this.trigger("plain:"+O,S),pt.angle||this.trigger("dir dir:"+R,S)}else this.resetDirection();return S};var st=at;function nt(S,R){this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=S,this.id=nt.id,nt.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},this.config(R),this.options.mode!=="static"&&this.options.mode!=="semi"||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1);var j=getComputedStyle(this.options.zone.parentElement);return j&&j.display==="flex"&&(this.parentIsFlex=!0),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}nt.prototype=new K,nt.constructor=nt,nt.id=0,nt.prototype.prepareNipples=function(){var S=this.nipples;S.on=this.on.bind(this),S.off=this.off.bind(this),S.options=this.options,S.destroy=this.destroy.bind(this),S.ids=this.ids,S.id=this.id,S.processOnMove=this.processOnMove.bind(this),S.processOnEnd=this.processOnEnd.bind(this),S.get=function(R){if(R===void 0)return S[0];for(var j=0,O=S.length;j<O;j+=1)if(S[j].identifier===R)return S[j];return!1}},nt.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},nt.prototype.begin=function(){var S=this.options;if(S.mode==="static"){var R=this.createNipple(S.position,this.manager.getIdentifier());R.add(),this.idles.push(R)}},nt.prototype.createNipple=function(S,R){var j=this.manager.scroll,O={},N=this.options,et=this.parentIsFlex?j.x:j.x+this.box.left,ht=this.parentIsFlex?j.y:j.y+this.box.top;if(S.x&&S.y)O={x:S.x-et,y:S.y-ht};else if(S.top||S.right||S.bottom||S.left){var ut=document.createElement("DIV");ut.style.display="hidden",ut.style.top=S.top,ut.style.right=S.right,ut.style.bottom=S.bottom,ut.style.left=S.left,ut.style.position="absolute",N.zone.appendChild(ut);var xt=ut.getBoundingClientRect();N.zone.removeChild(ut),O=S,S={x:xt.left+j.x,y:xt.top+j.y}}var pt=new st(this,{color:N.color,size:N.size,threshold:N.threshold,fadeTime:N.fadeTime,dataOnly:N.dataOnly,restJoystick:N.restJoystick,restOpacity:N.restOpacity,mode:N.mode,identifier:R,position:S,zone:N.zone,frontPosition:{x:0,y:0},shape:N.shape});return N.dataOnly||(w(pt.ui.el,O),w(pt.ui.front,pt.frontPosition)),this.nipples.push(pt),this.trigger("added "+pt.identifier+":added",pt),this.manager.trigger("added "+pt.identifier+":added",pt),this.bindNipple(pt),pt},nt.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},nt.prototype.bindNipple=function(S){var R,j=this,O=function(N,et){R=N.type+" "+et.id+":"+N.type,j.trigger(R,et)};S.on("destroyed",j.onDestroyed.bind(j)),S.on("shown hidden rested dir plain",O),S.on("dir:up dir:right dir:down dir:left",O),S.on("plain:up plain:right plain:down plain:left",O)},nt.prototype.pressureFn=function(S,R,j){var O=this,N=0;clearInterval(O.pressureIntervals[j]),O.pressureIntervals[j]=setInterval((function(){var et=S.force||S.pressure||S.webkitForce||0;et!==N&&(R.trigger("pressure",et),O.trigger("pressure "+R.identifier+":pressure",et),N=et)}).bind(O),100)},nt.prototype.onstart=function(S){var R=this,j=R.options,O=S;return S=b(S),R.updateBox(),B(S,function(N){R.actives.length<j.maxNumberOfNipples?R.processOnStart(N):O.type.match(/^touch/)&&(Object.keys(R.manager.ids).forEach(function(et){if(Object.values(O.touches).findIndex(function(ut){return ut.identifier===et})<0){var ht=[S[0]];ht.identifier=et,R.processOnEnd(ht)}}),R.actives.length<j.maxNumberOfNipples&&R.processOnStart(N))}),R.manager.bindDocument(),!1},nt.prototype.processOnStart=function(S){var R,j=this,O=j.options,N=j.manager.getIdentifier(S),et=S.force||S.pressure||S.webkitForce||0,ht={x:S.pageX,y:S.pageY},ut=j.getOrCreate(N,ht);ut.identifier!==N&&j.manager.removeIdentifier(ut.identifier),ut.identifier=N;var xt=function(pt){pt.trigger("start",pt),j.trigger("start "+pt.id+":start",pt),pt.show(),et>0&&j.pressureFn(S,pt,pt.identifier),j.processOnMove(S)};if((R=j.idles.indexOf(ut))>=0&&j.idles.splice(R,1),j.actives.push(ut),j.ids.push(ut.identifier),O.mode!=="semi")xt(ut);else{if(!(c(ht,ut.position)<=O.catchDistance))return ut.destroy(),void j.processOnStart(S);xt(ut)}return ut},nt.prototype.getOrCreate=function(S,R){var j,O=this.options;return/(semi|static)/.test(O.mode)?(j=this.idles[0])?(this.idles.splice(0,1),j):O.mode==="semi"?this.createNipple(R,S):(console.warn("Coudln't find the needed nipple."),!1):j=this.createNipple(R,S)},nt.prototype.processOnMove=function(S){var R=this.options,j=this.manager.getIdentifier(S),O=this.nipples.get(j),N=this.manager.scroll;if(function(pn){return isNaN(pn.buttons)?pn.pressure!==0:pn.buttons!==0}(S)){if(!O)return console.error("Found zombie joystick with ID "+j),void this.manager.removeIdentifier(j);if(R.dynamicPage){var et=O.el.getBoundingClientRect();O.position={x:N.x+et.left,y:N.y+et.top}}O.identifier=j;var ht=O.options.size/2,ut={x:S.pageX,y:S.pageY};R.lockX&&(ut.y=O.position.y),R.lockY&&(ut.x=O.position.x);var xt,pt,Se,Pt,Ze,Ln,ti,gi,vi,bi,ei=c(ut,O.position),Vi=(xt=ut,pt=O.position,Se=pt.x-xt.x,Pt=pt.y-xt.y,f(Math.atan2(Pt,Se))),an=h(Vi),Ol=ei/ht,dr={distance:ei,position:ut};if(O.options.shape==="circle"?(Ze=Math.min(ei,ht),ti=O.position,gi=Ze,bi={x:0,y:0},vi=h(vi=Vi),bi.x=ti.x-gi*Math.cos(vi),bi.y=ti.y-gi*Math.sin(vi),Ln=bi):(Ln=function(pn,kn,Ee){return{x:Math.min(Math.max(pn.x,kn.x-Ee),kn.x+Ee),y:Math.min(Math.max(pn.y,kn.y-Ee),kn.y+Ee)}}(ut,O.position,ht),Ze=c(Ln,O.position)),R.follow){if(ei>ht){var Nn=ut.x-Ln.x,qn=ut.y-Ln.y;O.position.x+=Nn,O.position.y+=qn,O.el.style.top=O.position.y-(this.box.top+N.y)+"px",O.el.style.left=O.position.x-(this.box.left+N.x)+"px",ei=c(ut,O.position)}}else ut=Ln,ei=Ze;var ws=ut.x-O.position.x,Ta=ut.y-O.position.y;O.frontPosition={x:ws,y:Ta},R.dataOnly||(O.ui.front.style.transform="translate("+ws+"px,"+Ta+"px)");var ji={identifier:O.identifier,position:ut,force:Ol,pressure:S.force||S.pressure||S.webkitForce||0,distance:ei,angle:{radian:an,degree:Vi},vector:{x:ws/ht,y:-Ta/ht},raw:dr,instance:O,lockX:R.lockX,lockY:R.lockY};(ji=O.computeDirection(ji)).angle={radian:h(180-Vi),degree:180-Vi},O.trigger("move",ji),this.trigger("move "+O.id+":move",ji)}else this.processOnEnd(S)},nt.prototype.processOnEnd=function(S){var R=this,j=R.options,O=R.manager.getIdentifier(S),N=R.nipples.get(O),et=R.manager.removeIdentifier(N.identifier);N&&(j.dataOnly||N.hide(function(){j.mode==="dynamic"&&(N.trigger("removed",N),R.trigger("removed "+N.id+":removed",N),R.manager.trigger("removed "+N.id+":removed",N),N.destroy())}),clearInterval(R.pressureIntervals[N.identifier]),N.resetDirection(),N.trigger("end",N),R.trigger("end "+N.id+":end",N),R.ids.indexOf(N.identifier)>=0&&R.ids.splice(R.ids.indexOf(N.identifier),1),R.actives.indexOf(N)>=0&&R.actives.splice(R.actives.indexOf(N),1),/(semi|static)/.test(j.mode)?R.idles.push(N):R.nipples.indexOf(N)>=0&&R.nipples.splice(R.nipples.indexOf(N),1),R.manager.unbindDocument(),/(semi|static)/.test(j.mode)&&(R.manager.ids[et.id]=et.identifier))},nt.prototype.onDestroyed=function(S,R){this.nipples.indexOf(R)>=0&&this.nipples.splice(this.nipples.indexOf(R),1),this.actives.indexOf(R)>=0&&this.actives.splice(this.actives.indexOf(R),1),this.idles.indexOf(R)>=0&&this.idles.splice(this.idles.indexOf(R),1),this.ids.indexOf(R.identifier)>=0&&this.ids.splice(this.ids.indexOf(R.identifier),1),this.manager.removeIdentifier(R.identifier),this.manager.unbindDocument()},nt.prototype.destroy=function(){for(var S in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(R){R.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(S)&&clearInterval(this.pressureIntervals[S]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var rt=nt;function _t(S){var R=this;R.ids={},R.index=0,R.collections=[],R.scroll=x(),R.config(S),R.prepareCollections();var j=function(){var N;R.collections.forEach(function(et){et.forEach(function(ht){N=ht.el.getBoundingClientRect(),ht.position={x:R.scroll.x+N.left,y:R.scroll.y+N.top}})})};g(window,"resize",function(){_(j)});var O=function(){R.scroll=x()};return g(window,"scroll",function(){_(O)}),R.collections}_t.prototype=new K,_t.constructor=_t,_t.prototype.prepareCollections=function(){var S=this;S.collections.create=S.create.bind(S),S.collections.on=S.on.bind(S),S.collections.off=S.off.bind(S),S.collections.destroy=S.destroy.bind(S),S.collections.get=function(R){var j;return S.collections.every(function(O){return!(j=O.get(R))}),j}},_t.prototype.create=function(S){return this.createCollection(S)},_t.prototype.createCollection=function(S){var R=new rt(this,S);return this.bindCollection(R),this.collections.push(R),R},_t.prototype.bindCollection=function(S){var R,j=this,O=function(N,et){R=N.type+" "+et.id+":"+N.type,j.trigger(R,et)};S.on("destroyed",j.onDestroyed.bind(j)),S.on("shown hidden rested dir plain",O),S.on("dir:up dir:right dir:down dir:left",O),S.on("plain:up plain:right plain:down plain:left",O)},_t.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},_t.prototype.unbindDocument=function(S){Object.keys(this.ids).length&&S!==!0||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},_t.prototype.getIdentifier=function(S){var R;return S?(R=S.identifier===void 0?S.pointerId:S.identifier)===void 0&&(R=this.latest||0):R=this.index,this.ids[R]===void 0&&(this.ids[R]=this.index,this.index+=1),this.latest=R,this.ids[R]},_t.prototype.removeIdentifier=function(S){var R={};for(var j in this.ids)if(this.ids[j]===S){R.id=j,R.identifier=this.ids[j],delete this.ids[j];break}return R},_t.prototype.onmove=function(S){return this.onAny("move",S),!1},_t.prototype.onend=function(S){return this.onAny("end",S),!1},_t.prototype.oncancel=function(S){return this.onAny("end",S),!1},_t.prototype.onAny=function(S,R){var j,O=this,N="processOn"+S.charAt(0).toUpperCase()+S.slice(1);return R=b(R),B(R,function(et){j=O.getIdentifier(et),B(O.collections,(function(ht,ut,xt){xt.ids.indexOf(ut)>=0&&(xt[N](ht),ht._found_=!0)}).bind(null,et,j)),et._found_||O.removeIdentifier(j)}),!1},_t.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(S){S.destroy()}),this.off()},_t.prototype.onDestroyed=function(S,R){if(this.collections.indexOf(R)<0)return!1;this.collections.splice(this.collections.indexOf(R),1)};var Y=new _t;a.default={create:function(S){return Y.create(S)},factory:Y}}]).default})}),lR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],gv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],uR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+gv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+gv;let n=globalThis.document.createTextNode(lR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({wrapper:"style-module__wrapper_8jv4Ha__032"},{get:function(e,t){return uR(),e[t]}});var cR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],vv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],hR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+vv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+vv;let n=globalThis.document.createTextNode(cR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({appearTop:"style-module__appear-top_nGfgUW__032",container:"style-module__container_nGfgUW__032",inner:"style-module__inner_nGfgUW__032",label:"style-module__label_nGfgUW__032",overlay:"style-module__overlay_nGfgUW__032",panel:"style-module__panel_nGfgUW__032",panelContainer:"style-module__panelContainer_nGfgUW__032",startLine:"style-module__startLine_nGfgUW__032",svgLine:"style-module__svgLine_nGfgUW__032",timer:"style-module__timer_nGfgUW__032",timerLabel:"style-module__timerLabel_nGfgUW__032"},{get:function(e,t){return hR(),e[t]}});function Vx(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Vx(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function fR(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Vx(e))&&(a&&(a+=" "),a+=t);return a}var dR=fR,mR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],bv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],_R=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+bv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+bv;let n=globalThis.document.createTextNode(mR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({md:"style-module__md_8VcAhq__032",sm:"style-module__sm_8VcAhq__032",xs:"style-module__xs_8VcAhq__032"},{get:function(e,t){return _R(),e[t]}});var pR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],xv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],yR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+xv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+xv;let n=globalThis.document.createTextNode(pR);t.appendChild(n),e.appendChild(t)}},0)},P_=new Proxy({button:"style-module__button_XePJ4q__032",ghost:"style-module__ghost_XePJ4q__032",md:"style-module__md_XePJ4q__032",outline:"style-module__outline_XePJ4q__032",secondary:"style-module__secondary_XePJ4q__032",sm:"style-module__sm_XePJ4q__032",xs:"style-module__xs_XePJ4q__032"},{get:function(e,t){return yR(),e[t]}}),df=({variant:e="ghost",size:t="md",className:n,children:a,...r})=>St.createElement("button",{className:dR(P_.button,P_[e],P_[t],n),...r},a),gR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Ev=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],vR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Ev);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Ev;let n=globalThis.document.createTextNode(gR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({iconButton:"style-module__iconButton_789LYW__032",md:"style-module__md_789LYW__032",sm:"style-module__sm_789LYW__032",xs:"style-module__xs_789LYW__032"},{get:function(e,t){return vR(),e[t]}});var bR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],wv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],xR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+wv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+wv;let n=globalThis.document.createTextNode(bR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({tooltipContent:"style-module__tooltipContent_49y43q__032",wrapper:"style-module__wrapper_49y43q__032"},{get:function(e,t){return xR(),e[t]}});var ER=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Tv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],wR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Tv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Tv;let n=globalThis.document.createTextNode(ER);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({spin:"style-module__spin_NG8udW__032",spinner:"style-module__spinner_NG8udW__032"},{get:function(e,t){return wR(),e[t]}});var TR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Mv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],MR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Mv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Mv;let n=globalThis.document.createTextNode(TR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({box:"style-module__box_j6QF-q__032",icon:"style-module__icon_j6QF-q__032",input:"style-module__input_j6QF-q__032",labelText:"style-module__labelText_j6QF-q__032",md:"style-module__md_j6QF-q__032",sm:"style-module__sm_j6QF-q__032",wrapper:"style-module__wrapper_j6QF-q__032",xs:"style-module__xs_j6QF-q__032"},{get:function(e,t){return MR(),e[t]}});var SR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Sv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],AR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Sv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Sv;let n=globalThis.document.createTextNode(SR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({md:"style-module__md_zl_2Va__032",sm:"style-module__sm_zl_2Va__032",switchInput:"style-module__switchInput_zl_2Va__032",switchThumb:"style-module__switchThumb_zl_2Va__032",switchTrack:"style-module__switchTrack_zl_2Va__032",wrapper:"style-module__wrapper_zl_2Va__032",xs:"style-module__xs_zl_2Va__032"},{get:function(e,t){return AR(),e[t]}});var OR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Av=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],zR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Av);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Av;let n=globalThis.document.createTextNode(OR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({input:"style-module__input_tM-LSW__032",md:"style-module__md_tM-LSW__032",sm:"style-module__sm_tM-LSW__032",xs:"style-module__xs_tM-LSW__032"},{get:function(e,t){return zR(),e[t]}});var RR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Ov=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],CR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Ov);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Ov;let n=globalThis.document.createTextNode(RR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({inputVector:"style-module__inputVector_5zQSDq__032",inputs:"style-module__inputs_5zQSDq__032"},{get:function(e,t){return CR(),e[t]}});var DR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],zv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],UR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+zv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+zv;let n=globalThis.document.createTextNode(DR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({inputNumber:"style-module__inputNumber_w_gnsq__032"},{get:function(e,t){return UR(),e[t]}});var LR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Rv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],NR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Rv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Rv;let n=globalThis.document.createTextNode(LR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({button:"style-module__button_lJj5pq__032",fadeIn:"style-module__fadeIn_lJj5pq__032",icon:"style-module__icon_lJj5pq__032",item:"style-module__item_lJj5pq__032",open:"style-module__open_lJj5pq__032",panel:"style-module__panel_lJj5pq__032"},{get:function(e,t){return NR(),e[t]}});var qR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Cv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],kR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Cv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Cv;let n=globalThis.document.createTextNode(qR);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({accordion:"style-module__accordion_OiyPSG__032",accordionButton:"style-module__accordionButton_OiyPSG__032",accordionPanel:"style-module__accordionPanel_OiyPSG__032",container:"style-module__container_OiyPSG__032",formControl:"style-module__formControl_OiyPSG__032",formControlWrapper:"style-module__formControlWrapper_OiyPSG__032",formLabel:"style-module__formLabel_OiyPSG__032",innerContainer:"style-module__innerContainer_OiyPSG__032",resetAllButton:"style-module__resetAllButton_OiyPSG__032",resetButton:"style-module__resetButton_OiyPSG__032",spinnerContainer:"style-module__spinnerContainer_OiyPSG__032",subCategory:"style-module__subCategory_OiyPSG__032",subCategoryHeader:"style-module__subCategoryHeader_OiyPSG__032",subCategoryName:"style-module__subCategoryName_OiyPSG__032"},{get:function(e,t){return kR(),e[t]}});var BR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Dv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],HR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Dv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Dv;let n=globalThis.document.createTextNode(BR);t.appendChild(n),e.appendChild(t)}},0)},VR=new Proxy({circleShadow:"style-module__circleShadow_BHEzva__032",container:"style-module__container_BHEzva__032",icon:"style-module__icon_BHEzva__032",movingLightHint:"style-module__movingLightHint_BHEzva__032",pulseAnimation:"style-module__pulseAnimation_BHEzva__032",skeleton:"style-module__skeleton_BHEzva__032"},{get:function(e,t){return HR(),e[t]}});mt.forwardRef((e,t)=>St.createElement("div",{ref:t,className:VR.movingLightHint,role:"presentation"}));var jR=()=>St.createElement("svg",{viewBox:"0 0 40 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{d:"m.007 27.319 12.303 12.03V55.32L0 43.28l.007-15.962Z",fill:"url(#3dverse-logo-rocket-dark_gradient1)"}),St.createElement("path",{d:"M39.993 27.319 27.69 39.349V55.32L40 43.28l-.007-15.962Z",fill:"url(#3dverse-logo-rocket-dark_gradient2)"}),St.createElement("path",{d:"M33.257 18.356v-5.668c0-16.917-26.514-16.917-26.514 0v5.679L0 27.319V43.28l12.743-15.97v7.055l7.256 7.096 7.258-7.096V27.31L40 43.28V27.31l-6.743-8.955Zm-9.081.01h-8.352V12.44c0-5.973 8.352-5.973 8.352 0v5.927Z",fill:"currentColor"}),St.createElement("defs",null,St.createElement("linearGradient",{id:"3dverse-logo-rocket-dark_gradient1",x1:"-.64",y1:"29.494",x2:"17.183",y2:"60.499",gradientUnits:"userSpaceOnUse"},St.createElement("stop",{offset:".34",stopColor:"currentColor",stopOpacity:".7"}),St.createElement("stop",{offset:".96",stopColor:"currentColor",stopOpacity:".1"})),St.createElement("linearGradient",{id:"3dverse-logo-rocket-dark_gradient2",x1:"34.233",y1:"22.311",x2:"8.55",y2:"47.994",gradientUnits:"userSpaceOnUse"},St.createElement("stop",{offset:".34",stopColor:"currentColor",stopOpacity:".7"}),St.createElement("stop",{offset:".96",stopColor:"currentColor",stopOpacity:".1"})))),FR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Uv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],PR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Uv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Uv;let n=globalThis.document.createTextNode(FR);t.appendChild(n),e.appendChild(t)}},0)},oo=new Proxy({container:"style-module__container_N2j2sa__032",glowEffectStyle:"style-module__glowEffectStyle_N2j2sa__032",label:"style-module__label_N2j2sa__032",loaderProgressBarIndeterminate:"style-module__loader-progress-bar-indeterminate_N2j2sa__032",loaderProgressBarIndeterminateContainer:"style-module__loaderProgressBarIndeterminateContainer_N2j2sa__032",loaderProgressBarIndeterminateTrack:"style-module__loaderProgressBarIndeterminateTrack_N2j2sa__032",logoContainer:"style-module__logoContainer_N2j2sa__032"},{get:function(e,t){return PR(),e[t]}}),YR=({stage:e="Connecting to 3dverse..."})=>St.createElement("div",{className:`${oo.container} ${oo.glowEffectStyle} livelink-react-ui-component`},St.createElement("div",{className:oo.logoContainer},St.createElement(jR,null)),St.createElement("div",{className:oo.loaderProgressBarIndeterminateContainer,role:"progressbar"},St.createElement("div",{className:oo.loaderProgressBarIndeterminateTrack})),e&&St.createElement("p",{className:oo.label},e)),XR=rR(oR()),Lv=({options:e,onStart:t,onMove:n,onEnd:a})=>{let[r,l]=mt.useState(null);return mt.useEffect(()=>{let c=GR(e);return l(c),()=>{c.destroy(),l(null)}},[e]),Y_(r,"start",t),Y_(r,"move",n),Y_(r,"end",a),null};function Y_(e,t,n){mt.useEffect(()=>{if(!n||!e)return;let a=(r,l)=>{n(l)};return e.on(t,a),()=>{e.off(t,a)}},[e,t,n])}function GR(e){let t={};return e&&(t={...e},e.container&&(t.zone=e.container),e.isHidden!==void 0&&(t.dataOnly=e.isHidden)),XR.default.create(t)}var ZR=globalThis["__css-content-80c61df4974603c2d6b323713b64b99d__"],Nv=globalThis["__css-digest-80c61df4974603c2d6b323713b64b99d__"],QR=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+Nv);if(!t){t=globalThis.document.createElement("style"),t.id="_"+Nv;let n=globalThis.document.createTextNode(ZR);t.appendChild(n),e.appendChild(t)}},0)},la=new Proxy({blueButtonColor:"style-module__blueButtonColor_dqwhla__032",gamepadButton:"style-module__gamepadButton_dqwhla__032",gamepadCrossContainer:"style-module__gamepadCrossContainer_dqwhla__032",greenButtonColor:"style-module__greenButtonColor_dqwhla__032",redButtonColor:"style-module__redButtonColor_dqwhla__032",yellowButtonColor:"style-module__yellowButtonColor_dqwhla__032"},{get:function(e,t){return QR(),e[t]}}),$R=()=>{let{instance:e}=mt.useContext(Es),t=mt.useRef(null),n=mt.useRef(null),a=mt.useRef(null);mt.useEffect(()=>{e&&(t.current=e.devices.gamepads_registry.createVirtualGamepad())},[e]);let r=mt.useCallback(_=>g=>{let v=t.current;if(!v)return;let{x:b,y:x}=g.vector;v.setJoystick({joystick:_,value:[-b,-x]})},[]),l=mt.useCallback(_=>()=>{let g=t.current;g&&g.setJoystick({joystick:_,value:[0,0]})},[]),c=mt.useCallback(_=>g=>{g.preventDefault();let v=t.current;v&&v.setButton({button:_,isPressed:!0})},[]),h=mt.useCallback(_=>()=>{let g=t.current;g&&g.setButton({button:_,isPressed:!1})},[]),f=mt.useCallback(_=>g=>{g.preventDefault();let v=t.current;v&&v.setAxis({axis:_,value:1})},[]),d=mt.useCallback(_=>()=>{let g=t.current;g&&g.setAxis({axis:_,value:0})},[]);return e?St.createElement(St.Fragment,null,St.createElement("div",{ref:n,style:{width:"50%",height:"100%"}},n.current&&St.createElement(Lv,{options:{container:n.current,mode:"static",position:{left:"15%",bottom:"15%"},color:"orange",size:100},onMove:r(co.Left),onEnd:l(co.Left)})),St.createElement("div",{ref:a,style:{position:"absolute",top:0,right:0,width:"50%",height:"100%"}},a.current&&St.createElement(Lv,{options:{container:a.current,color:"lime",size:100,mode:"dynamic"},onMove:r(co.Right),onEnd:l(co.Right)})),St.createElement("div",{className:`${la.gamepadCrossContainer}`},St.createElement(df,{className:`${la.gamepadButton} ${la.greenButtonColor}`,onPointerDown:c(Jh.A),onPointerUp:h(Jh.A)},"A"),St.createElement(df,{className:`${la.gamepadButton} ${la.yellowButtonColor}`,onPointerDown:c(Jh.Y),onPointerUp:h(Jh.Y)},"Y"),St.createElement(df,{className:`${la.gamepadButton} ${la.blueButtonColor}`,onPointerDown:f(fe.LeftTrigger),onPointerUp:d(fe.LeftTrigger)},"LT"),St.createElement(df,{className:`${la.gamepadButton} ${la.redButtonColor}`,onPointerDown:f(fe.RightTrigger),onPointerUp:d(fe.RightTrigger)},"RT"))):null};typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-react-ui")?console.warn(" WARNING  Multiple instances of Livelink React UI being imported."):window.__LIVELINK__["@3dverse/livelink-react-ui"]="0.3.2");function jx(e,t,n){return Math.max(t,Math.min(n,e))}class Gs{constructor(t=0,n=0,a=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=a,this._w=r}static slerpFlat(t,n,a,r,l,c,h){let f=a[r+0],d=a[r+1],_=a[r+2],g=a[r+3];const v=l[c+0],b=l[c+1],x=l[c+2],w=l[c+3];if(h===0){t[n+0]=f,t[n+1]=d,t[n+2]=_,t[n+3]=g;return}if(h===1){t[n+0]=v,t[n+1]=b,t[n+2]=x,t[n+3]=w;return}if(g!==w||f!==v||d!==b||_!==x){let E=1-h;const A=f*v+d*b+_*x+g*w,U=A>=0?1:-1,B=1-A*A;if(B>Number.EPSILON){const z=Math.sqrt(B),C=Math.atan2(z,A*U);E=Math.sin(E*C)/z,h=Math.sin(h*C)/z}const k=h*U;if(f=f*E+v*k,d=d*E+b*k,_=_*E+x*k,g=g*E+w*k,E===1-h){const z=1/Math.sqrt(f*f+d*d+_*_+g*g);f*=z,d*=z,_*=z,g*=z}}t[n]=f,t[n+1]=d,t[n+2]=_,t[n+3]=g}static multiplyQuaternionsFlat(t,n,a,r,l,c){const h=a[r],f=a[r+1],d=a[r+2],_=a[r+3],g=l[c],v=l[c+1],b=l[c+2],x=l[c+3];return t[n]=h*x+_*g+f*b-d*v,t[n+1]=f*x+_*v+d*g-h*b,t[n+2]=d*x+_*b+h*v-f*g,t[n+3]=_*x-h*g-f*v-d*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,a,r){return this._x=t,this._y=n,this._z=a,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){const a=t._x,r=t._y,l=t._z,c=t._order,h=Math.cos,f=Math.sin,d=h(a/2),_=h(r/2),g=h(l/2),v=f(a/2),b=f(r/2),x=f(l/2);switch(c){case"XYZ":this._x=v*_*g+d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g-v*b*x;break;case"YXZ":this._x=v*_*g+d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g+v*b*x;break;case"ZXY":this._x=v*_*g-d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g-v*b*x;break;case"ZYX":this._x=v*_*g-d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g+v*b*x;break;case"YZX":this._x=v*_*g+d*b*x,this._y=d*b*g+v*_*x,this._z=d*_*x-v*b*g,this._w=d*_*g-v*b*x;break;case"XZY":this._x=v*_*g-d*b*x,this._y=d*b*g-v*_*x,this._z=d*_*x+v*b*g,this._w=d*_*g+v*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const a=n/2,r=Math.sin(a);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,a=n[0],r=n[4],l=n[8],c=n[1],h=n[5],f=n[9],d=n[2],_=n[6],g=n[10],v=a+h+g;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(_-f)*b,this._y=(l-d)*b,this._z=(c-r)*b}else if(a>h&&a>g){const b=2*Math.sqrt(1+a-h-g);this._w=(_-f)/b,this._x=.25*b,this._y=(r+c)/b,this._z=(l+d)/b}else if(h>g){const b=2*Math.sqrt(1+h-a-g);this._w=(l-d)/b,this._x=(r+c)/b,this._y=.25*b,this._z=(f+_)/b}else{const b=2*Math.sqrt(1+g-a-h);this._w=(c-r)/b,this._x=(l+d)/b,this._y=(f+_)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let a=t.dot(n)+1;return a<Number.EPSILON?(a=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=a):(this._x=0,this._y=-t.z,this._z=t.y,this._w=a)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=a),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(jx(this.dot(t),-1,1)))}rotateTowards(t,n){const a=this.angleTo(t);if(a===0)return this;const r=Math.min(1,n/a);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const a=t._x,r=t._y,l=t._z,c=t._w,h=n._x,f=n._y,d=n._z,_=n._w;return this._x=a*_+c*h+r*d-l*f,this._y=r*_+c*f+l*h-a*d,this._z=l*_+c*d+a*f-r*h,this._w=c*_-a*h-r*f-l*d,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const a=this._x,r=this._y,l=this._z,c=this._w;let h=c*t._w+a*t._x+r*t._y+l*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=c,this._x=a,this._y=r,this._z=l,this;const f=1-h*h;if(f<=Number.EPSILON){const b=1-n;return this._w=b*c+n*this._w,this._x=b*a+n*this._x,this._y=b*r+n*this._y,this._z=b*l+n*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),_=Math.atan2(d,h),g=Math.sin((1-n)*_)/d,v=Math.sin(n*_)/d;return this._w=c*g+this._w*v,this._x=a*g+this._x*v,this._y=r*g+this._y*v,this._z=l*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,n,a){return this.copy(t).slerp(n,a)}random(){const t=Math.random(),n=Math.sqrt(1-t),a=Math.sqrt(t),r=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(n*Math.cos(r),a*Math.sin(l),a*Math.cos(l),n*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class en{constructor(t=0,n=0,a=0){en.prototype.isVector3=!0,this.x=t,this.y=n,this.z=a}set(t,n,a){return a===void 0&&(a=this.z),this.x=t,this.y=n,this.z=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(qv.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(qv.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,a=this.y,r=this.z,l=t.elements;return this.x=l[0]*n+l[3]*a+l[6]*r,this.y=l[1]*n+l[4]*a+l[7]*r,this.z=l[2]*n+l[5]*a+l[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,a=this.y,r=this.z,l=t.elements,c=1/(l[3]*n+l[7]*a+l[11]*r+l[15]);return this.x=(l[0]*n+l[4]*a+l[8]*r+l[12])*c,this.y=(l[1]*n+l[5]*a+l[9]*r+l[13])*c,this.z=(l[2]*n+l[6]*a+l[10]*r+l[14])*c,this}applyQuaternion(t){const n=this.x,a=this.y,r=this.z,l=t.x,c=t.y,h=t.z,f=t.w,d=f*n+c*r-h*a,_=f*a+h*n-l*r,g=f*r+l*a-c*n,v=-l*n-c*a-h*r;return this.x=d*f+v*-l+_*-h-g*-c,this.y=_*f+v*-c+g*-l-d*-h,this.z=g*f+v*-h+d*-c-_*-l,this}transformDirection(t){const n=this.x,a=this.y,r=this.z,l=t.elements;return this.x=l[0]*n+l[4]*a+l[8]*r,this.y=l[1]*n+l[5]*a+l[9]*r,this.z=l[2]*n+l[6]*a+l[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(t,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,a){return this.x=t.x+(n.x-t.x)*a,this.y=t.y+(n.y-t.y)*a,this.z=t.z+(n.z-t.z)*a,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const a=t.x,r=t.y,l=t.z,c=n.x,h=n.y,f=n.z;return this.x=r*f-l*h,this.y=l*c-a*f,this.z=a*h-r*c,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const a=t.dot(this)/n;return this.copy(t).multiplyScalar(a)}projectOnPlane(t){return X_.copy(this).projectOnVector(t),this.sub(X_)}reflect(t){return this.sub(X_.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(t)/n;return Math.acos(jx(a,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,a=this.y-t.y,r=this.z-t.z;return n*n+a*a+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,a){const r=Math.sin(n)*t;return this.x=r*Math.sin(a),this.y=Math.cos(n)*t,this.z=r*Math.cos(a),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,a){return this.x=t*Math.sin(n),this.y=a,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),a=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=a,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,a=Math.sqrt(1-t**2);return this.x=a*Math.cos(n),this.y=a*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const X_=new en,qv=new Gs;class bl{constructor(){bl.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,a,r,l,c,h,f,d,_,g,v,b,x,w,E){const A=this.elements;return A[0]=t,A[4]=n,A[8]=a,A[12]=r,A[1]=l,A[5]=c,A[9]=h,A[13]=f,A[2]=d,A[6]=_,A[10]=g,A[14]=v,A[3]=b,A[7]=x,A[11]=w,A[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new bl().fromArray(this.elements)}copy(t){const n=this.elements,a=t.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this}copyPosition(t){const n=this.elements,a=t.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,a){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(t,n,a){return this.set(t.x,n.x,a.x,0,t.y,n.y,a.y,0,t.z,n.z,a.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,a=t.elements,r=1/lo.setFromMatrixColumn(t,0).length(),l=1/lo.setFromMatrixColumn(t,1).length(),c=1/lo.setFromMatrixColumn(t,2).length();return n[0]=a[0]*r,n[1]=a[1]*r,n[2]=a[2]*r,n[3]=0,n[4]=a[4]*l,n[5]=a[5]*l,n[6]=a[6]*l,n[7]=0,n[8]=a[8]*c,n[9]=a[9]*c,n[10]=a[10]*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,a=t.x,r=t.y,l=t.z,c=Math.cos(a),h=Math.sin(a),f=Math.cos(r),d=Math.sin(r),_=Math.cos(l),g=Math.sin(l);if(t.order==="XYZ"){const v=c*_,b=c*g,x=h*_,w=h*g;n[0]=f*_,n[4]=-f*g,n[8]=d,n[1]=b+x*d,n[5]=v-w*d,n[9]=-h*f,n[2]=w-v*d,n[6]=x+b*d,n[10]=c*f}else if(t.order==="YXZ"){const v=f*_,b=f*g,x=d*_,w=d*g;n[0]=v+w*h,n[4]=x*h-b,n[8]=c*d,n[1]=c*g,n[5]=c*_,n[9]=-h,n[2]=b*h-x,n[6]=w+v*h,n[10]=c*f}else if(t.order==="ZXY"){const v=f*_,b=f*g,x=d*_,w=d*g;n[0]=v-w*h,n[4]=-c*g,n[8]=x+b*h,n[1]=b+x*h,n[5]=c*_,n[9]=w-v*h,n[2]=-c*d,n[6]=h,n[10]=c*f}else if(t.order==="ZYX"){const v=c*_,b=c*g,x=h*_,w=h*g;n[0]=f*_,n[4]=x*d-b,n[8]=v*d+w,n[1]=f*g,n[5]=w*d+v,n[9]=b*d-x,n[2]=-d,n[6]=h*f,n[10]=c*f}else if(t.order==="YZX"){const v=c*f,b=c*d,x=h*f,w=h*d;n[0]=f*_,n[4]=w-v*g,n[8]=x*g+b,n[1]=g,n[5]=c*_,n[9]=-h*_,n[2]=-d*_,n[6]=b*g+x,n[10]=v-w*g}else if(t.order==="XZY"){const v=c*f,b=c*d,x=h*f,w=h*d;n[0]=f*_,n[4]=-g,n[8]=d*_,n[1]=v*g+w,n[5]=c*_,n[9]=b*g-x,n[2]=x*g-b,n[6]=h*_,n[10]=w*g+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(KR,t,IR)}lookAt(t,n,a){const r=this.elements;return zn.subVectors(t,n),zn.lengthSq()===0&&(zn.z=1),zn.normalize(),ts.crossVectors(a,zn),ts.lengthSq()===0&&(Math.abs(a.z)===1?zn.x+=1e-4:zn.z+=1e-4,zn.normalize(),ts.crossVectors(a,zn)),ts.normalize(),mf.crossVectors(zn,ts),r[0]=ts.x,r[4]=mf.x,r[8]=zn.x,r[1]=ts.y,r[5]=mf.y,r[9]=zn.y,r[2]=ts.z,r[6]=mf.z,r[10]=zn.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const a=t.elements,r=n.elements,l=this.elements,c=a[0],h=a[4],f=a[8],d=a[12],_=a[1],g=a[5],v=a[9],b=a[13],x=a[2],w=a[6],E=a[10],A=a[14],U=a[3],B=a[7],k=a[11],z=a[15],C=r[0],L=r[4],Q=r[8],Z=r[12],K=r[1],at=r[5],st=r[9],nt=r[13],rt=r[2],_t=r[6],Y=r[10],S=r[14],R=r[3],j=r[7],O=r[11],N=r[15];return l[0]=c*C+h*K+f*rt+d*R,l[4]=c*L+h*at+f*_t+d*j,l[8]=c*Q+h*st+f*Y+d*O,l[12]=c*Z+h*nt+f*S+d*N,l[1]=_*C+g*K+v*rt+b*R,l[5]=_*L+g*at+v*_t+b*j,l[9]=_*Q+g*st+v*Y+b*O,l[13]=_*Z+g*nt+v*S+b*N,l[2]=x*C+w*K+E*rt+A*R,l[6]=x*L+w*at+E*_t+A*j,l[10]=x*Q+w*st+E*Y+A*O,l[14]=x*Z+w*nt+E*S+A*N,l[3]=U*C+B*K+k*rt+z*R,l[7]=U*L+B*at+k*_t+z*j,l[11]=U*Q+B*st+k*Y+z*O,l[15]=U*Z+B*nt+k*S+z*N,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],a=t[4],r=t[8],l=t[12],c=t[1],h=t[5],f=t[9],d=t[13],_=t[2],g=t[6],v=t[10],b=t[14],x=t[3],w=t[7],E=t[11],A=t[15];return x*(+l*f*g-r*d*g-l*h*v+a*d*v+r*h*b-a*f*b)+w*(+n*f*b-n*d*v+l*c*v-r*c*b+r*d*_-l*f*_)+E*(+n*d*g-n*h*b-l*c*g+a*c*b+l*h*_-a*d*_)+A*(-r*h*_-n*f*g+n*h*v+r*c*g-a*c*v+a*f*_)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,a){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=a),this}invert(){const t=this.elements,n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15],U=g*E*d-w*v*d+w*f*b-h*E*b-g*f*A+h*v*A,B=x*v*d-_*E*d-x*f*b+c*E*b+_*f*A-c*v*A,k=_*w*d-x*g*d+x*h*b-c*w*b-_*h*A+c*g*A,z=x*g*f-_*w*f-x*h*v+c*w*v+_*h*E-c*g*E,C=n*U+a*B+r*k+l*z;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/C;return t[0]=U*L,t[1]=(w*v*l-g*E*l-w*r*b+a*E*b+g*r*A-a*v*A)*L,t[2]=(h*E*l-w*f*l+w*r*d-a*E*d-h*r*A+a*f*A)*L,t[3]=(g*f*l-h*v*l-g*r*d+a*v*d+h*r*b-a*f*b)*L,t[4]=B*L,t[5]=(_*E*l-x*v*l+x*r*b-n*E*b-_*r*A+n*v*A)*L,t[6]=(x*f*l-c*E*l-x*r*d+n*E*d+c*r*A-n*f*A)*L,t[7]=(c*v*l-_*f*l+_*r*d-n*v*d-c*r*b+n*f*b)*L,t[8]=k*L,t[9]=(x*g*l-_*w*l-x*a*b+n*w*b+_*a*A-n*g*A)*L,t[10]=(c*w*l-x*h*l+x*a*d-n*w*d-c*a*A+n*h*A)*L,t[11]=(_*h*l-c*g*l-_*a*d+n*g*d+c*a*b-n*h*b)*L,t[12]=z*L,t[13]=(_*w*r-x*g*r+x*a*v-n*w*v-_*a*E+n*g*E)*L,t[14]=(x*h*r-c*w*r-x*a*f+n*w*f+c*a*E-n*h*E)*L,t[15]=(c*g*r-_*h*r+_*a*f-n*g*f-c*a*v+n*h*v)*L,this}scale(t){const n=this.elements,a=t.x,r=t.y,l=t.z;return n[0]*=a,n[4]*=r,n[8]*=l,n[1]*=a,n[5]*=r,n[9]*=l,n[2]*=a,n[6]*=r,n[10]*=l,n[3]*=a,n[7]*=r,n[11]*=l,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,a,r))}makeTranslation(t,n,a){return this.set(1,0,0,t,0,1,0,n,0,0,1,a,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),a=Math.sin(t);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),a=Math.sin(t);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),a=Math.sin(t);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const a=Math.cos(n),r=Math.sin(n),l=1-a,c=t.x,h=t.y,f=t.z,d=l*c,_=l*h;return this.set(d*c+a,d*h-r*f,d*f+r*h,0,d*h+r*f,_*h+a,_*f-r*c,0,d*f-r*h,_*f+r*c,l*f*f+a,0,0,0,0,1),this}makeScale(t,n,a){return this.set(t,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this}makeShear(t,n,a,r,l,c){return this.set(1,a,l,0,t,1,c,0,n,r,1,0,0,0,0,1),this}compose(t,n,a){const r=this.elements,l=n._x,c=n._y,h=n._z,f=n._w,d=l+l,_=c+c,g=h+h,v=l*d,b=l*_,x=l*g,w=c*_,E=c*g,A=h*g,U=f*d,B=f*_,k=f*g,z=a.x,C=a.y,L=a.z;return r[0]=(1-(w+A))*z,r[1]=(b+k)*z,r[2]=(x-B)*z,r[3]=0,r[4]=(b-k)*C,r[5]=(1-(v+A))*C,r[6]=(E+U)*C,r[7]=0,r[8]=(x+B)*L,r[9]=(E-U)*L,r[10]=(1-(v+w))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,a){const r=this.elements;let l=lo.set(r[0],r[1],r[2]).length();const c=lo.set(r[4],r[5],r[6]).length(),h=lo.set(r[8],r[9],r[10]).length();this.determinant()<0&&(l=-l),t.x=r[12],t.y=r[13],t.z=r[14],li.copy(this);const d=1/l,_=1/c,g=1/h;return li.elements[0]*=d,li.elements[1]*=d,li.elements[2]*=d,li.elements[4]*=_,li.elements[5]*=_,li.elements[6]*=_,li.elements[8]*=g,li.elements[9]*=g,li.elements[10]*=g,n.setFromRotationMatrix(li),a.x=l,a.y=c,a.z=h,this}makePerspective(t,n,a,r,l,c){const h=this.elements,f=2*l/(n-t),d=2*l/(a-r),_=(n+t)/(n-t),g=(a+r)/(a-r),v=-(c+l)/(c-l),b=-2*c*l/(c-l);return h[0]=f,h[4]=0,h[8]=_,h[12]=0,h[1]=0,h[5]=d,h[9]=g,h[13]=0,h[2]=0,h[6]=0,h[10]=v,h[14]=b,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,n,a,r,l,c){const h=this.elements,f=1/(n-t),d=1/(a-r),_=1/(c-l),g=(n+t)*f,v=(a+r)*d,b=(c+l)*_;return h[0]=2*f,h[4]=0,h[8]=0,h[12]=-g,h[1]=0,h[5]=2*d,h[9]=0,h[13]=-v,h[2]=0,h[6]=0,h[10]=-2*_,h[14]=-b,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const n=this.elements,a=t.elements;for(let r=0;r<16;r++)if(n[r]!==a[r])return!1;return!0}fromArray(t,n=0){for(let a=0;a<16;a++)this.elements[a]=t[a+n];return this}toArray(t=[],n=0){const a=this.elements;return t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7],t[n+8]=a[8],t[n+9]=a[9],t[n+10]=a[10],t[n+11]=a[11],t[n+12]=a[12],t[n+13]=a[13],t[n+14]=a[14],t[n+15]=a[15],t}}const lo=new en,li=new bl,KR=new en(0,0,0),IR=new en(1,1,1),ts=new en,mf=new en,zn=new en;var JR=Object.defineProperty,hd=(e,t)=>{for(var n in t)JR(e,n,{get:t[n],enumerable:!0})},jt=1e-6,me=typeof Float32Array<"u"?Float32Array:Array,fo=Math.random;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function WR(){var e=new me(9);return me!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}var p0={};hd(p0,{add:()=>kC,adjoint:()=>oC,clone:()=>eC,copy:()=>nC,create:()=>tC,determinant:()=>lC,equals:()=>jC,exactEquals:()=>VC,frob:()=>qC,fromQuat:()=>SC,fromQuat2:()=>xC,fromRotation:()=>yC,fromRotationTranslation:()=>Yx,fromRotationTranslationScale:()=>TC,fromRotationTranslationScaleOrigin:()=>MC,fromScaling:()=>pC,fromTranslation:()=>_C,fromValues:()=>iC,fromXRotation:()=>gC,fromYRotation:()=>vC,fromZRotation:()=>bC,frustum:()=>AC,getRotation:()=>wC,getScaling:()=>Xx,getTranslation:()=>EC,identity:()=>Fx,invert:()=>rC,lookAt:()=>UC,mul:()=>FC,multiply:()=>Px,multiplyScalar:()=>BC,multiplyScalarAndAdd:()=>HC,ortho:()=>CC,orthoNO:()=>Zx,orthoZO:()=>DC,perspective:()=>OC,perspectiveFromFieldOfView:()=>RC,perspectiveNO:()=>Gx,perspectiveZO:()=>zC,rotate:()=>hC,rotateX:()=>fC,rotateY:()=>dC,rotateZ:()=>mC,scale:()=>cC,set:()=>aC,str:()=>NC,sub:()=>PC,subtract:()=>Qx,targetTo:()=>LC,translate:()=>uC,transpose:()=>sC});function tC(){var e=new me(16);return me!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function eC(e){var t=new me(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function nC(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function iC(e,t,n,a,r,l,c,h,f,d,_,g,v,b,x,w){var E=new me(16);return E[0]=e,E[1]=t,E[2]=n,E[3]=a,E[4]=r,E[5]=l,E[6]=c,E[7]=h,E[8]=f,E[9]=d,E[10]=_,E[11]=g,E[12]=v,E[13]=b,E[14]=x,E[15]=w,E}function aC(e,t,n,a,r,l,c,h,f,d,_,g,v,b,x,w,E){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=d,e[9]=_,e[10]=g,e[11]=v,e[12]=b,e[13]=x,e[14]=w,e[15]=E,e}function Fx(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function sC(e,t){if(e===t){var n=t[1],a=t[2],r=t[3],l=t[6],c=t[7],h=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=a,e[9]=l,e[11]=t[14],e[12]=r,e[13]=c,e[14]=h}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rC(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15],U=n*h-a*c,B=n*f-r*c,k=n*d-l*c,z=a*f-r*h,C=a*d-l*h,L=r*d-l*f,Q=_*w-g*x,Z=_*E-v*x,K=_*A-b*x,at=g*E-v*w,st=g*A-b*w,nt=v*A-b*E,rt=U*nt-B*st+k*at+z*K-C*Z+L*Q;return rt?(rt=1/rt,e[0]=(h*nt-f*st+d*at)*rt,e[1]=(r*st-a*nt-l*at)*rt,e[2]=(w*L-E*C+A*z)*rt,e[3]=(v*C-g*L-b*z)*rt,e[4]=(f*K-c*nt-d*Z)*rt,e[5]=(n*nt-r*K+l*Z)*rt,e[6]=(E*k-x*L-A*B)*rt,e[7]=(_*L-v*k+b*B)*rt,e[8]=(c*st-h*K+d*Q)*rt,e[9]=(a*K-n*st-l*Q)*rt,e[10]=(x*C-w*k+A*U)*rt,e[11]=(g*k-_*C-b*U)*rt,e[12]=(h*Z-c*at-f*Q)*rt,e[13]=(n*at-a*Z+r*Q)*rt,e[14]=(w*B-x*z-E*U)*rt,e[15]=(_*z-g*B+v*U)*rt,e):null}function oC(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=t[4],h=t[5],f=t[6],d=t[7],_=t[8],g=t[9],v=t[10],b=t[11],x=t[12],w=t[13],E=t[14],A=t[15];return e[0]=h*(v*A-b*E)-g*(f*A-d*E)+w*(f*b-d*v),e[1]=-(a*(v*A-b*E)-g*(r*A-l*E)+w*(r*b-l*v)),e[2]=a*(f*A-d*E)-h*(r*A-l*E)+w*(r*d-l*f),e[3]=-(a*(f*b-d*v)-h*(r*b-l*v)+g*(r*d-l*f)),e[4]=-(c*(v*A-b*E)-_*(f*A-d*E)+x*(f*b-d*v)),e[5]=n*(v*A-b*E)-_*(r*A-l*E)+x*(r*b-l*v),e[6]=-(n*(f*A-d*E)-c*(r*A-l*E)+x*(r*d-l*f)),e[7]=n*(f*b-d*v)-c*(r*b-l*v)+_*(r*d-l*f),e[8]=c*(g*A-b*w)-_*(h*A-d*w)+x*(h*b-d*g),e[9]=-(n*(g*A-b*w)-_*(a*A-l*w)+x*(a*b-l*g)),e[10]=n*(h*A-d*w)-c*(a*A-l*w)+x*(a*d-l*h),e[11]=-(n*(h*b-d*g)-c*(a*b-l*g)+_*(a*d-l*h)),e[12]=-(c*(g*E-v*w)-_*(h*E-f*w)+x*(h*v-f*g)),e[13]=n*(g*E-v*w)-_*(a*E-r*w)+x*(a*v-r*g),e[14]=-(n*(h*E-f*w)-c*(a*E-r*w)+x*(a*f-r*h)),e[15]=n*(h*v-f*g)-c*(a*v-r*g)+_*(a*f-r*h),e}function lC(e){var t=e[0],n=e[1],a=e[2],r=e[3],l=e[4],c=e[5],h=e[6],f=e[7],d=e[8],_=e[9],g=e[10],v=e[11],b=e[12],x=e[13],w=e[14],E=e[15],A=t*c-n*l,U=t*h-a*l,B=t*f-r*l,k=n*h-a*c,z=n*f-r*c,C=a*f-r*h,L=d*x-_*b,Q=d*w-g*b,Z=d*E-v*b,K=_*w-g*x,at=_*E-v*x,st=g*E-v*w;return A*st-U*at+B*K+k*Z-z*Q+C*L}function Px(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=t[8],v=t[9],b=t[10],x=t[11],w=t[12],E=t[13],A=t[14],U=t[15],B=n[0],k=n[1],z=n[2],C=n[3];return e[0]=B*a+k*h+z*g+C*w,e[1]=B*r+k*f+z*v+C*E,e[2]=B*l+k*d+z*b+C*A,e[3]=B*c+k*_+z*x+C*U,B=n[4],k=n[5],z=n[6],C=n[7],e[4]=B*a+k*h+z*g+C*w,e[5]=B*r+k*f+z*v+C*E,e[6]=B*l+k*d+z*b+C*A,e[7]=B*c+k*_+z*x+C*U,B=n[8],k=n[9],z=n[10],C=n[11],e[8]=B*a+k*h+z*g+C*w,e[9]=B*r+k*f+z*v+C*E,e[10]=B*l+k*d+z*b+C*A,e[11]=B*c+k*_+z*x+C*U,B=n[12],k=n[13],z=n[14],C=n[15],e[12]=B*a+k*h+z*g+C*w,e[13]=B*r+k*f+z*v+C*E,e[14]=B*l+k*d+z*b+C*A,e[15]=B*c+k*_+z*x+C*U,e}function uC(e,t,n){var a=n[0],r=n[1],l=n[2],c,h,f,d,_,g,v,b,x,w,E,A;return t===e?(e[12]=t[0]*a+t[4]*r+t[8]*l+t[12],e[13]=t[1]*a+t[5]*r+t[9]*l+t[13],e[14]=t[2]*a+t[6]*r+t[10]*l+t[14],e[15]=t[3]*a+t[7]*r+t[11]*l+t[15]):(c=t[0],h=t[1],f=t[2],d=t[3],_=t[4],g=t[5],v=t[6],b=t[7],x=t[8],w=t[9],E=t[10],A=t[11],e[0]=c,e[1]=h,e[2]=f,e[3]=d,e[4]=_,e[5]=g,e[6]=v,e[7]=b,e[8]=x,e[9]=w,e[10]=E,e[11]=A,e[12]=c*a+_*r+x*l+t[12],e[13]=h*a+g*r+w*l+t[13],e[14]=f*a+v*r+E*l+t[14],e[15]=d*a+b*r+A*l+t[15]),e}function cC(e,t,n){var a=n[0],r=n[1],l=n[2];return e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*l,e[9]=t[9]*l,e[10]=t[10]*l,e[11]=t[11]*l,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hC(e,t,n,a){var r=a[0],l=a[1],c=a[2],h=Math.hypot(r,l,c),f,d,_,g,v,b,x,w,E,A,U,B,k,z,C,L,Q,Z,K,at,st,nt,rt,_t;return h<jt?null:(h=1/h,r*=h,l*=h,c*=h,f=Math.sin(n),d=Math.cos(n),_=1-d,g=t[0],v=t[1],b=t[2],x=t[3],w=t[4],E=t[5],A=t[6],U=t[7],B=t[8],k=t[9],z=t[10],C=t[11],L=r*r*_+d,Q=l*r*_+c*f,Z=c*r*_-l*f,K=r*l*_-c*f,at=l*l*_+d,st=c*l*_+r*f,nt=r*c*_+l*f,rt=l*c*_-r*f,_t=c*c*_+d,e[0]=g*L+w*Q+B*Z,e[1]=v*L+E*Q+k*Z,e[2]=b*L+A*Q+z*Z,e[3]=x*L+U*Q+C*Z,e[4]=g*K+w*at+B*st,e[5]=v*K+E*at+k*st,e[6]=b*K+A*at+z*st,e[7]=x*K+U*at+C*st,e[8]=g*nt+w*rt+B*_t,e[9]=v*nt+E*rt+k*_t,e[10]=b*nt+A*rt+z*_t,e[11]=x*nt+U*rt+C*_t,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function fC(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[4],c=t[5],h=t[6],f=t[7],d=t[8],_=t[9],g=t[10],v=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=l*r+d*a,e[5]=c*r+_*a,e[6]=h*r+g*a,e[7]=f*r+v*a,e[8]=d*r-l*a,e[9]=_*r-c*a,e[10]=g*r-h*a,e[11]=v*r-f*a,e}function dC(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[0],c=t[1],h=t[2],f=t[3],d=t[8],_=t[9],g=t[10],v=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=l*r-d*a,e[1]=c*r-_*a,e[2]=h*r-g*a,e[3]=f*r-v*a,e[8]=l*a+d*r,e[9]=c*a+_*r,e[10]=h*a+g*r,e[11]=f*a+v*r,e}function mC(e,t,n){var a=Math.sin(n),r=Math.cos(n),l=t[0],c=t[1],h=t[2],f=t[3],d=t[4],_=t[5],g=t[6],v=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=l*r+d*a,e[1]=c*r+_*a,e[2]=h*r+g*a,e[3]=f*r+v*a,e[4]=d*r-l*a,e[5]=_*r-c*a,e[6]=g*r-h*a,e[7]=v*r-f*a,e}function _C(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pC(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yC(e,t,n){var a=n[0],r=n[1],l=n[2],c=Math.hypot(a,r,l),h,f,d;return c<jt?null:(c=1/c,a*=c,r*=c,l*=c,h=Math.sin(t),f=Math.cos(t),d=1-f,e[0]=a*a*d+f,e[1]=r*a*d+l*h,e[2]=l*a*d-r*h,e[3]=0,e[4]=a*r*d-l*h,e[5]=r*r*d+f,e[6]=l*r*d+a*h,e[7]=0,e[8]=a*l*d+r*h,e[9]=r*l*d-a*h,e[10]=l*l*d+f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function gC(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vC(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bC(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yx(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=a+a,f=r+r,d=l+l,_=a*h,g=a*f,v=a*d,b=r*f,x=r*d,w=l*d,E=c*h,A=c*f,U=c*d;return e[0]=1-(b+w),e[1]=g+U,e[2]=v-A,e[3]=0,e[4]=g-U,e[5]=1-(_+w),e[6]=x+E,e[7]=0,e[8]=v+A,e[9]=x-E,e[10]=1-(_+b),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xC(e,t){var n=new me(3),a=-t[0],r=-t[1],l=-t[2],c=t[3],h=t[4],f=t[5],d=t[6],_=t[7],g=a*a+r*r+l*l+c*c;return g>0?(n[0]=(h*c+_*a+f*l-d*r)*2/g,n[1]=(f*c+_*r+d*a-h*l)*2/g,n[2]=(d*c+_*l+h*r-f*a)*2/g):(n[0]=(h*c+_*a+f*l-d*r)*2,n[1]=(f*c+_*r+d*a-h*l)*2,n[2]=(d*c+_*l+h*r-f*a)*2),Yx(e,t,n),e}function EC(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Xx(e,t){var n=t[0],a=t[1],r=t[2],l=t[4],c=t[5],h=t[6],f=t[8],d=t[9],_=t[10];return e[0]=Math.hypot(n,a,r),e[1]=Math.hypot(l,c,h),e[2]=Math.hypot(f,d,_),e}function wC(e,t){var n=new me(3);Xx(n,t);var a=1/n[0],r=1/n[1],l=1/n[2],c=t[0]*a,h=t[1]*r,f=t[2]*l,d=t[4]*a,_=t[5]*r,g=t[6]*l,v=t[8]*a,b=t[9]*r,x=t[10]*l,w=c+_+x,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(g-b)/E,e[1]=(v-f)/E,e[2]=(h-d)/E):c>_&&c>x?(E=Math.sqrt(1+c-_-x)*2,e[3]=(g-b)/E,e[0]=.25*E,e[1]=(h+d)/E,e[2]=(v+f)/E):_>x?(E=Math.sqrt(1+_-c-x)*2,e[3]=(v-f)/E,e[0]=(h+d)/E,e[1]=.25*E,e[2]=(g+b)/E):(E=Math.sqrt(1+x-c-_)*2,e[3]=(h-d)/E,e[0]=(v+f)/E,e[1]=(g+b)/E,e[2]=.25*E),e}function TC(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3],f=r+r,d=l+l,_=c+c,g=r*f,v=r*d,b=r*_,x=l*d,w=l*_,E=c*_,A=h*f,U=h*d,B=h*_,k=a[0],z=a[1],C=a[2];return e[0]=(1-(x+E))*k,e[1]=(v+B)*k,e[2]=(b-U)*k,e[3]=0,e[4]=(v-B)*z,e[5]=(1-(g+E))*z,e[6]=(w+A)*z,e[7]=0,e[8]=(b+U)*C,e[9]=(w-A)*C,e[10]=(1-(g+x))*C,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function MC(e,t,n,a,r){var l=t[0],c=t[1],h=t[2],f=t[3],d=l+l,_=c+c,g=h+h,v=l*d,b=l*_,x=l*g,w=c*_,E=c*g,A=h*g,U=f*d,B=f*_,k=f*g,z=a[0],C=a[1],L=a[2],Q=r[0],Z=r[1],K=r[2],at=(1-(w+A))*z,st=(b+k)*z,nt=(x-B)*z,rt=(b-k)*C,_t=(1-(v+A))*C,Y=(E+U)*C,S=(x+B)*L,R=(E-U)*L,j=(1-(v+w))*L;return e[0]=at,e[1]=st,e[2]=nt,e[3]=0,e[4]=rt,e[5]=_t,e[6]=Y,e[7]=0,e[8]=S,e[9]=R,e[10]=j,e[11]=0,e[12]=n[0]+Q-(at*Q+rt*Z+S*K),e[13]=n[1]+Z-(st*Q+_t*Z+R*K),e[14]=n[2]+K-(nt*Q+Y*Z+j*K),e[15]=1,e}function SC(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n+n,h=a+a,f=r+r,d=n*c,_=a*c,g=a*h,v=r*c,b=r*h,x=r*f,w=l*c,E=l*h,A=l*f;return e[0]=1-g-x,e[1]=_+A,e[2]=v-E,e[3]=0,e[4]=_-A,e[5]=1-d-x,e[6]=b+w,e[7]=0,e[8]=v+E,e[9]=b-w,e[10]=1-d-g,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function AC(e,t,n,a,r,l,c){var h=1/(n-t),f=1/(r-a),d=1/(l-c);return e[0]=l*2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l*2*f,e[6]=0,e[7]=0,e[8]=(n+t)*h,e[9]=(r+a)*f,e[10]=(c+l)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*l*2*d,e[15]=0,e}function Gx(e,t,n,a,r){var l=1/Math.tan(t/2),c;return e[0]=l/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(c=1/(a-r),e[10]=(r+a)*c,e[14]=2*r*a*c):(e[10]=-1,e[14]=-2*a),e}var OC=Gx;function zC(e,t,n,a,r){var l=1/Math.tan(t/2),c;return e[0]=l/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(c=1/(a-r),e[10]=r*c,e[14]=r*a*c):(e[10]=-1,e[14]=-a),e}function RC(e,t,n,a){var r=Math.tan(t.upDegrees*Math.PI/180),l=Math.tan(t.downDegrees*Math.PI/180),c=Math.tan(t.leftDegrees*Math.PI/180),h=Math.tan(t.rightDegrees*Math.PI/180),f=2/(c+h),d=2/(r+l);return e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-((c-h)*f*.5),e[9]=(r-l)*d*.5,e[10]=a/(n-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n/(n-a),e[15]=0,e}function Zx(e,t,n,a,r,l,c){var h=1/(t-n),f=1/(a-r),d=1/(l-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+n)*h,e[13]=(r+a)*f,e[14]=(c+l)*d,e[15]=1,e}var CC=Zx;function DC(e,t,n,a,r,l,c){var h=1/(t-n),f=1/(a-r),d=1/(l-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d,e[11]=0,e[12]=(t+n)*h,e[13]=(r+a)*f,e[14]=l*d,e[15]=1,e}function UC(e,t,n,a){var r,l,c,h,f,d,_,g,v,b,x=t[0],w=t[1],E=t[2],A=a[0],U=a[1],B=a[2],k=n[0],z=n[1],C=n[2];return Math.abs(x-k)<jt&&Math.abs(w-z)<jt&&Math.abs(E-C)<jt?Fx(e):(_=x-k,g=w-z,v=E-C,b=1/Math.hypot(_,g,v),_*=b,g*=b,v*=b,r=U*v-B*g,l=B*_-A*v,c=A*g-U*_,b=Math.hypot(r,l,c),b?(b=1/b,r*=b,l*=b,c*=b):(r=0,l=0,c=0),h=g*c-v*l,f=v*r-_*c,d=_*l-g*r,b=Math.hypot(h,f,d),b?(b=1/b,h*=b,f*=b,d*=b):(h=0,f=0,d=0),e[0]=r,e[1]=h,e[2]=_,e[3]=0,e[4]=l,e[5]=f,e[6]=g,e[7]=0,e[8]=c,e[9]=d,e[10]=v,e[11]=0,e[12]=-(r*x+l*w+c*E),e[13]=-(h*x+f*w+d*E),e[14]=-(_*x+g*w+v*E),e[15]=1,e)}function LC(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=a[0],f=a[1],d=a[2],_=r-n[0],g=l-n[1],v=c-n[2],b=_*_+g*g+v*v;b>0&&(b=1/Math.sqrt(b),_*=b,g*=b,v*=b);var x=f*v-d*g,w=d*_-h*v,E=h*g-f*_;return b=x*x+w*w+E*E,b>0&&(b=1/Math.sqrt(b),x*=b,w*=b,E*=b),e[0]=x,e[1]=w,e[2]=E,e[3]=0,e[4]=g*E-v*w,e[5]=v*x-_*E,e[6]=_*w-g*x,e[7]=0,e[8]=_,e[9]=g,e[10]=v,e[11]=0,e[12]=r,e[13]=l,e[14]=c,e[15]=1,e}function NC(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function qC(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function kC(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Qx(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function BC(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function HC(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e[3]=t[3]+n[3]*a,e[4]=t[4]+n[4]*a,e[5]=t[5]+n[5]*a,e[6]=t[6]+n[6]*a,e[7]=t[7]+n[7]*a,e[8]=t[8]+n[8]*a,e[9]=t[9]+n[9]*a,e[10]=t[10]+n[10]*a,e[11]=t[11]+n[11]*a,e[12]=t[12]+n[12]*a,e[13]=t[13]+n[13]*a,e[14]=t[14]+n[14]*a,e[15]=t[15]+n[15]*a,e}function VC(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function jC(e,t){var n=e[0],a=e[1],r=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],_=e[8],g=e[9],v=e[10],b=e[11],x=e[12],w=e[13],E=e[14],A=e[15],U=t[0],B=t[1],k=t[2],z=t[3],C=t[4],L=t[5],Q=t[6],Z=t[7],K=t[8],at=t[9],st=t[10],nt=t[11],rt=t[12],_t=t[13],Y=t[14],S=t[15];return Math.abs(n-U)<=jt*Math.max(1,Math.abs(n),Math.abs(U))&&Math.abs(a-B)<=jt*Math.max(1,Math.abs(a),Math.abs(B))&&Math.abs(r-k)<=jt*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(l-z)<=jt*Math.max(1,Math.abs(l),Math.abs(z))&&Math.abs(c-C)<=jt*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-L)<=jt*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(f-Q)<=jt*Math.max(1,Math.abs(f),Math.abs(Q))&&Math.abs(d-Z)<=jt*Math.max(1,Math.abs(d),Math.abs(Z))&&Math.abs(_-K)<=jt*Math.max(1,Math.abs(_),Math.abs(K))&&Math.abs(g-at)<=jt*Math.max(1,Math.abs(g),Math.abs(at))&&Math.abs(v-st)<=jt*Math.max(1,Math.abs(v),Math.abs(st))&&Math.abs(b-nt)<=jt*Math.max(1,Math.abs(b),Math.abs(nt))&&Math.abs(x-rt)<=jt*Math.max(1,Math.abs(x),Math.abs(rt))&&Math.abs(w-_t)<=jt*Math.max(1,Math.abs(w),Math.abs(_t))&&Math.abs(E-Y)<=jt*Math.max(1,Math.abs(E),Math.abs(Y))&&Math.abs(A-S)<=jt*Math.max(1,Math.abs(A),Math.abs(S))}var FC=Px,PC=Qx,y0={};hd(y0,{add:()=>n6,calculateW:()=>X5,clone:()=>J5,conjugate:()=>$5,copy:()=>t6,create:()=>v0,dot:()=>cE,equals:()=>l6,exactEquals:()=>o6,exp:()=>rE,fromEuler:()=>K5,fromMat3:()=>lE,fromValues:()=>W5,getAngle:()=>j5,getAxisAngle:()=>V5,identity:()=>H5,invert:()=>Q5,len:()=>s6,length:()=>hE,lerp:()=>a6,ln:()=>oE,mul:()=>i6,multiply:()=>sE,normalize:()=>B0,pow:()=>G5,random:()=>Z5,rotateX:()=>F5,rotateY:()=>P5,rotateZ:()=>Y5,rotationTo:()=>u6,scale:()=>uE,set:()=>e6,setAxes:()=>h6,setAxisAngle:()=>aE,slerp:()=>Af,sqlerp:()=>c6,sqrLen:()=>r6,squaredLength:()=>fE,str:()=>I5});var ha={};hd(ha,{add:()=>ZC,angle:()=>d5,bezier:()=>s5,ceil:()=>QC,clone:()=>YC,copy:()=>XC,create:()=>q0,cross:()=>Sf,dist:()=>x5,distance:()=>Wx,div:()=>b5,divide:()=>Jx,dot:()=>k0,equals:()=>y5,exactEquals:()=>p5,floor:()=>$C,forEach:()=>T5,fromValues:()=>g0,hermite:()=>a5,inverse:()=>n5,len:()=>iE,length:()=>$x,lerp:()=>i5,max:()=>IC,min:()=>KC,mul:()=>v5,multiply:()=>Ix,negate:()=>e5,normalize:()=>nE,random:()=>r5,rotateX:()=>c5,rotateY:()=>h5,rotateZ:()=>f5,round:()=>JC,scale:()=>WC,scaleAndAdd:()=>t5,set:()=>GC,sqrDist:()=>E5,sqrLen:()=>w5,squaredDistance:()=>tE,squaredLength:()=>eE,str:()=>_5,sub:()=>g5,subtract:()=>Kx,transformMat3:()=>l5,transformMat4:()=>o5,transformQuat:()=>u5,zero:()=>m5});function q0(){var e=new me(3);return me!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function YC(e){var t=new me(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function $x(e){var t=e[0],n=e[1],a=e[2];return Math.hypot(t,n,a)}function g0(e,t,n){var a=new me(3);return a[0]=e,a[1]=t,a[2]=n,a}function XC(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function GC(e,t,n,a){return e[0]=t,e[1]=n,e[2]=a,e}function ZC(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Kx(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Ix(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Jx(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function QC(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $C(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function KC(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function IC(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function JC(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function WC(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function t5(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e}function Wx(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,a,r)}function tE(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return n*n+a*a+r*r}function eE(e){var t=e[0],n=e[1],a=e[2];return t*t+n*n+a*a}function e5(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function n5(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function nE(e,t){var n=t[0],a=t[1],r=t[2],l=n*n+a*a+r*r;return l>0&&(l=1/Math.sqrt(l)),e[0]=t[0]*l,e[1]=t[1]*l,e[2]=t[2]*l,e}function k0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Sf(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[0],h=n[1],f=n[2];return e[0]=r*f-l*h,e[1]=l*c-a*f,e[2]=a*h-r*c,e}function i5(e,t,n,a){var r=t[0],l=t[1],c=t[2];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e[2]=c+a*(n[2]-c),e}function a5(e,t,n,a,r,l){var c=l*l,h=c*(2*l-3)+1,f=c*(l-2)+l,d=c*(l-1),_=c*(3-2*l);return e[0]=t[0]*h+n[0]*f+a[0]*d+r[0]*_,e[1]=t[1]*h+n[1]*f+a[1]*d+r[1]*_,e[2]=t[2]*h+n[2]*f+a[2]*d+r[2]*_,e}function s5(e,t,n,a,r,l){var c=1-l,h=c*c,f=l*l,d=h*c,_=3*l*h,g=3*f*c,v=f*l;return e[0]=t[0]*d+n[0]*_+a[0]*g+r[0]*v,e[1]=t[1]*d+n[1]*_+a[1]*g+r[1]*v,e[2]=t[2]*d+n[2]*_+a[2]*g+r[2]*v,e}function r5(e,t){t=t||1;var n=fo()*2*Math.PI,a=fo()*2-1,r=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=a*t,e}function o5(e,t,n){var a=t[0],r=t[1],l=t[2],c=n[3]*a+n[7]*r+n[11]*l+n[15];return c=c||1,e[0]=(n[0]*a+n[4]*r+n[8]*l+n[12])/c,e[1]=(n[1]*a+n[5]*r+n[9]*l+n[13])/c,e[2]=(n[2]*a+n[6]*r+n[10]*l+n[14])/c,e}function l5(e,t,n){var a=t[0],r=t[1],l=t[2];return e[0]=a*n[0]+r*n[3]+l*n[6],e[1]=a*n[1]+r*n[4]+l*n[7],e[2]=a*n[2]+r*n[5]+l*n[8],e}function u5(e,t,n){var a=n[0],r=n[1],l=n[2],c=n[3],h=t[0],f=t[1],d=t[2],_=r*d-l*f,g=l*h-a*d,v=a*f-r*h,b=r*v-l*g,x=l*_-a*v,w=a*g-r*_,E=c*2;return _*=E,g*=E,v*=E,b*=2,x*=2,w*=2,e[0]=h+_+b,e[1]=f+g+x,e[2]=d+v+w,e}function c5(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0],l[1]=r[1]*Math.cos(a)-r[2]*Math.sin(a),l[2]=r[1]*Math.sin(a)+r[2]*Math.cos(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function h5(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[2]*Math.sin(a)+r[0]*Math.cos(a),l[1]=r[1],l[2]=r[2]*Math.cos(a)-r[0]*Math.sin(a),e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function f5(e,t,n,a){var r=[],l=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],l[0]=r[0]*Math.cos(a)-r[1]*Math.sin(a),l[1]=r[0]*Math.sin(a)+r[1]*Math.cos(a),l[2]=r[2],e[0]=l[0]+n[0],e[1]=l[1]+n[1],e[2]=l[2]+n[2],e}function d5(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2],f=Math.sqrt(n*n+a*a+r*r),d=Math.sqrt(l*l+c*c+h*h),_=f*d,g=_&&k0(e,t)/_;return Math.acos(Math.min(Math.max(g,-1),1))}function m5(e){return e[0]=0,e[1]=0,e[2]=0,e}function _5(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function p5(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function y5(e,t){var n=e[0],a=e[1],r=e[2],l=t[0],c=t[1],h=t[2];return Math.abs(n-l)<=jt*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-c)<=jt*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(r-h)<=jt*Math.max(1,Math.abs(r),Math.abs(h))}var g5=Kx,v5=Ix,b5=Jx,x5=Wx,E5=tE,iE=$x,w5=eE,T5=function(){var e=q0();return function(t,n,a,r,l,c){var h,f;for(n||(n=3),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],l(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2];return t}}();function M5(){var e=new me(4);return me!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function S5(e){var t=new me(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function A5(e,t,n,a){var r=new me(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=a,r}function O5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function z5(e,t,n,a,r){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e}function R5(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function C5(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function D5(e){var t=e[0],n=e[1],a=e[2],r=e[3];return Math.hypot(t,n,a,r)}function U5(e){var t=e[0],n=e[1],a=e[2],r=e[3];return t*t+n*n+a*a+r*r}function L5(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n*n+a*a+r*r+l*l;return c>0&&(c=1/Math.sqrt(c)),e[0]=n*c,e[1]=a*c,e[2]=r*c,e[3]=l*c,e}function N5(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function q5(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e[2]=c+a*(n[2]-c),e[3]=h+a*(n[3]-h),e}function k5(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function B5(e,t){var n=e[0],a=e[1],r=e[2],l=e[3],c=t[0],h=t[1],f=t[2],d=t[3];return Math.abs(n-c)<=jt*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-h)<=jt*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(r-f)<=jt*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(l-d)<=jt*Math.max(1,Math.abs(l),Math.abs(d))}(function(){var e=M5();return function(t,n,a,r,l,c){var h,f;for(n||(n=4),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],e[2]=t[h+2],e[3]=t[h+3],l(e,e,c),t[h]=e[0],t[h+1]=e[1],t[h+2]=e[2],t[h+3]=e[3];return t}})();function v0(){var e=new me(4);return me!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function H5(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function aE(e,t,n){n=n*.5;var a=Math.sin(n);return e[0]=a*t[0],e[1]=a*t[1],e[2]=a*t[2],e[3]=Math.cos(n),e}function V5(e,t){var n=Math.acos(t[3])*2,a=Math.sin(n/2);return a>jt?(e[0]=t[0]/a,e[1]=t[1]/a,e[2]=t[2]/a):(e[0]=1,e[1]=0,e[2]=0),n}function j5(e,t){var n=cE(e,t);return Math.acos(2*n*n-1)}function sE(e,t,n){var a=t[0],r=t[1],l=t[2],c=t[3],h=n[0],f=n[1],d=n[2],_=n[3];return e[0]=a*_+c*h+r*d-l*f,e[1]=r*_+c*f+l*h-a*d,e[2]=l*_+c*d+a*f-r*h,e[3]=c*_-a*h-r*f-l*d,e}function F5(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f+c*h,e[1]=r*f+l*h,e[2]=l*f-r*h,e[3]=c*f-a*h,e}function P5(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f-l*h,e[1]=r*f+c*h,e[2]=l*f+a*h,e[3]=c*f-r*h,e}function Y5(e,t,n){n*=.5;var a=t[0],r=t[1],l=t[2],c=t[3],h=Math.sin(n),f=Math.cos(n);return e[0]=a*f+r*h,e[1]=r*f-a*h,e[2]=l*f+c*h,e[3]=c*f-l*h,e}function X5(e,t){var n=t[0],a=t[1],r=t[2];return e[0]=n,e[1]=a,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-a*a-r*r)),e}function rE(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=Math.sqrt(n*n+a*a+r*r),h=Math.exp(l),f=c>0?h*Math.sin(c)/c:0;return e[0]=n*f,e[1]=a*f,e[2]=r*f,e[3]=h*Math.cos(c),e}function oE(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=Math.sqrt(n*n+a*a+r*r),h=c>0?Math.atan2(c,l)/c:0;return e[0]=n*h,e[1]=a*h,e[2]=r*h,e[3]=.5*Math.log(n*n+a*a+r*r+l*l),e}function G5(e,t,n){return oE(e,t),uE(e,e,n),rE(e,e),e}function Af(e,t,n,a){var r=t[0],l=t[1],c=t[2],h=t[3],f=n[0],d=n[1],_=n[2],g=n[3],v,b,x,w,E;return b=r*f+l*d+c*_+h*g,b<0&&(b=-b,f=-f,d=-d,_=-_,g=-g),1-b>jt?(v=Math.acos(b),x=Math.sin(v),w=Math.sin((1-a)*v)/x,E=Math.sin(a*v)/x):(w=1-a,E=a),e[0]=w*r+E*f,e[1]=w*l+E*d,e[2]=w*c+E*_,e[3]=w*h+E*g,e}function Z5(e){var t=fo(),n=fo(),a=fo(),r=Math.sqrt(1-t),l=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=l*Math.sin(2*Math.PI*a),e[3]=l*Math.cos(2*Math.PI*a),e}function Q5(e,t){var n=t[0],a=t[1],r=t[2],l=t[3],c=n*n+a*a+r*r+l*l,h=c?1/c:0;return e[0]=-n*h,e[1]=-a*h,e[2]=-r*h,e[3]=l*h,e}function $5(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function lE(e,t){var n=t[0]+t[4]+t[8],a;if(n>0)a=Math.sqrt(n+1),e[3]=.5*a,a=.5/a,e[0]=(t[5]-t[7])*a,e[1]=(t[6]-t[2])*a,e[2]=(t[1]-t[3])*a;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);var l=(r+1)%3,c=(r+2)%3;a=Math.sqrt(t[r*3+r]-t[l*3+l]-t[c*3+c]+1),e[r]=.5*a,a=.5/a,e[3]=(t[l*3+c]-t[c*3+l])*a,e[l]=(t[l*3+r]+t[r*3+l])*a,e[c]=(t[c*3+r]+t[r*3+c])*a}return e}function K5(e,t,n,a){var r=.5*Math.PI/180;t*=r,n*=r,a*=r;var l=Math.sin(t),c=Math.cos(t),h=Math.sin(n),f=Math.cos(n),d=Math.sin(a),_=Math.cos(a);return e[0]=l*f*_-c*h*d,e[1]=c*h*_+l*f*d,e[2]=c*f*d-l*h*_,e[3]=c*f*_+l*h*d,e}function I5(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var J5=S5,W5=A5,t6=O5,e6=z5,n6=R5,i6=sE,uE=C5,cE=N5,a6=q5,hE=D5,s6=hE,fE=U5,r6=fE,B0=L5,o6=k5,l6=B5,u6=function(){var e=q0(),t=g0(1,0,0),n=g0(0,1,0);return function(a,r,l){var c=k0(r,l);return c<-.999999?(Sf(e,t,r),iE(e)<1e-6&&Sf(e,n,r),nE(e,e),aE(a,e,Math.PI),a):c>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(Sf(e,r,l),a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=1+c,B0(a,a))}}(),c6=function(){var e=v0(),t=v0();return function(n,a,r,l,c,h){return Af(e,a,c,h),Af(t,r,l,h),Af(n,e,t,2*h*(1-h)),n}}(),h6=function(){var e=WR();return function(t,n,a,r){return e[0]=a[0],e[3]=a[1],e[6]=a[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],B0(t,lE(t,e))}}(),dE={};hd(dE,{add:()=>p6,angle:()=>q6,ceil:()=>y6,clone:()=>f6,copy:()=>m6,create:()=>mE,cross:()=>O6,dist:()=>X6,distance:()=>gE,div:()=>Y6,divide:()=>yE,dot:()=>A6,equals:()=>V6,exactEquals:()=>H6,floor:()=>g6,forEach:()=>Q6,fromValues:()=>d6,inverse:()=>M6,len:()=>j6,length:()=>bE,lerp:()=>z6,max:()=>b6,min:()=>v6,mul:()=>P6,multiply:()=>pE,negate:()=>T6,normalize:()=>S6,random:()=>R6,rotate:()=>N6,round:()=>x6,scale:()=>E6,scaleAndAdd:()=>w6,set:()=>_6,sqrDist:()=>G6,sqrLen:()=>Z6,squaredDistance:()=>vE,squaredLength:()=>xE,str:()=>B6,sub:()=>F6,subtract:()=>_E,transformMat2:()=>C6,transformMat2d:()=>D6,transformMat3:()=>U6,transformMat4:()=>L6,zero:()=>k6});function mE(){var e=new me(2);return me!=Float32Array&&(e[0]=0,e[1]=0),e}function f6(e){var t=new me(2);return t[0]=e[0],t[1]=e[1],t}function d6(e,t){var n=new me(2);return n[0]=e,n[1]=t,n}function m6(e,t){return e[0]=t[0],e[1]=t[1],e}function _6(e,t,n){return e[0]=t,e[1]=n,e}function p6(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function _E(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function pE(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function yE(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function y6(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function g6(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function v6(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function b6(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function x6(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function E6(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function w6(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e}function gE(e,t){var n=t[0]-e[0],a=t[1]-e[1];return Math.hypot(n,a)}function vE(e,t){var n=t[0]-e[0],a=t[1]-e[1];return n*n+a*a}function bE(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function xE(e){var t=e[0],n=e[1];return t*t+n*n}function T6(e,t){return e[0]=-t[0],e[1]=-t[1],e}function M6(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function S6(e,t){var n=t[0],a=t[1],r=n*n+a*a;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e}function A6(e,t){return e[0]*t[0]+e[1]*t[1]}function O6(e,t,n){var a=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=a,e}function z6(e,t,n,a){var r=t[0],l=t[1];return e[0]=r+a*(n[0]-r),e[1]=l+a*(n[1]-l),e}function R6(e,t){t=t||1;var n=fo()*2*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function C6(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[2]*r,e[1]=n[1]*a+n[3]*r,e}function D6(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[2]*r+n[4],e[1]=n[1]*a+n[3]*r+n[5],e}function U6(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[3]*r+n[6],e[1]=n[1]*a+n[4]*r+n[7],e}function L6(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[4]*r+n[12],e[1]=n[1]*a+n[5]*r+n[13],e}function N6(e,t,n,a){var r=t[0]-n[0],l=t[1]-n[1],c=Math.sin(a),h=Math.cos(a);return e[0]=r*h-l*c+n[0],e[1]=r*c+l*h+n[1],e}function q6(e,t){var n=e[0],a=e[1],r=t[0],l=t[1],c=Math.sqrt(n*n+a*a)*Math.sqrt(r*r+l*l),h=c&&(n*r+a*l)/c;return Math.acos(Math.min(Math.max(h,-1),1))}function k6(e){return e[0]=0,e[1]=0,e}function B6(e){return"vec2("+e[0]+", "+e[1]+")"}function H6(e,t){return e[0]===t[0]&&e[1]===t[1]}function V6(e,t){var n=e[0],a=e[1],r=t[0],l=t[1];return Math.abs(n-r)<=jt*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(a-l)<=jt*Math.max(1,Math.abs(a),Math.abs(l))}var j6=bE,F6=_E,P6=pE,Y6=yE,X6=gE,G6=vE,Z6=xE,Q6=function(){var e=mE();return function(t,n,a,r,l,c){var h,f;for(n||(n=2),a||(a=0),r?f=Math.min(r*n+a,t.length):f=t.length,h=a;h<f;h+=n)e[0]=t[h],e[1]=t[h+1],l(e,e,c),t[h]=e[0],t[h+1]=e[1];return t}}(),Ui,ul,hn,cl,Jn,nd,Rc,Cc,hl,Dc,fl,Uc,Hi,EE,wE,TE,ME,c2,$6=(c2=class extends z0{constructor(t,n="webgl",a){super();q(this,Hi);q(this,Ui);q(this,ul,null);q(this,hn,null);q(this,cl,null);q(this,Jn,null);H(this,"screen_distance",25);H(this,"scale_factor",1);H(this,"fake_alpha_enabled",!1);H(this,"fake_alpha_scale",1);q(this,nd,ha.fromValues(0,0,-1));q(this,Rc,ha.create());q(this,Cc,p0.create());q(this,hl,dE.create());q(this,Dc,ha.create());q(this,fl,y0.create());q(this,Uc,ha.create());let r=t.getContext(n,a);if(r===null)throw new Error(`Cannot create a ${n} context from canvas`);W(this,Ui,r),dt(this,Hi,wE).call(this),dt(this,Hi,TE).call(this),dt(this,Hi,ME).call(this)}get native(){return p(this,Ui)}set frame_buffer(t){W(this,cl,t)}drawFrameSection({frame_section:t}){W(this,Jn,t)}get meta_data(){var t;return((t=p(this,Jn))==null?void 0:t.meta_data)||null}drawXRFrame({xr_views:t,xr_viewports:n,frame_camera_transforms:a}){if(!p(this,Jn))return;let r=p(this,Ui);p(this,cl)!==null&&r.bindFramebuffer(r.FRAMEBUFFER,p(this,cl)),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);let l=r.getUniformLocation(p(this,hn),"size"),c=r.getUniformLocation(p(this,hn),"offset"),h=r.getUniformLocation(p(this,hn),"viewMatrix"),f=r.getUniformLocation(p(this,hn),"viewOffset"),d=r.getUniformLocation(p(this,hn),"projectionMatrix"),_=r.getUniformLocation(p(this,hn),"billboardMatrix"),g=r.getUniformLocation(p(this,hn),"fakeAlphaEnabled"),v=r.getUniformLocation(p(this,hn),"fakeAlphaScale");r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,p(this,ul)),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,p(this,Jn).pixels);let b=Math.atan(1/t[0].projectionMatrix[5])*2,x=n[0].width/n[0].height,w=this.scale_factor*this.screen_distance*Math.tan(b*.5),E=w*x,A=p(this,Jn).section.width/t.length,U=p(this,Jn).section.height;r.uniform2fv(l,[A,U]);let B=n.reduce((k,{width:z})=>k+z,0);for(let k=0;k<t.length;k++){let z=t[k],C=n[k],L=a[k];ha.set(p(this,Dc),L.position[0],L.position[1],L.position[2]),y0.set(p(this,fl),L.orientation[0],L.orientation[1],L.orientation[2],L.orientation[3]),ha.transformQuat(p(this,Uc),p(this,nd),p(this,fl)),ha.scaleAndAdd(p(this,Rc),p(this,Dc),p(this,Uc),this.screen_distance),p(this,hl)[0]=z.projectionMatrix[8],p(this,hl)[1]=z.projectionMatrix[9];let Q=dt(this,Hi,EE).call(this,p(this,Rc),E,w);r.uniform2fv(f,p(this,hl)),r.viewport(C.x,C.y,C.width,C.height),r.uniformMatrix4fv(h,!1,z.transform.inverse.matrix),r.uniformMatrix4fv(d,!1,z.projectionMatrix),r.uniformMatrix4fv(_,!1,Q),r.uniform1i(g,this.fake_alpha_enabled?1:0),r.uniform1f(v,this.fake_alpha_scale);let Z=C.x/B,K=p(this,Jn).section.left+Z*p(this,Jn).section.width;r.uniform2fv(c,[K,p(this,Jn).section.top]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}refreshSize(){}release(){let t=p(this,Ui);t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.bindFramebuffer(t.FRAMEBUFFER,null)}},Ui=new WeakMap,ul=new WeakMap,hn=new WeakMap,cl=new WeakMap,Jn=new WeakMap,nd=new WeakMap,Rc=new WeakMap,Cc=new WeakMap,hl=new WeakMap,Dc=new WeakMap,fl=new WeakMap,Uc=new WeakMap,Hi=new WeakSet,EE=function(t,n,a){return p0.fromRotationTranslationScale(p(this,Cc),p(this,fl),t,ha.fromValues(n,a,1)),p(this,Cc)},wE=function(){let t=p(this,Ui),n=`
            attribute vec2 position;
            varying vec2 texCoord;

            uniform mat4 viewMatrix;
            uniform mat4 projectionMatrix;
            uniform vec2 scale;
            uniform mat4 billboardMatrix;

            uniform vec2 size;
            uniform vec2 offset;
            uniform vec2 viewOffset;

            void main() {
                texCoord = (position + 1.0) * 0.5;
                texCoord.y = 1.0 - texCoord.y;
                texCoord = size * texCoord + offset;
                gl_Position = projectionMatrix * viewMatrix * billboardMatrix * vec4(position + viewOffset, 0.0, 1.0);
            }`,a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,n),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+t.getShaderInfoLog(a));let r=`
            precision mediump float;
            varying vec2 texCoord;
            uniform sampler2D texture;
            uniform int fakeAlphaEnabled;
            uniform float fakeAlphaScale;

            float luminance(vec3 color) {
                // sRGB luminance approximation
                return dot(color, vec3(0.299, 0.587, 0.114));
            }

            void main() {
                gl_FragColor = texture2D(texture, texCoord);
                if(fakeAlphaEnabled == 1) {
                    // Use luminance to determine alpha so values close to dark are transparent and smoothly fade
                    // to prevent noise around object's edges
                    float luma = luminance(gl_FragColor.rgb);
                    float alpha = smoothstep(0.02, 0.1, luma);
                    gl_FragColor.a = alpha;

                    // remap [0..1]  [0..fakeAlphaScale] to see through opaque objects in AR
                    if(fakeAlphaScale < 1.0) {
                        gl_FragColor.a *= fakeAlphaScale;
                    }

                    // Premultiply RGB by alpha to avoid color bleeding on transparent edges
                    // (required for correct blending in compositing / XR rendering)
                    gl_FragColor.rgb *= alpha;
                }
            }`,l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,r),t.compileShader(l),t.getShaderParameter(l,t.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+t.getShaderInfoLog(l));let c=t.createProgram();t.attachShader(c,a),t.attachShader(c,l),t.linkProgram(c),t.useProgram(c),t.getProgramParameter(c,t.LINK_STATUS)||console.error("Program failed to compile: "+t.getProgramInfoLog(c)),t.useProgram(c),W(this,hn,c)},TE=function(){let t=p(this,Ui),n=t.createBuffer(),a=new Float32Array([1,1,-1,1,1,-1,-1,-1]);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,a,t.STATIC_DRAW);let r=t.getAttribLocation(p(this,hn),"position");t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0)},ME=function(){let t=p(this,Ui);W(this,ul,t.createTexture()),t.bindTexture(t.TEXTURE_2D,p(this,ul)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null);let n=t.getUniformLocation(p(this,hn),"texture");t.uniform1i(n,0)},c2);function K6(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}var Lc,Nc,Li,tn,qc,kc,dl,mi,Un,Me,ml,_l,ys,or,pl,je,SE,AE,lr,ur,yl,OE,zE,RE,b0,CE,gl,I6=(gl=class{constructor(t=1){q(this,je);H(this,"cameras_origin",null);q(this,Lc);q(this,Nc);q(this,Li,null);q(this,tn);q(this,qc,1.5);q(this,kc);q(this,dl);q(this,mi,[]);q(this,Un);q(this,Me,null);q(this,ml,"inline");q(this,_l,!1);q(this,ys,null);q(this,or,[]);q(this,pl,0);q(this,lr,t=>{if(!this.cameras_origin)return;let n=new en().fromArray(this.cameras_origin.position),a=new Gs().fromArray(this.cameras_origin.orientation),r=new en().fromArray(this.cameras_origin.scale),l=new bl().compose(n,a,r).invert(),c=a.conjugate();for(let h of t){let{position:f,orientation:d}=h.global_transform,_=new en().fromArray(f);_.applyMatrix4(l),_.toArray(f);let g=new Gs().fromArray(d);new Gs().multiplyQuaternions(c,g).toArray(d)}});q(this,ur,t=>{if(!this.cameras_origin)return;let n=new en().fromArray(this.cameras_origin.position),a=new Gs().fromArray(this.cameras_origin.orientation),r=new en().fromArray(this.cameras_origin.scale),l=new bl().compose(n,a,r);for(let c of t){let{position:h,orientation:f}=c,d=new en().fromArray(h);d.applyMatrix4(l),d.toArray(h);let _=new Gs().fromArray(f);new Gs().multiplyQuaternions(a,_).toArray(f)}});q(this,yl,(t,n)=>{var d;let a=p(this,Me),r=a.renderState.baseLayer,l=(d=n.getViewerPose(p(this,ys)))==null?void 0:d.views;if(!l){a.requestAnimationFrame(p(this,yl));return}let c=[...l],h=[];c.forEach(_=>{h.push(r.getViewport(_))}),p(this,_l)&&(c=c.splice(0,1),h=h.splice(0,1)),dt(this,je,CE).call(this,h)&&(console.error("XRViewports have changed, ending the XRSession"),a.end()),dt(this,je,OE).call(this,c),p(this,lr).call(this,p(this,tn).cameras);let f=h.map((_,g)=>{let v=p(this,tn).viewports[g],{world_position:b,world_orientation:x}=v.camera_projection;return{position:Array.from(b),orientation:Array.from(x)}});p(this,ur).call(this,f),p(this,Un).drawXRFrame({xr_views:c,xr_viewports:h,frame_camera_transforms:f}),a.requestAnimationFrame(p(this,yl))});W(this,tn,new cA({width:window.innerWidth,height:window.innerHeight,context_constructor:$6,context_type:"webgl",context_options:{xrCompatible:!0},resolution_scale:t})),W(this,Un,p(this,tn).context),W(this,Lc,p(this,lr)),W(this,Nc,p(this,ur))}static async isSessionSupported(t){if(!navigator.xr)return!1;let n=navigator.xr.isSessionSupported||navigator.xr.supportsSession;return n?await n.call(navigator.xr,t).catch(console.warn)??!1:!1}get session(){return p(this,Me)}get mode(){return p(this,ml)}get reference_space(){return p(this,ys)}get is_stereo_vision(){return p(this,or).length===2}set overriden_near_plane(t){W(this,kc,t)}set cameras_origin_transform_enabled(t){t?(W(this,lr,p(this,Lc)),W(this,ur,p(this,Nc))):(W(this,lr,()=>{}),W(this,ur,()=>{}))}async release(){if(p(this,Me)&&(this.stop(),await p(this,Me).end().catch(t=>console.warn("Could not end XR session:",t))),p(this,Li))for(let{livelink_viewport:t}of p(this,mi))p(this,Li).removeViewport({viewport:t});p(this,tn).release()}get fakeAlpha(){return p(this,Un).fake_alpha_enabled}set fakeAlpha(t){p(this,Un).fake_alpha_enabled=t}get fakeAlphaScale(){return p(this,Un).fake_alpha_scale}set fakeAlphaScale(t){if(t<0||t>1)throw new Error("Fake alpha scale must be between 0 and 1");p(this,Un).fake_alpha_scale=t}async initialize(t,{xrSessionInit:n={},forceSingleView:a=!1}){var c;if(W(this,ml,t),W(this,_l,a),!gl.isSessionSupported(t))throw new Error(`WebXR "${t}" not supported`);p(this,Me)&&(console.warn("Releasing previous XR session"),await this.release());let r=["local-floor","local"],l;for(let h of r){let f=h?{...n,requiredFeatures:[...n.requiredFeatures||[],h]}:n;try{W(this,Me,await navigator.xr.requestSession(t,f)),await this.updateRenderState(),await this.setReferenceSpaceType(h);break}catch(d){console.warn("Failed to request XR session",{spaceType:h,requiredFeatures:f.requiredFeatures},d),(c=p(this,Me))==null||c.end(),l=d}}if(!p(this,Me))throw l;return p(this,Me)}async configureViewports(t,n=!1){p(this,Li)&&this.releaseLivelinkViewports(),W(this,Li,t);let a=await dt(this,je,SE).call(this);a.length>2&&console.error("WebXRHelper doesn't support more than 2 eyes yet"),dt(this,je,zE).call(this,a),n&&dt(this,je,AE).call(this,a);let r=p(this,ml)==="immersive-ar";this.fakeAlpha=r;let l=r?{grid:!1,displayBackground:!1}:void 0;p(this,Li).addViewports({viewports:p(this,mi).map(({livelink_viewport:c})=>c)});for(let c in p(this,mi)){let{xr_view:h,xr_viewport:f,livelink_viewport:d}=p(this,mi)[c];await dt(this,je,RE).call(this,{index:c,xr_view:h,xr_viewport:f,viewport:d,dataJSON:l})}}start(){p(this,Me).requestAnimationFrame(p(this,yl))}stop(){p(this,pl)&&p(this,Me)&&p(this,Me).cancelAnimationFrame(p(this,pl))}async setReferenceSpaceType(t="local"){return W(this,ys,await p(this,Me).requestReferenceSpace(t).catch(async n=>{throw console.error(`Failed to request XR reference space of type ${t}:`,n),n})),p(this,ys)}async updateRenderState(t={}){let n=p(this,Me),a=new XRWebGLLayer(n,p(this,Un).native,t);await n.updateRenderState({baseLayer:a}),p(this,Un).frame_buffer=a.framebuffer,p(this,tn).resize(a.framebufferWidth,a.framebufferHeight)}releaseLivelinkViewports(){for(let t of p(this,mi))p(this,tn).removeViewport({viewport:t.livelink_viewport});p(this,mi).length=0}get resolution_scale(){return p(this,tn).resolution_scale}set resolution_scale(t){p(this,tn).resolution_scale=t}},Lc=new WeakMap,Nc=new WeakMap,Li=new WeakMap,tn=new WeakMap,qc=new WeakMap,kc=new WeakMap,dl=new WeakMap,mi=new WeakMap,Un=new WeakMap,Me=new WeakMap,ml=new WeakMap,_l=new WeakMap,ys=new WeakMap,or=new WeakMap,pl=new WeakMap,je=new WeakSet,SE=function(){let{promise:t,resolve:n,reject:a}=K6(),r=200,l=async(c,h)=>{var d;let f=(d=h.getViewerPose(p(this,ys)))==null?void 0:d.views;if(!f){--r>0?p(this,Me).requestAnimationFrame(l):a(new Error("Failed to get XR views."));return}p(this,_l)&&f.length>1?(console.log("WebXRHelper: forcing single view"),n(f.slice(0,1))):n(f)};return W(this,pl,p(this,Me).requestAnimationFrame(l)),t},AE=function(t){p(this,Un).scale_factor=p(this,qc);let n=t[0].projectionMatrix[5],a=2*Math.atan(1/n),r=2*Math.atan(Math.tan(a/2)*p(this,qc));W(this,dl,r*(180/Math.PI)),`${p(this,dl)}${p(this,Un).scale_factor}${p(this,tn).resolution_scale}`},lr=new WeakMap,ur=new WeakMap,yl=new WeakMap,OE=function(t){p(this,tn).cameras.forEach((n,a)=>{let r=t[a],{position:l,orientation:c}=r.transform,{livelink_viewport:h}=p(this,mi)[a],f=[l.x,l.y,l.z],d=[c.x,c.y,c.z,c.w];n.local_transform={position:f,orientation:d};let _=dt(this,je,b0).call(this,r.projectionMatrix,h.width,h.height),{aspectRatio:g,fovy:v,nearPlane:b,farPlane:x,offset:w}=_;(!n.perspective_lens||n.perspective_lens.aspectRatio!==g||n.perspective_lens.fovy!==v||n.perspective_lens.nearPlane!==b||n.perspective_lens.farPlane!==x||n.perspective_lens.offset!==w)&&(n.perspective_lens=_)})},zE=function(t){let n=p(this,Me).renderState.baseLayer,a=t.map(c=>({view:c,viewport:n.getViewport(c)})),r=a.map(c=>c.viewport);W(this,or,r);let l=a.every(({viewport:c})=>c.x<=1&&c.y<=1&&c.width<=1&&c.height<=1);for(let c of a){let h=c.viewport,f=new Ea(l?{left:h.x,top:h.y,width:h.width,height:h.height}:{left:h.x/n.framebufferWidth,top:h.y/n.framebufferHeight,width:h.width/n.framebufferWidth,height:h.height/n.framebufferHeight});`${c.view.eye}`;let d=new xb({core:p(this,Li),rendering_surface:p(this,tn),options:{rect:f}});p(this,mi).push({xr_view:c.view,xr_viewport:h,livelink_viewport:d})}},RE=async function({index:t,xr_view:n,xr_viewport:a,viewport:r,dataJSON:l}){var h;let c=await p(this,Li).scene.newEntity({name:`XR_camera_${n.eye}_${t}`,components:{local_transform:{},perspective_lens:dt(this,je,b0).call(this,n.projectionMatrix,r.width,r.height),camera:{renderGraphRef:"398ee642-030a-45e7-95df-7147f6c43392",dataJSON:l},tags:{value:[`viewport_x = ${a.x.toString()}`,`viewport_y = ${a.y.toString()}`,`viewport_width = ${a.width.toString()}`,`viewport_height = ${a.height.toString()}`,`recommanded_scale = ${((h=n.recommendedViewportScale)==null?void 0:h.toString())||"?"}`]}},options:{delete_on_client_disconnection:!0,auto_broadcast:!1}});r.camera_projection=new Vb({camera_entity:c,viewport:r}),`${n.eye}`},b0=function(t,n,a){let r=n/a,l=p(this,dl)??Math.atan(1/t[5])*(180/Math.PI)*2,c=t[14]/(t[10]-1);this.is_stereo_vision&&this.cameras_origin&&this.cameras_origin.scale[0]!==1&&(c*=1/this.cameras_origin.scale[0]);let h=t[14]/(t[10]+1),f=[t[8],t[9]*-1];return{fovy:l,aspectRatio:r,nearPlane:p(this,kc)||c,farPlane:h,offset:f}},CE=function(t){return p(this,or).length===0?!0:t.some((n,a)=>{let r=p(this,or)[a];return r?r.width!==n.width||r.height!==n.height||r.x!==n.x||r.y!==n.y:!0})},gl),J6=mt.createContext({webXRHelper:null,xrSession:null});function W6({children:e,mode:t,resolutionScale:n=1,requiredFeatures:a=[],optionalFeatures:r=[],forceSingleView:l,domOverlayRoot:c,onSessionEnd:h}){let{instance:f}=mt.useContext(Es),d=mt.useRef(null),_=mt.useMemo(()=>new I6(n),[t,a.join("-"),r.join("-"),l,c]),g=mt.useRef(null),[v,b]=mt.useState(null);return mt.useEffect(()=>{_&&(_.resolution_scale=n)},[_,n]),mt.useEffect(()=>{if(!(!v||!h))return v.addEventListener("end",h),()=>{v.removeEventListener("end",h)}},[v,h]),mt.useEffect(()=>{let x=c||d.current;if(!(!x||!f))return g.current||(g.current=_.initialize(t,{xrSessionInit:{requiredFeatures:a,optionalFeatures:["dom-overlay",...r],domOverlay:{root:x}},forceSingleView:l}).then(w=>(b(w),_.configureViewports(f,!0))).then(()=>{_.start(),g.current=null})),()=>{_.release()}},[_,f]),St.createElement(J6.Provider,{value:{webXRHelper:_,xrSession:v}},c?St.createElement(St.Fragment,null,e):St.createElement("div",{"data-role":"webxr-dom-overlay",ref:d},e))}typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-webxr")?console.warn(" WARNING  Multiple instances of Livelink WebXR being imported."):window.__LIVELINK__["@3dverse/livelink-webxr"]="0.1.7");const tD="public_Knb9Mdj-Ppg6rOHn",eD="4862a090-0a16-4f6e-bb6d-14e3d2c8ec5f",nD="d834c10f-765d-41b5-9a75-be74e599f78d",iD="548bfcc7-830a-42f7-8a4d-b63d23c7b2cf";function aD(){const[e,t]=mt.useState(!0),[n,a]=mt.useState(!1);return e?be.jsx(sD,{onProceed:()=>t(!1)}):n?be.jsx(mA,{sceneId:eD,token:tD,LoadingPanel:YR,isTransient:!0,autoJoinExisting:!1,children:be.jsx(oD,{})}):be.jsx(rD,{onStart:()=>a(!0)})}function sD({onProceed:e}){const t=()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen();const n=new(window.AudioContext||window.webkitAudioContext);n.state==="suspended"&&n.resume(),e()};return be.jsxs("div",{style:{backgroundColor:"#000000",width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:t,children:[be.jsx("div",{style:{background:"linear-gradient(to bottom, #007777, black)",fontSize:"5rem",fontFamily:"'Cinzel', serif",textAlign:"center",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Le Miroir des Cendres"}),be.jsx("div",{style:{color:"aqua",background:"linear-gradient(to bottom, grey, black)",fontSize:"5rem",fontFamily:"'Cinzel', serif",textAlign:"center",transform:"scaleY(-1)",opacity:.3,marginTop:"0.5rem",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Le Miroir des Cendres"})]})}function rD({onStart:e}){const[t,n]=mt.useState("brightness(1) contrast(1)");mt.useEffect(()=>{const r=()=>{n("brightness(1.5) contrast(1.5)"),setTimeout(()=>n("brightness(0.8) contrast(0.8)"),100),setTimeout(()=>n("brightness(1.3) contrast(1.3)"),200),setTimeout(()=>n("brightness(1) contrast(1)"),300)};let l=0;const c=h=>{const f=Math.random()*25e3+5e3;l=setTimeout(()=>{r(),c(f)},h)};return c(Math.random()*2e3+1e3),()=>clearTimeout(l)},[]);const a=()=>{document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen();const r=new(window.AudioContext||window.webkitAudioContext);r.state==="suspended"&&r.resume(),e()};return be.jsx("div",{style:{backgroundImage:`url(${I3})`,backgroundSize:"contain",backgroundPosition:"center",width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",display:"flex",justifyContent:"flex-start",alignItems:"flex-end",padding:"2rem",backdropFilter:"blur(5px)",backgroundColor:"rgba(0, 0, 0, 0.5)",filter:t,transition:"filter 0.3s ease-in-out"},children:be.jsxs("div",{style:{marginLeft:"5rem",marginBottom:"5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[be.jsx("span",{onClick:a,style:{fontSize:"1.5rem",cursor:"pointer",color:"#fff",textShadow:"1px 1px 2px black",transition:"color 0.3s ease, text-shadow 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.color="#ff0000",r.currentTarget.style.textShadow="2px 2px 5px red"},onMouseLeave:r=>{r.currentTarget.style.color="#fff",r.currentTarget.style.textShadow="1px 1px 2px black"},children:"Start Game"}),be.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",borderRadius:"8px",fontSize:"1rem",textAlign:"center",lineHeight:"1.5"},children:[be.jsx("strong",{children:"Controls:"}),be.jsx("br",{}),"WASD + Mouse to move",be.jsx("br",{}),"E to interact"]})]})})}function oD(){const{instance:e}=mt.useContext(Es),{entity:t}=yA({euid:"9ce50d52-db44-4c29-a1a6-9a4e84625390"});mt.useEffect(()=>{if(!t)return;function f(d){console.log("Received start dialogue event",d)}t.addScriptEventListener({event_map_id:"eafb9834-194a-47cc-8a01-02d878e0cea9",event_name:"start_dialogue",onReceived:f})},[t]),mt.useEffect(()=>{if(!e)return;async function f(d){const _=await d.scene.findEntity({entity_uuid:iD});if(!_){console.error("Starting point entity not found");return}const v=await(await d.scene.newEntity({name:"PlayerSceneEntity",components:{local_transform:{position:_.global_transform.position},scene_ref:{value:nD}},options:{delete_on_client_disconnection:!0}})).getChildren(),b=v.find(w=>w.script_map!==void 0),x=v.find(w=>w.camera!==void 0);console.log("Assigning client to scripts"),b&&d.session.client_id&&b.assignClientToScripts({client_uuid:d.session.client_id}),a(!0),l(x??null)}f(e)},[e]);const[n,a]=mt.useState(!1),[r,l]=mt.useState(null),[c,h]=mt.useState(!1);return c?be.jsx(W6,{mode:"immersive-vr"}):be.jsx(gA,{width:"100vw",height:"100vh",children:be.jsxs(bA,{cameraEntity:r,style:{width:"100%",height:"100%"},children:[n&&be.jsx(lD,{}),tT()&&be.jsx($R,{}),be.jsx("button",{style:{position:"absolute",top:"10px",right:"10px",padding:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},onClick:()=>{h(!0)},children:"Enter VR"})]})})}function lD(){const{instance:e}=mt.useContext(Es),{viewport:t,viewportDomElement:n}=mt.useContext(Rf);return mt.useEffect(()=>{!e||!t||!n||(console.log("Setting up controller"),n.requestPointerLock&&n.requestPointerLock(),e.devices.keyboard.enable(),e.devices.gamepads_registry.enable(),e.devices.mouse.enableOnViewport({viewport:t}),e.startSimulation())},[e,n]),mt.useEffect(()=>{var a,r;document.fullscreenElement===null&&((r=(a=document.documentElement).requestFullscreen)==null||r.call(a))},[]),null}K3.createRoot(document.getElementById("root")).render(be.jsx(aD,{}));
